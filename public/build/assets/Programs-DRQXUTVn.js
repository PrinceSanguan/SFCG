import{r as c,j as e,$ as je,S as t}from"./app-BgS8ro7o.js";import{S as ue,H as pe}from"./sidebar-BYYStR5A.js";import{C as ve,b as ge,c as Ne,a as Se}from"./card-Cjv7kUsc.js";import{B as r}from"./button-CvuOhZjM.js";import{I as l}from"./input-BLpu2ZgQ.js";import{L as a}from"./label-Bt2qMg2G.js";import{S as b,a as C,b as k,c as y,d as h}from"./select-Dy6ixzQS.js";import{T as fe,a as be,b as z,c as O}from"./tabs-CfjIRgY8.js";import{D as m,a as $,b as x,c as j,d as u,f as p}from"./dialog-C45iLFOK.js";import{A as Ce,a as ke}from"./alert-CgfY-lIn.js";import{A as ye}from"./arrow-left-zJPDnX6I.js";import{P as L}from"./plus-BAogv56M.js";/* empty css            */import"./dropdown-menu-BZa4I0vo.js";import"./Combination-Sr1zLID3.js";import"./index-CkQ78TBd.js";import"./separator-hUBIRKE0.js";import"./users-DHsmGV8l.js";import"./chevron-right-BJ3_j6hy.js";import"./crown-CPChTO81.js";import"./building-2-CC2u3U68.js";import"./user-cog-IIlcURcw.js";import"./book-open-B5R61RzH.js";import"./user-check-DgTqInVT.js";import"./graduation-cap-BEIUu79S.js";import"./notebook-Ck-7pBOd.js";import"./chart-no-axes-column-increasing-B09bJh6O.js";import"./index-RbB-5Oil.js";import"./index-CpesyujW.js";import"./check-DOjOwVg6.js";function as({user:G,academicLevels:M=[],departments:_=[],tracks:B=[],formErrors:H}){var K;const[Q,W]=c.useState("strands"),[T,I]=c.useState({name:"",code:"",is_active:!0}),[X,U]=c.useState(!1),[v,A]=c.useState(null),[n,D]=c.useState({name:"",code:"",academic_level_id:"",track_id:""}),[Y,R]=c.useState(!1),[i,g]=c.useState(null),[w,P]=c.useState({name:"",code:""}),[Z,q]=c.useState(!1),[N,F]=c.useState(null),[S,E]=c.useState({name:"",code:"",department_id:""}),[ee,J]=c.useState(!1),[o,f]=c.useState(null),se=()=>{t.post(route("registrar.academic.strands.store"),n,{preserveScroll:!0,onSuccess:()=>{D({name:"",code:"",academic_level_id:"",track_id:""}),R(!1)}})},ae=s=>{const d={name:s.name,code:s.code,academic_level_id:s.academic_level_id,track_id:s.track_id};t.put(route("registrar.academic.strands.update",s.id),d,{preserveScroll:!0,onSuccess:()=>g(null)})},re=s=>{confirm(`Delete strand ${s.name}?`)&&t.delete(route("registrar.academic.strands.destroy",s.id),{preserveScroll:!0})},le=()=>{t.post(route("registrar.academic.departments.store"),w,{preserveScroll:!0,onSuccess:()=>{P({name:"",code:""}),q(!1)}})},de=s=>{const d={name:s.name,code:s.code};t.put(route("registrar.academic.departments.update",s.id),d,{preserveScroll:!0,onSuccess:()=>F(null)})},ce=s=>{confirm(`Delete department ${s.name}?`)&&t.delete(route("registrar.academic.departments.destroy",s.id),{preserveScroll:!0})},te=()=>{t.post(route("registrar.academic.courses.store"),S,{preserveScroll:!0,onSuccess:()=>{E({name:"",code:"",department_id:""}),J(!1)}})},ie=s=>{const d={name:s.name,code:s.code,department_id:s.department_id};t.put(route("registrar.academic.courses.update",s.id),d,{preserveScroll:!0,onSuccess:()=>f(null)})},ne=s=>{confirm(`Delete course ${s.name}?`)&&t.delete(route("registrar.academic.courses.destroy",s.id),{preserveScroll:!0})},oe=()=>{t.post(route("registrar.academic.tracks.store"),T,{preserveScroll:!0,onSuccess:()=>{I({name:"",code:"",is_active:!0}),U(!1)}})},he=s=>{const d={name:s.name,code:s.code,is_active:s.is_active};t.put(route("registrar.academic.tracks.update",s.id),d,{preserveScroll:!0,onSuccess:()=>A(null)})},me=s=>{confirm(`Delete track ${s.name}?`)&&t.delete(route("registrar.academic.tracks.destroy",s.id),{preserveScroll:!0})};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(ue,{user:G}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(pe,{user:G}),e.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-4",children:e.jsx(je,{href:route("registrar.academic.index"),children:e.jsxs(r,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"})," Back to Academic & Curriculum"]})})}),e.jsxs(ve,{children:[e.jsx(ge,{children:e.jsx(Ne,{children:"Manage strands, courses, and departments"})}),e.jsx(Se,{children:e.jsxs(fe,{value:Q,onValueChange:W,children:[e.jsxs(be,{className:"grid w-full grid-cols-4",children:[e.jsx(z,{value:"strands",children:"Strands"}),e.jsx(z,{value:"tracks",children:"Tracks"}),e.jsx(z,{value:"departments",children:"Departments"}),e.jsx(z,{value:"courses",children:"Courses"})]}),e.jsxs(O,{value:"strands",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Academic Strands"}),e.jsxs(m,{open:Y,onOpenChange:R,children:[e.jsx($,{asChild:!0,children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Add Strand"]})}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Add new strand"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Strands are only available for Senior High School students as academic tracks (STEM, ABM, HUMSS, GAS)."]})}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"strand-name",children:"Name"}),e.jsx(l,{id:"strand-name",value:n.name,onChange:s=>D({...n,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"strand-code",children:"Code"}),e.jsx(l,{id:"strand-code",value:n.code,onChange:s=>D({...n,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"strand-track",children:"Track"}),e.jsxs(b,{value:n.track_id,onValueChange:s=>D({...n,track_id:s}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select track (optional)"})}),e.jsxs(y,{children:[e.jsx(h,{value:"",children:"No Track"}),B.map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tracks are optional groupings for strands"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"strand-level",children:"Academic Level"}),e.jsxs(b,{value:n.academic_level_id,onValueChange:s=>D({...n,academic_level_id:s}),disabled:!0,children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select academic level"})}),e.jsx(y,{children:M.filter(s=>s.key==="senior_highschool").map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Strands are automatically assigned to Senior High School"}),(H==null?void 0:H.academic_level_id)&&e.jsx(Ce,{variant:"destructive",children:e.jsx(ke,{children:H.academic_level_id})})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:se,children:"Save"})})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Track"}),e.jsx("th",{className:"text-left p-3",children:"Academic Level"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:M.flatMap(s=>s.strands).map(s=>{var d,V;return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:((d=s.track)==null?void 0:d.name)||"-"}),e.jsx("td",{className:"p-3",children:((V=M.find(xe=>xe.id===s.academic_level_id))==null?void 0:V.name)||"-"}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>g(s),children:"Edit"}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>re(s),children:"Delete"})]})})]},s.id)})})]})})]}),e.jsxs(O,{value:"tracks",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Academic Tracks"}),e.jsxs(m,{open:X,onOpenChange:U,children:[e.jsx($,{asChild:!0,children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"})," Add Track"]})}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Add new track"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Tracks are groupings for Senior High School strands (e.g., Academic Track, TVL Track, Arts & Design Track, Sports Track)."]})}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"track-name",children:"Name"}),e.jsx(l,{id:"track-name",value:T.name,onChange:s=>I({...T,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"track-code",children:"Code"}),e.jsx(l,{id:"track-code",value:T.code,onChange:s=>I({...T,code:s.target.value})})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:oe,children:"Save"})})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:B.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>A(s),children:"Edit"}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>me(s),children:"Delete"})]})})]},s.id))})]})})]}),e.jsxs(O,{value:"departments",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Departments"}),e.jsxs(m,{open:Z,onOpenChange:q,children:[e.jsx($,{asChild:!0,children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"})," Add Department"]})}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Add new department"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"dept-name",children:"Name"}),e.jsx(l,{id:"dept-name",value:w.name,onChange:s=>P({...w,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"dept-code",children:"Code"}),e.jsx(l,{id:"dept-code",value:w.code,onChange:s=>P({...w,code:s.target.value})})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:le,children:"Save"})})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:_.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>F(s),children:"Edit"}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>ce(s),children:"Delete"})]})})]},s.id))})]})})]}),e.jsxs(O,{value:"courses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Courses"}),e.jsxs(m,{open:ee,onOpenChange:J,children:[e.jsx($,{asChild:!0,children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"})," Add Course"]})}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Add new course"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"course-name",children:"Name"}),e.jsx(l,{id:"course-name",value:S.name,onChange:s=>E({...S,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"course-code",children:"Code"}),e.jsx(l,{id:"course-code",value:S.code,onChange:s=>E({...S,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"course-dept",children:"Department"}),e.jsxs(b,{value:S.department_id,onValueChange:s=>E({...S,department_id:s}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select department"})}),e.jsx(y,{children:_.map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:te,children:"Save"})})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Department"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:_.flatMap(s=>s.courses).map(s=>{var d;return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:((d=_.find(V=>V.id===s.department_id))==null?void 0:d.name)||"-"}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>f(s),children:"Edit"}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>ne(s),children:"Delete"})]})})]},s.id)})})]})})]})]})})]}),v&&e.jsx(m,{open:!!v,onOpenChange:s=>!s&&A(null),children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Edit track"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Tracks are groupings for Senior High School strands (e.g., Academic Track, TVL Track, Arts & Design Track, Sports Track)."]})}),e.jsxs("div",{children:[e.jsx(a,{children:"Name"}),e.jsx(l,{value:v.name,onChange:s=>A({...v,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Code"}),e.jsx(l,{value:v.code,onChange:s=>A({...v,code:s.target.value})})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:()=>he(v),children:"Save"})})]})}),i&&e.jsx(m,{open:!!i,onOpenChange:s=>!s&&g(null),children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Edit strand"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Strands are only available for Senior High School students as academic tracks (STEM, ABM, HUMSS, GAS)."]})}),e.jsxs("div",{children:[e.jsx(a,{children:"Name"}),e.jsx(l,{value:i.name,onChange:s=>g({...i,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Code"}),e.jsx(l,{value:i.code,onChange:s=>g({...i,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Track"}),e.jsxs(b,{value:((K=i.track_id)==null?void 0:K.toString())||"",onValueChange:s=>g({...i,track_id:s?Number(s):void 0}),children:[e.jsx(C,{children:e.jsx(k,{placeholder:"Select track (optional)"})}),e.jsxs(y,{children:[e.jsx(h,{value:"",children:"No Track"}),B.map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tracks are optional groupings for strands"})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Academic Level"}),e.jsxs(b,{value:i.academic_level_id.toString(),onValueChange:s=>g({...i,academic_level_id:Number(s)}),disabled:!0,children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsx(y,{children:M.filter(s=>s.key==="senior_highschool").map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Strands are automatically assigned to Senior High School"})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:()=>ae(i),children:"Save"})})]})}),N&&e.jsx(m,{open:!!N,onOpenChange:s=>!s&&F(null),children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Edit department"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Name"}),e.jsx(l,{value:N.name,onChange:s=>F({...N,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Code"}),e.jsx(l,{value:N.code,onChange:s=>F({...N,code:s.target.value})})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:()=>de(N),children:"Save"})})]})}),o&&e.jsx(m,{open:!!o,onOpenChange:s=>!s&&f(null),children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Edit course"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Name"}),e.jsx(l,{value:o.name,onChange:s=>f({...o,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Code"}),e.jsx(l,{value:o.code,onChange:s=>f({...o,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Department"}),e.jsxs(b,{value:o.department_id.toString(),onValueChange:s=>f({...o,department_id:Number(s)}),children:[e.jsx(C,{children:e.jsx(k,{})}),e.jsx(y,{children:_.map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]})]}),e.jsx(p,{children:e.jsx(r,{onClick:()=>ie(o),children:"Save"})})]})})]})]})]})}export{as as default};
