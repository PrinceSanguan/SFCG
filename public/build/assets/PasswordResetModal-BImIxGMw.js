import{r as a,j as s,S as P}from"./app-CWHRhZC4.js";import{B as o}from"./button-6DoD_zhE.js";import{I as w}from"./input-DxQZO8QI.js";import{L as j}from"./label-STe2S6_6.js";import{A as D,a as E}from"./alert-BBd9k0kD.js";import{D as R,b as k,c as A,d as F,f as L,e as q}from"./dialog-D6WJ_qnC.js";import{R as f,E as g}from"./rotate-ccw-CjsLg3Ei.js";import{E as b}from"./eye-N2FZIU0R.js";function G({user:i,isOpen:N,onClose:x,errors:t,routeName:v}){const[n,l]=a.useState(""),[d,c]=a.useState(""),[m,C]=a.useState(!1),[h,S]=a.useState(!1),[p,r]=a.useState(!1),y=e=>{e.preventDefault(),r(!0),P.post(route(v,i.id),{password:n,password_confirmation:d},{onSuccess:()=>{x(),l(""),c(""),r(!1)},onError:()=>{r(!1)},onFinish:()=>{r(!1)}})},u=()=>{l(""),c(""),x()};return s.jsx(R,{open:N,onOpenChange:u,children:s.jsxs(k,{className:"sm:max-w-md",children:[s.jsxs(A,{children:[s.jsxs(F,{className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-5 w-5"}),"Reset Password"]}),s.jsxs(L,{children:["Set a new password for ",s.jsx("strong",{children:i.name})," (",i.email,")"]})]}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(j,{htmlFor:"password",children:"New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{id:"password",type:m?"text":"password",value:n,onChange:e=>l(e.target.value),placeholder:"Enter new password",className:"pr-10",required:!0,minLength:8}),s.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!m),children:m?s.jsx(g,{className:"h-4 w-4"}):s.jsx(b,{className:"h-4 w-4"})})]}),(t==null?void 0:t.password)&&s.jsx(D,{variant:"destructive",children:s.jsx(E,{children:t.password})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(j,{htmlFor:"password_confirmation",children:"Confirm New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{id:"password_confirmation",type:h?"text":"password",value:d,onChange:e=>c(e.target.value),placeholder:"Confirm new password",className:"pr-10",required:!0,minLength:8}),s.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!h),children:h?s.jsx(g,{className:"h-4 w-4"}):s.jsx(b,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"rounded-md bg-blue-50 p-3 dark:bg-blue-900/20",children:[s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:s.jsx("strong",{children:"Password Requirements:"})}),s.jsxs("ul",{className:"mt-1 text-xs text-blue-700 dark:text-blue-300",children:[s.jsx("li",{children:"• At least 8 characters long"}),s.jsx("li",{children:"• Both passwords must match"})]})]}),s.jsxs(q,{className:"gap-2",children:[s.jsx(o,{type:"button",variant:"outline",onClick:u,disabled:p,children:"Cancel"}),s.jsxs(o,{type:"submit",disabled:p||!n||!d,className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-4 w-4"}),p?"Resetting...":"Reset Password"]})]})]})]})})}export{G as P};
