import{r as B,m as T,j as e,$ as Z}from"./app-B6ThCo1z.js";import{B as w}from"./button-CdIv7tp0.js";import{C as g,a as u,b as G,c as D}from"./card-BT3Gjkwb.js";import{L as c}from"./label-DooVXXNZ.js";import{S as d,a as n,b as o,c as m,d as l}from"./select-B7uG3hem.js";import{T as Y,a as ee,b as E,c as R}from"./tabs-B29xspNV.js";import{C as F}from"./checkbox-Be0ISt1A.js";import{S as se,H as ae}from"./sidebar-CAKpM1Xh.js";import{U as re}from"./users-CyBAtIqP.js";import{G as le}from"./graduation-cap-Dt_mJI_I.js";import{A as V}from"./award-8jn0i-sM.js";import{F as S}from"./file-text-DuvhBUNH.js";import{A as P,F as H,a as ce}from"./file-x-CM0iyCC5.js";import{D as U}from"./download-CVqJli9w.js";/* empty css            */import"./index-CiJIXWer.js";import"./Combination-C4RPyCUB.js";import"./index-BTmd5SEn.js";import"./index-DuaDgRB-.js";import"./check-DLcKnkWg.js";import"./dropdown-menu-BtEF_lWU.js";import"./separator-Bdc9SK5F.js";import"./chevron-right-qTTpMnAx.js";import"./crown-mkFI8zng.js";import"./building-2-BLXvt8Rb.js";import"./user-cog-D08WzxL0.js";import"./book-open-CGTvZLbR.js";import"./user-check-SqRFXSDN.js";import"./notebook-B0BA_vZg.js";import"./chart-no-axes-column-increasing-BkVn6ZnZ.js";function Pe({user:I,academicLevels:A,schoolYears:v,gradingPeriods:$,honorTypes:X,stats:C}){const[z,J]=B.useState("grade-reports"),[f,N]=B.useState(!1),{data:h,setData:b,processing:L}=T({academic_level_id:"all",grading_period_id:"all",school_year:v[0]||"",format:"pdf",include_statistics:"1"}),{data:y,setData:k,processing:O}=T({academic_level_id:"all",school_year:v[0]||"",honor_type_id:"all",format:"pdf"}),{data:p,setData:_,processing:q}=T({academic_level_id:"",school_year:v[0]||"",include_grades:"1",include_honors:"1",include_certificates:"1",format:"excel"}),K=s=>{var j;s.preventDefault(),N(!0);const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.grade-report"),a.target="_blank";const x=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(x){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=x,a.appendChild(r)}Object.entries(h).forEach(([r,t])=>{const i=document.createElement("input");i.type="hidden",i.name=r,i.value=(t==null?void 0:t.toString())||"",a.appendChild(i)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>N(!1),2e3)},M=s=>{var j;s.preventDefault(),N(!0);const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.honor-statistics"),a.target="_blank";const x=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(x){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=x,a.appendChild(r)}Object.entries(y).forEach(([r,t])=>{const i=document.createElement("input");i.type="hidden",i.name=r,i.value=(t==null?void 0:t.toString())||"",a.appendChild(i)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>N(!1),2e3)},Q=s=>{var j;s.preventDefault(),N(!0);const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.archive-records"),a.target="_blank";const x=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(x){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=x,a.appendChild(r)}Object.entries(p).forEach(([r,t])=>{const i=document.createElement("input");i.type="hidden",i.name=r,i.value=(t==null?void 0:t.toString())||"",a.appendChild(i)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>N(!1),2e3)},W=$.filter(s=>s.academic_level_id.toString()===h.academic_level_id||h.academic_level_id==="all");return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(se,{user:I}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ae,{user:I}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Z,{href:route("registrar.dashboard"),children:e.jsx(w,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(g,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(re,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C.total_students})]})]})})}),e.jsx(g,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(le,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C.active_periods})]})]})})}),e.jsx(g,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(V,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Honors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C.total_honors})]})]})})}),e.jsx(g,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(S,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C.total_certificates})]})]})})})]}),e.jsxs(Y,{value:z,onValueChange:J,className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-3",children:[e.jsxs(E,{value:"grade-reports",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Grade Reports"]}),e.jsxs(E,{value:"honor-statistics",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Honor Statistics"]}),e.jsxs(E,{value:"archiving",className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Archiving"]})]}),e.jsx(R,{value:"grade-reports",className:"mt-6",children:e.jsxs(g,{children:[e.jsx(G,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Generate Grade Reports"]})}),e.jsx(u,{children:e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"academic_level",children:"Academic Level"}),e.jsxs(d,{value:h.academic_level_id,onValueChange:s=>b("academic_level_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsxs(m,{children:[e.jsx(l,{value:"all",children:"All Levels"}),A.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"grading_period",children:"Grading Period"}),e.jsxs(d,{value:h.grading_period_id,onValueChange:s=>b("grading_period_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select grading period"})}),e.jsxs(m,{children:[e.jsx(l,{value:"all",children:"All Periods"}),W.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"school_year",children:"School Year"}),e.jsxs(d,{value:h.school_year,onValueChange:s=>b("school_year",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select school year"})}),e.jsx(m,{children:v.map(s=>e.jsx(l,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"format",children:"Format"}),e.jsxs(d,{value:h.format,onValueChange:s=>b("format",s),children:[e.jsx(n,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(l,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(l,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"include_statistics",checked:h.include_statistics==="1",onCheckedChange:s=>b("include_statistics",s===!0?"1":"0")}),e.jsx(c,{htmlFor:"include_statistics",children:"Include statistical analysis"})]}),e.jsx(w,{type:"submit",disabled:L||f,className:"w-full md:w-auto",children:L||f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Generate Grade Report"]})})]})})]})}),e.jsx(R,{value:"honor-statistics",className:"mt-6",children:e.jsxs(g,{children:[e.jsx(G,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Generate Honor Statistics"]})}),e.jsx(u,{children:e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"honor_academic_level",children:"Academic Level"}),e.jsxs(d,{value:y.academic_level_id,onValueChange:s=>k("academic_level_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsxs(m,{children:[e.jsx(l,{value:"all",children:"All Levels"}),A.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"honor_school_year",children:"School Year"}),e.jsxs(d,{value:y.school_year,onValueChange:s=>k("school_year",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select school year"})}),e.jsx(m,{children:v.map(s=>e.jsx(l,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"honor_type",children:"Honor Type"}),e.jsxs(d,{value:y.honor_type_id,onValueChange:s=>k("honor_type_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select honor type"})}),e.jsxs(m,{children:[e.jsx(l,{value:"all",children:"All Types"}),X.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"honor_format",children:"Format"}),e.jsxs(d,{value:y.format,onValueChange:s=>k("format",s),children:[e.jsx(n,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(l,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(l,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),e.jsx(w,{type:"submit",disabled:O||f,className:"w-full md:w-auto",children:O||f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Statistics..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(R,{value:"archiving",className:"mt-6",children:e.jsxs(g,{children:[e.jsx(G,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Archive Academic Records"]})}),e.jsxs(u,{children:[e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Archiving will create a backup of academic records for the specified period. This process helps maintain system performance while preserving historical data."]})}),e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"archive_academic_level",children:"Academic Level"}),e.jsxs(d,{value:p.academic_level_id,onValueChange:s=>_("academic_level_id",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsx(m,{children:A.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"archive_school_year",children:"School Year"}),e.jsxs(d,{value:p.school_year,onValueChange:s=>_("school_year",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select school year"})}),e.jsx(m,{children:v.map(s=>e.jsx(l,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Include in Archive"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"include_grades",checked:p.include_grades==="1",onCheckedChange:s=>_("include_grades",s===!0?"1":"0")}),e.jsx(c,{htmlFor:"include_grades",children:"Student Grades"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"include_honors",checked:p.include_honors==="1",onCheckedChange:s=>_("include_honors",s===!0?"1":"0")}),e.jsx(c,{htmlFor:"include_honors",children:"Honor Records"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"include_certificates",checked:p.include_certificates==="1",onCheckedChange:s=>_("include_certificates",s===!0?"1":"0")}),e.jsx(c,{htmlFor:"include_certificates",children:"Certificates"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"archive_format",children:"Archive Format"}),e.jsxs(d,{value:p.format,onValueChange:s=>_("format",s),children:[e.jsx(n,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(l,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel"]})}),e.jsx(l,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"CSV"]})})]})]})]}),e.jsx(w,{type:"submit",disabled:q||f,className:"w-full md:w-auto",children:q||f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Archiving Records..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Archive Records"]})})]})]})]})})]})]})})]})]})}export{Pe as default};
