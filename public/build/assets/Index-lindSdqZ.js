import{r as v,K as Me,m as O,j as e,$ as Ye}from"./app-BzEPTIoL.js";import{H as Pe}from"./header-Di7XYI1j.js";import{S as Be}from"./sidebar-DJls0-Ed.js";import{C as N,a as A,b as le,c as se}from"./card-CtdnIBEg.js";import{B as T}from"./button-DhTuWpqg.js";import{L as h}from"./label-mLCU927r.js";import{S as m,a as x,b as g,c as j,d as n}from"./select-D3ZNOYG1.js";import{T as ze,a as Ue,b as ae,c as re}from"./tabs-Cy2TRjL8.js";import{C as L}from"./checkbox-Ckn0Mgnv.js";import{U as xe}from"./users-DZY3qP4j.js";import{F as M}from"./file-text-DU9Czi7i.js";import{A as ge}from"./award-BuunD1jA.js";import{C as We}from"./calendar-B1W6ZiWe.js";import{G as je}from"./graduation-cap-DtMV-QBO.js";import{T as qe}from"./trending-up-f95Syfbn.js";import{F as ie,a as de,A as _e}from"./file-x-eoiwKBNb.js";import{D as ve}from"./download-Bz0l5jra.js";/* empty css            */import"./dropdown-menu-WnjX4XqU.js";import"./Combination-CGVAPLwg.js";import"./index-DJ8MkIIO.js";import"./separator-BaxqRUSa.js";import"./chevron-right-BMBeYM1y.js";import"./crown-fBr0M5iI.js";import"./building-2-CXsuq4gA.js";import"./user-cog-wlp1sFt_.js";import"./book-open-BYol5jvf.js";import"./user-check-n5gjGnTk.js";import"./notebook-B78UUZbL.js";import"./chart-no-axes-column-increasing-qdAwq0UV.js";import"./shield-CczqxRxf.js";import"./index-DrjCr65r.js";import"./index-Bjtkehhu.js";import"./check-D5GHb6D8.js";function Yl({user:te,academicLevels:f,schoolYears:C,currentSchoolYear:H,gradingPeriods:Y,honorTypes:ue,sections:b,tracks:V,strands:I,departments:F,courses:k,stats:w}){var me;const[pe,fe]=v.useState("honor-statistics"),[G,R]=v.useState(!1),[P,Je]=v.useState(""),[$e,ne]=v.useState([]),[B,z]=v.useState([]),[Ke,ye]=v.useState([]),[Se,U]=v.useState([]),[Xe,Ce]=v.useState([]),[Ne,W]=v.useState([]),[q,J]=v.useState([]),[Ze,Ae]=v.useState([]),[be,$]=v.useState([]),[Qe,Ie]=v.useState([]),[ke,K]=v.useState([]),[X,ce]=v.useState([]),[De,oe]=v.useState([]),[Ee,Z]=v.useState([]),[Re,he]=v.useState([]),[He,Q]=v.useState([]),{props:Ve}=Me(),D=Ve.csrf_token||((me=document.querySelector('meta[name="csrf-token"]'))==null?void 0:me.content)||"",{data:E,setData:el,post:ll,processing:sl}=O({academic_level_id:"all",semester_id:"",grading_period_id:"all",school_year:H||C[0]||"",format:"pdf",include_statistics:!0}),{data:c,setData:y,post:al,processing:Fe}=O({academic_level_id:"all",school_year:H||C[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:d,setData:p,post:rl,processing:we}=O({academic_level_id:"",school_year:H||C[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),{data:t,setData:S,post:il,processing:Ge}=O({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:H||C[0]||"",include_grades:!1,format:"pdf"});v.useEffect(()=>{if(E.academic_level_id&&E.academic_level_id!=="all"){const a=parseInt(E.academic_level_id);let r=Y.filter(s=>s.academic_level_id===a);if(P){const s=parseInt(P);r=r.filter(i=>i.id===s||i.parent_id===s)}ne(r)}else ne([])},[E.academic_level_id,P,Y]),v.useEffect(()=>{console.log("=== CLASS SECTION REPORT - PAGE LOADED ==="),console.log("Available Academic Levels:",f),console.log("Available School Years:",C),console.log("Current School Year:",H),console.log("Initial Section Data:",t),console.log("Available Sections:",b),console.log("Available Tracks:",V),console.log("Available Strands:",I),console.log("Available Departments:",F),console.log("Available Courses:",k)},[]),v.useEffect(()=>{if(console.log("=== CLASS SECTION FILTER TRIGGERED ==="),console.log("Academic Level ID:",t.academic_level_id),console.log("Year Level:",t.year_level),console.log("Track ID:",t.track_id),console.log("Strand ID:",t.strand_id),console.log("Department ID:",t.department_id),console.log("Course ID:",t.course_id),!t.academic_level_id){z([]),ye([]),U([]),Ce([]),W([]);return}const a=parseInt(t.academic_level_id),r=f.find(i=>i.id===a);if(console.log("Selected Level:",r),!r){z([]);return}let s=b.filter(i=>i.academic_level_id===a);console.log("Sections for level:",s),t.year_level&&(s=s.filter(i=>i.specific_year_level===t.year_level),console.log("After year level filter:",s)),r.key==="senior_highschool"&&(t.track_id&&(s=s.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===t.track_id}),console.log("After track filter:",s)),t.strand_id&&(s=s.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===t.strand_id}),console.log("After strand filter:",s))),r.key==="college"&&(t.department_id&&(s=s.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===t.department_id}),console.log("After department filter:",s)),t.course_id&&(s=s.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===t.course_id}),console.log("After course filter:",s))),console.log("Final filtered sections:",s),z(s)},[t.academic_level_id,t.year_level,t.track_id,t.strand_id,t.department_id,t.course_id,b,f]),v.useEffect(()=>{if(t.track_id){const a=parseInt(t.track_id),r=I.filter(s=>s.track_id===a);console.log("Filtered Strands for Track:",r),U(r)}else U([])},[t.track_id,I]),v.useEffect(()=>{if(t.department_id){const a=parseInt(t.department_id),r=k.filter(s=>s.department_id===a);console.log("Filtered Courses for Department:",r),W(r)}else W([])},[t.department_id,k]),v.useEffect(()=>{if(console.log("=== HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[HONOR] Academic Level ID:",c.academic_level_id),console.log("[HONOR] Year Level:",c.year_level),console.log("[HONOR] Track ID:",c.track_id),console.log("[HONOR] Strand ID:",c.strand_id),console.log("[HONOR] Department ID:",c.department_id),console.log("[HONOR] Course ID:",c.course_id),!c.academic_level_id||c.academic_level_id==="all"){J([]),Ae([]),$([]),Ie([]),K([]);return}const a=parseInt(c.academic_level_id),r=f.find(i=>i.id===a);if(console.log("[HONOR] Selected Level:",r),!r){J([]);return}let s=b.filter(i=>i.academic_level_id===a);console.log("[HONOR] Sections for level:",s),c.year_level&&(s=s.filter(i=>i.specific_year_level===c.year_level),console.log("[HONOR] After year level filter:",s)),r.key==="senior_highschool"&&(c.track_id&&(s=s.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===c.track_id}),console.log("[HONOR] After track filter:",s)),c.strand_id&&(s=s.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===c.strand_id}),console.log("[HONOR] After strand filter:",s))),r.key==="college"&&(c.department_id&&(s=s.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===c.department_id}),console.log("[HONOR] After department filter:",s)),c.course_id&&(s=s.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===c.course_id}),console.log("[HONOR] After course filter:",s))),console.log("[HONOR] Final filtered sections:",s),J(s)},[c.academic_level_id,c.year_level,c.track_id,c.strand_id,c.department_id,c.course_id,b,f]),v.useEffect(()=>{if(c.track_id){const a=parseInt(c.track_id),r=I.filter(s=>s.track_id===a);console.log("[HONOR] Filtered Strands for Track:",r),$(r)}else $([])},[c.track_id,I]),v.useEffect(()=>{if(c.department_id){const a=parseInt(c.department_id),r=k.filter(s=>s.department_id===a);console.log("[HONOR] Filtered Courses for Department:",r),K(r)}else K([])},[c.department_id,k]),v.useEffect(()=>{if(console.log("=== [ADMIN] ARCHIVE FILTER TRIGGERED ==="),console.log("[ADMIN ARCHIVE] Academic Level ID:",d.academic_level_id),!d.academic_level_id){ce([]),oe([]),Z([]),he([]),Q([]);return}const a=parseInt(d.academic_level_id),r=f.find(i=>i.id===a);if(!r){console.log("[ADMIN ARCHIVE] Selected level not found");return}console.log("[ADMIN ARCHIVE] Selected Level:",r.name,r.key);let s=b.filter(i=>i.academic_level_id===a);console.log("[ADMIN ARCHIVE] Sections for level:",s.length),r.key==="senior_highschool"&&(console.log("[ADMIN ARCHIVE] Processing SHS filters"),oe(V),d.track_id&&(console.log("[ADMIN ARCHIVE] Filtering by Track ID:",d.track_id),s=s.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===d.track_id})),d.strand_id&&(console.log("[ADMIN ARCHIVE] Filtering by Strand ID:",d.strand_id),s=s.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===d.strand_id})),d.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",d.year_level),s=s.filter(i=>i.specific_year_level===d.year_level))),r.key==="college"&&(console.log("[ADMIN ARCHIVE] Processing College filters"),he(F),d.department_id&&(console.log("[ADMIN ARCHIVE] Filtering by Department ID:",d.department_id),s=s.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===d.department_id})),d.course_id&&(console.log("[ADMIN ARCHIVE] Filtering by Course ID:",d.course_id),s=s.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===d.course_id})),d.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",d.year_level),s=s.filter(i=>i.specific_year_level===d.year_level))),(r.key==="elementary"||r.key==="junior_highschool")&&(console.log("[ADMIN ARCHIVE] Processing Elementary/JHS filters"),d.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",d.year_level),s=s.filter(i=>i.specific_year_level===d.year_level))),console.log("[ADMIN ARCHIVE] Final filtered sections:",s.length),ce(s)},[d.academic_level_id,d.year_level,d.track_id,d.strand_id,d.department_id,d.course_id,b,f,V,F]),v.useEffect(()=>{if(d.track_id){const a=parseInt(d.track_id),r=I.filter(s=>s.track_id===a);Z(r)}else Z([])},[d.track_id,I]),v.useEffect(()=>{if(d.department_id){const a=parseInt(d.department_id),r=k.filter(s=>s.department_id===a);Q(r)}else Q([])},[d.department_id,k]);const Oe=a=>{if(a.preventDefault(),!D){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}R(!0);let r=document.getElementById("download-iframe");r||(r=document.createElement("iframe"),r.id="download-iframe",r.style.display="none",document.body.appendChild(r));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.honor-statistics"),s.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=D,s.appendChild(i),Object.entries(c).forEach(([o,_])=>{const l=document.createElement("input");l.type="hidden",l.name=o,typeof _=="boolean"?l.value=_?"1":"0":l.value=(_==null?void 0:_.toString())||"",s.appendChild(l)}),document.body.appendChild(s),s.submit(),document.body.removeChild(s),setTimeout(()=>R(!1),2e3)},Te=a=>{if(a.preventDefault(),!D){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}R(!0);let r=document.getElementById("download-iframe");r||(r=document.createElement("iframe"),r.id="download-iframe",r.style.display="none",document.body.appendChild(r));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.archive-records"),s.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=D,s.appendChild(i),Object.entries(d).forEach(([o,_])=>{const l=document.createElement("input");l.type="hidden",l.name=o,typeof _=="boolean"?l.value=_?"1":"0":l.value=(_==null?void 0:_.toString())||"",s.appendChild(l)}),document.body.appendChild(s),s.submit(),document.body.removeChild(s),setTimeout(()=>R(!1),2e3)},Le=a=>{if(console.log("=== handleClassSectionReport CALLED ==="),a.preventDefault(),a.stopPropagation(),console.log("=== CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("Form Data:",t),!D){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}console.log("CSRF Token:",D),R(!0);let r=document.getElementById("download-iframe");r?console.log("Using existing download iframe"):(r=document.createElement("iframe"),r.id="download-iframe",r.style.display="none",document.body.appendChild(r),console.log("Created download iframe"));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.class-section-report"),s.target="download-iframe",console.log("Form action URL:",s.action);const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=D,s.appendChild(i),console.log("Added CSRF token to form");const o={};Object.entries(t).forEach(([_,l])=>{const u=document.createElement("input");u.type="hidden",u.name=_,typeof l=="boolean"?u.value=l?"1":"0":u.value=(l==null?void 0:l.toString())||"",o[_]=u.value,s.appendChild(u)}),console.log("Form data being submitted:",o),document.body.appendChild(s),console.log("Form appended to body, submitting..."),s.submit(),console.log("Form submitted"),document.body.removeChild(s),console.log("Form removed from body"),r.onload=()=>{var _,l;console.log("Iframe loaded");try{const u=r.contentDocument||((_=r.contentWindow)==null?void 0:_.document);if(u){const ee=u.body;console.log("Iframe body content:",(l=ee==null?void 0:ee.textContent)==null?void 0:l.substring(0,500))}}catch(u){console.log("Could not access iframe content (this is normal for successful downloads):",u)}},setTimeout(()=>{console.log("Resetting loading state"),R(!1)},2e3)};return(()=>{if(E.academic_level_id&&E.academic_level_id!=="all"){const a=parseInt(E.academic_level_id),r=f.find(s=>s.id===a);if(r&&(r.key==="college"||r.key==="senior_highschool"))return Y.filter(s=>s.academic_level_id===a&&s.parent_id===null&&s.type==="semester")}return[]})(),e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(Be,{user:te}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(Pe,{user:te}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Ye,{href:route("admin.dashboard"),children:e.jsx(T,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(N,{children:e.jsxs(A,{className:"flex items-center p-6",children:[e.jsx(xe,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total_students})]})]})}),e.jsx(N,{children:e.jsxs(A,{className:"flex items-center p-6",children:[e.jsx(M,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total_certificates})]})]})}),e.jsx(N,{children:e.jsxs(A,{className:"flex items-center p-6",children:[e.jsx(ge,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total_honors})]})]})}),e.jsx(N,{children:e.jsxs(A,{className:"flex items-center p-6",children:[e.jsx(We,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.active_periods})]})]})}),e.jsx(N,{children:e.jsxs(A,{className:"flex items-center p-6",children:[e.jsx(je,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sections"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.active_sections})]})]})})]}),e.jsxs(ze,{value:pe,onValueChange:fe,className:"w-full",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-3",children:[e.jsx(ae,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(ae,{value:"archive-records",children:"Archive Records"}),e.jsx(ae,{value:"class-section-reports",children:"Class Section Reports"})]}),e.jsx(re,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level"}),e.jsxs(m,{value:c.academic_level_id,onValueChange:a=>{console.log("[HONOR] Academic Level Changed:",a),y({...c,academic_level_id:a,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All levels"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Levels"}),f.map(a=>e.jsx(n,{value:a.id.toString(),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Honor Type"}),e.jsxs(m,{value:c.honor_type_id,onValueChange:a=>y("honor_type_id",a),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All types"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Types"}),ue.map(a=>e.jsx(n,{value:a.id.toString(),children:a.name},a.id))]})]})]})]}),(()=>{if(!c.academic_level_id||c.academic_level_id==="all")return null;const a=f.find(_=>_.id.toString()===c.academic_level_id);if(!a)return null;const r=a.key==="elementary",s=a.key==="junior_highschool",i=a.key==="senior_highschool",o=a.key==="college";if(r||s){const _=r?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:c.year_level,onValueChange:l=>y({...c,year_level:l,section_id:"all"}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:c.section_id,onValueChange:l=>y({...c,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}if(i){const _=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:c.year_level,onValueChange:l=>y({...c,year_level:l,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(m,{value:c.track_id,onValueChange:l=>y({...c,track_id:l,strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All tracks"})}),e.jsx(j,{children:V.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(m,{value:c.strand_id,onValueChange:l=>y({...c,strand_id:l,section_id:"all"}),disabled:!c.track_id,children:[e.jsx(x,{children:e.jsx(g,{placeholder:c.track_id?"All strands":"Select track first"})}),e.jsx(j,{children:be.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:c.section_id,onValueChange:l=>y({...c,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}if(o){const _=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:c.year_level,onValueChange:l=>y({...c,year_level:l,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(m,{value:c.department_id,onValueChange:l=>y({...c,department_id:l,course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All departments"})}),e.jsx(j,{children:F.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(m,{value:c.course_id,onValueChange:l=>y({...c,course_id:l,section_id:"all"}),disabled:!c.department_id,children:[e.jsx(x,{children:e.jsx(g,{placeholder:c.department_id?"All courses":"Select department first"})}),e.jsx(j,{children:ke.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:c.section_id,onValueChange:l=>y({...c,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"School Year"}),e.jsxs(m,{value:c.school_year,onValueChange:a=>y("school_year",a),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(a=>e.jsx(n,{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(m,{value:c.format,onValueChange:a=>y("format",a),children:[e.jsx(x,{children:e.jsx(g,{})}),e.jsxs(j,{children:[e.jsx(n,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(n,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(n,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(T,{type:"submit",disabled:Fe||G,className:"flex items-center gap-2",children:G?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(re,{value:"archive-records",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level *"}),e.jsxs(m,{value:d.academic_level_id,onValueChange:a=>{console.log("[ADMIN ARCHIVE] Academic Level Changed:",a),p({...d,academic_level_id:a,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select level"})}),e.jsx(j,{children:f.map(a=>e.jsx(n,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"School Year *"}),e.jsxs(m,{value:d.school_year,onValueChange:a=>p("school_year",a),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(a=>e.jsx(n,{value:a,children:a},a))})]})]})]}),(()=>{if(!d.academic_level_id)return null;const a=parseInt(d.academic_level_id),r=f.find(l=>l.id===a);if(!r)return null;const s=r.key==="elementary",i=r.key==="junior_highschool",o=r.key==="senior_highschool",_=r.key==="college";if(console.log("[ADMIN ARCHIVE] Rendering cascading filters for:",r.key),s||i){const l=s?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:d.year_level,onValueChange:u=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",u),p({...d,year_level:u,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Year Levels"}),l.map(u=>e.jsx(n,{value:u.value,children:u.label},u.value))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:d.section_id,onValueChange:u=>{console.log("[ADMIN ARCHIVE] Section Changed:",u),p({...d,section_id:u})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),X.map(u=>e.jsx(n,{value:u.id.toString(),children:u.name},u.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:d.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),p({...d,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Year Levels"}),e.jsx(n,{value:"grade_11",children:"Grade 11"}),e.jsx(n,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(m,{value:d.track_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Track Changed:",l),p({...d,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All tracks"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Tracks"}),De.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(m,{value:d.strand_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Strand Changed:",l),p({...d,strand_id:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All strands"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Strands"}),Ee.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:d.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),p({...d,section_id:l})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),X.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):_?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:d.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),p({...d,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Year Levels"}),e.jsx(n,{value:"1st_year",children:"1st Year"}),e.jsx(n,{value:"2nd_year",children:"2nd Year"}),e.jsx(n,{value:"3rd_year",children:"3rd Year"}),e.jsx(n,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(m,{value:d.department_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Department Changed:",l),p({...d,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All departments"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Departments"}),Re.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(m,{value:d.course_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Course Changed:",l),p({...d,course_id:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All courses"})}),e.jsxs(j,{children:[e.jsx(n,{value:"",children:"All Courses"}),He.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:d.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),p({...d,section_id:l})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),X.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{children:[e.jsx(h,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_grades",checked:d.include_grades,onCheckedChange:a=>p("include_grades",!!a)}),e.jsxs(h,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_honors",checked:d.include_honors,onCheckedChange:a=>p("include_honors",!!a)}),e.jsxs(h,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_certificates",checked:d.include_certificates,onCheckedChange:a=>p("include_certificates",!!a)}),e.jsxs(h,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(m,{value:d.format,onValueChange:a=>p("format",a),children:[e.jsx(x,{children:e.jsx(g,{})}),e.jsxs(j,{children:[e.jsx(n,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(n,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(T,{type:"submit",disabled:we||!d.academic_level_id||!d.school_year,className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),G?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})}),e.jsx(re,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level *"}),e.jsxs(m,{value:t.academic_level_id,onValueChange:a=>{console.log("Academic Level Changed:",a),S({...t,academic_level_id:a,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select level"})}),e.jsx(j,{children:f.map(a=>e.jsx(n,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!t.academic_level_id)return null;const a=f.find(_=>_.id.toString()===t.academic_level_id);if(!a)return null;const r=a.key==="elementary",s=a.key==="junior_highschool",i=a.key==="senior_highschool",o=a.key==="college";if(r||s){const _=r?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),S({...t,year_level:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year level"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:t.section_id,onValueChange:l=>S({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),B.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(i){const _=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),S({...t,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year level"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(m,{value:t.track_id,onValueChange:l=>{console.log("Track Changed:",l),S({...t,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select track"})}),e.jsx(j,{children:V.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(m,{value:t.strand_id,onValueChange:l=>{console.log("Strand Changed:",l),S({...t,strand_id:l,section_id:"all"})},disabled:!t.track_id,children:[e.jsx(x,{children:e.jsx(g,{placeholder:t.track_id?"Select strand":"Select track first"})}),e.jsx(j,{children:Se.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:t.section_id,onValueChange:l=>S({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),B.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(o){const _=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(m,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),S({...t,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year level"})}),e.jsx(j,{children:_.map(l=>e.jsx(n,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(m,{value:t.department_id,onValueChange:l=>{console.log("Department Changed:",l),S({...t,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select department"})}),e.jsx(j,{children:F.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(m,{value:t.course_id,onValueChange:l=>{console.log("Course Changed:",l),S({...t,course_id:l,section_id:"all"})},disabled:!t.department_id,children:[e.jsx(x,{children:e.jsx(g,{placeholder:t.department_id?"Select course":"Select department first"})}),e.jsx(j,{children:Ne.map(l=>e.jsxs(n,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(m,{value:t.section_id,onValueChange:l=>S({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(n,{value:"all",children:"All Sections"}),B.map(l=>e.jsx(n,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"School Year *"}),e.jsxs(m,{value:t.school_year,onValueChange:a=>S("school_year",a),children:[e.jsx(x,{children:e.jsx(g,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(a=>e.jsx(n,{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(m,{value:t.format,onValueChange:a=>S("format",a),children:[e.jsx(x,{children:e.jsx(g,{})}),e.jsxs(j,{children:[e.jsx(n,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(n,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(n,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_grades_section",checked:t.include_grades,onCheckedChange:a=>S("include_grades",!!a)}),e.jsx(h,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!t.academic_level_id||!t.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(T,{type:"submit",disabled:Ge||!t.academic_level_id||!t.school_year||G,className:"flex items-center gap-2",children:G?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Yl as default};
