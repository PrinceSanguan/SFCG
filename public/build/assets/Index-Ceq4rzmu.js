import{r as v,K as We,m as B,j as e,$ as Xe}from"./app-qLeYe2f3.js";import{B as L}from"./button-C8Gdj37Y.js";import{C as T,a as V,b as q,c as z}from"./card-GzrH8jz2.js";import{L as h}from"./label-BG-2pNml.js";import{S as j,a as g,b as _,c as u,d as r}from"./select-BB3mYIKg.js";import{T as Qe,a as Ze,b as J,c as M}from"./tabs-MvHw5Lc1.js";import{C as Y}from"./checkbox-BXmMori_.js";import{S as el,H as ll}from"./sidebar-BwvdDCtC.js";import{U as ne}from"./users-Br93kCnE.js";import{G as sl}from"./graduation-cap-BrZb5Lk2.js";import{A as te}from"./award-Bz2VB2xk.js";import{F}from"./file-text-jw3niMoG.js";import{A as oe,F as U,a as fe}from"./file-x-B8aqmKlW.js";import{D as he}from"./download-CffBALtV.js";/* empty css            */import"./index-CQNKQLid.js";import"./Combination-BrlgbUTZ.js";import"./index-D76RGWAB.js";import"./index-C1GpO9ib.js";import"./check-Ii-cgy14.js";import"./dropdown-menu-mKb60jDJ.js";import"./separator-sz5ET9Km.js";import"./chevron-right-exdxB9Mw.js";import"./crown-B-oovUmE.js";import"./building-2-DDev-7Lr.js";import"./user-cog-CPZWWGn4.js";import"./book-open-Bss0qkeu.js";import"./user-check-B1PMi01v.js";import"./notebook-CXicmQCQ.js";import"./chart-no-axes-column-increasing-BoftT2D4.js";function Ll({user:xe,academicLevels:f,schoolYears:E,currentSchoolYear:P,gradingPeriods:Re,honorTypes:Se,sections:C,tracks:D,strands:G,departments:w,courses:I,stats:O}){var pe;const[ye,Ae]=v.useState("grade-reports"),[$,H]=v.useState([]),[al,Ce]=v.useState([]),[Ee,K]=v.useState([]),[rl,Ge]=v.useState([]),[Ie,W]=v.useState([]),[X,Q]=v.useState([]),[il,Ne]=v.useState([]),[be,Z]=v.useState([]),[dl,ke]=v.useState([]),[Te,ee]=v.useState([]),[le,se]=v.useState([]),[Ve,Fe]=v.useState([]),[De,ae]=v.useState([]),[we,He]=v.useState([]),[Le,re]=v.useState([]),[ie,me]=v.useState([]),[Ye,je]=v.useState([]),[Pe,de]=v.useState([]),[Oe,ge]=v.useState([]),[Be,ce]=v.useState([]),{props:qe}=We(),N=qe.csrf_token||((pe=document.querySelector('meta[name="csrf-token"]'))==null?void 0:pe.content)||"",[b,k]=v.useState(!1),{data:x,setData:S,processing:_e}=B({academic_level_id:"all",grading_period_id:"all",school_year:P||E[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf",include_statistics:"1"}),{data:m,setData:y,processing:ue}=B({academic_level_id:"all",school_year:P||E[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:t,setData:R,processing:ve}=B({academic_level_id:"",school_year:E[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",include_grades:"1",include_honors:"1",include_certificates:"1",format:"excel"}),{data:c,setData:A,processing:ze}=B({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:P||E[0]||"",include_grades:!1,format:"pdf"});v.useEffect(()=>{console.log("=== [REGISTRAR] CLASS SECTION REPORT - PAGE LOADED ==="),console.log("[REGISTRAR] Available Academic Levels:",f),console.log("[REGISTRAR] Available School Years:",E),console.log("[REGISTRAR] Current School Year:",P),console.log("[REGISTRAR] Initial Section Data:",c),console.log("[REGISTRAR] Available Sections:",C),console.log("[REGISTRAR] Available Tracks:",D),console.log("[REGISTRAR] Available Strands:",G),console.log("[REGISTRAR] Available Departments:",w),console.log("[REGISTRAR] Available Courses:",I)},[]),v.useEffect(()=>{if(console.log("=== [REGISTRAR] CLASS SECTION FILTER TRIGGERED ==="),console.log("[REGISTRAR] Academic Level ID:",c.academic_level_id),console.log("[REGISTRAR] Year Level:",c.year_level),console.log("[REGISTRAR] Track ID:",c.track_id),console.log("[REGISTRAR] Strand ID:",c.strand_id),console.log("[REGISTRAR] Department ID:",c.department_id),console.log("[REGISTRAR] Course ID:",c.course_id),!c.academic_level_id){H([]),Ce([]),K([]),Ge([]),W([]);return}const s=parseInt(c.academic_level_id),d=f.find(i=>i.id===s);if(console.log("[REGISTRAR] Selected Level:",d),!d){H([]);return}let a=C.filter(i=>i.academic_level_id===s);console.log("[REGISTRAR] Sections for level:",a),c.year_level&&(a=a.filter(i=>i.specific_year_level===c.year_level),console.log("[REGISTRAR] After year level filter:",a)),d.key==="senior_highschool"&&(c.track_id&&(a=a.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===c.track_id}),console.log("[REGISTRAR] After track filter:",a)),c.strand_id&&(a=a.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===c.strand_id}),console.log("[REGISTRAR] After strand filter:",a))),d.key==="college"&&(c.department_id&&(a=a.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===c.department_id}),console.log("[REGISTRAR] After department filter:",a)),c.course_id&&(a=a.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===c.course_id}),console.log("[REGISTRAR] After course filter:",a))),console.log("[REGISTRAR] Final filtered sections:",a),H(a)},[c.academic_level_id,c.year_level,c.track_id,c.strand_id,c.department_id,c.course_id,C,f]),v.useEffect(()=>{if(c.track_id){const s=parseInt(c.track_id),d=G.filter(a=>a.track_id===s);console.log("[REGISTRAR] Filtered Strands for Track:",d),K(d)}else K([])},[c.track_id,G]),v.useEffect(()=>{if(c.department_id){const s=parseInt(c.department_id),d=I.filter(a=>a.department_id===s);console.log("[REGISTRAR] Filtered Courses for Department:",d),W(d)}else W([])},[c.department_id,I]),v.useEffect(()=>{if(console.log("=== [REGISTRAR] HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[REGISTRAR HONOR] Academic Level ID:",m.academic_level_id),!m.academic_level_id||m.academic_level_id==="all"){Q([]),Ne([]),Z([]),ke([]),ee([]);return}const s=parseInt(m.academic_level_id),d=f.find(i=>i.id===s);if(console.log("[REGISTRAR HONOR] Selected Level:",d),!d){Q([]);return}let a=C.filter(i=>i.academic_level_id===s);m.year_level&&(a=a.filter(i=>i.specific_year_level===m.year_level)),d.key==="senior_highschool"&&(m.track_id&&(a=a.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===m.track_id})),m.strand_id&&(a=a.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===m.strand_id}))),d.key==="college"&&(m.department_id&&(a=a.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===m.department_id})),m.course_id&&(a=a.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===m.course_id}))),Q(a)},[m.academic_level_id,m.year_level,m.track_id,m.strand_id,m.department_id,m.course_id,C,f]),v.useEffect(()=>{if(m.track_id){const s=parseInt(m.track_id),d=G.filter(a=>a.track_id===s);Z(d)}else Z([])},[m.track_id,G]),v.useEffect(()=>{if(m.department_id){const s=parseInt(m.department_id),d=I.filter(a=>a.department_id===s);ee(d)}else ee([])},[m.department_id,I]),v.useEffect(()=>{if(console.log("=== [REGISTRAR] GRADE REPORTS FILTER TRIGGERED ==="),console.log("[REGISTRAR GRADE] Academic Level ID:",x.academic_level_id),!x.academic_level_id||x.academic_level_id==="all"){se([]),Fe([]),ae([]),He([]),re([]);return}const s=parseInt(x.academic_level_id),d=f.find(i=>i.id===s);if(console.log("[REGISTRAR GRADE] Selected Level:",d),!d){se([]);return}let a=C.filter(i=>i.academic_level_id===s);x.year_level&&(a=a.filter(i=>i.specific_year_level===x.year_level)),d.key==="senior_highschool"&&(x.track_id&&(a=a.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===x.track_id})),x.strand_id&&(a=a.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===x.strand_id}))),d.key==="college"&&(x.department_id&&(a=a.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===x.department_id})),x.course_id&&(a=a.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===x.course_id}))),se(a)},[x.academic_level_id,x.year_level,x.track_id,x.strand_id,x.department_id,x.course_id,C,f]),v.useEffect(()=>{if(x.track_id){const s=parseInt(x.track_id),d=G.filter(a=>a.track_id===s);ae(d)}else ae([])},[x.track_id,G]),v.useEffect(()=>{if(x.department_id){const s=parseInt(x.department_id),d=I.filter(a=>a.department_id===s);re(d)}else re([])},[x.department_id,I]),v.useEffect(()=>{if(console.log("=== [REGISTRAR] ARCHIVE FILTER TRIGGERED ==="),console.log("[REGISTRAR ARCHIVE] Academic Level ID:",t.academic_level_id),!t.academic_level_id){me([]),je([]),de([]),ge([]),ce([]);return}const s=parseInt(t.academic_level_id),d=f.find(i=>i.id===s);if(!d){console.log("[REGISTRAR ARCHIVE] Selected level not found");return}console.log("[REGISTRAR ARCHIVE] Selected Level:",d.name,d.key);let a=C.filter(i=>i.academic_level_id===s);console.log("[REGISTRAR ARCHIVE] Sections for level:",a.length),d.key==="senior_highschool"&&(console.log("[REGISTRAR ARCHIVE] Processing SHS filters"),je(D),t.track_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Track ID:",t.track_id),a=a.filter(i=>{var o;return((o=i.track_id)==null?void 0:o.toString())===t.track_id})),t.strand_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Strand ID:",t.strand_id),a=a.filter(i=>{var o;return((o=i.strand_id)==null?void 0:o.toString())===t.strand_id})),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),a=a.filter(i=>i.specific_year_level===t.year_level))),d.key==="college"&&(console.log("[REGISTRAR ARCHIVE] Processing College filters"),ge(w),t.department_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Department ID:",t.department_id),a=a.filter(i=>{var o;return((o=i.department_id)==null?void 0:o.toString())===t.department_id})),t.course_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Course ID:",t.course_id),a=a.filter(i=>{var o;return((o=i.course_id)==null?void 0:o.toString())===t.course_id})),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),a=a.filter(i=>i.specific_year_level===t.year_level))),(d.key==="elementary"||d.key==="junior_highschool")&&(console.log("[REGISTRAR ARCHIVE] Processing Elementary/JHS filters"),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),a=a.filter(i=>i.specific_year_level===t.year_level))),console.log("[REGISTRAR ARCHIVE] Final filtered sections:",a.length),me(a)},[t.academic_level_id,t.year_level,t.track_id,t.strand_id,t.department_id,t.course_id,C,f,D,w]),v.useEffect(()=>{if(t.track_id){const s=parseInt(t.track_id),d=G.filter(a=>a.track_id===s);de(d)}else de([])},[t.track_id,G]),v.useEffect(()=>{if(t.department_id){const s=parseInt(t.department_id),d=I.filter(a=>a.department_id===s);ce(d)}else ce([])},[t.department_id,I]);const Je=s=>{if(s.preventDefault(),!N){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(!x.school_year){alert("Please select a school year.");return}k(!0);let d=document.getElementById("download-iframe");d||(d=document.createElement("iframe"),d.id="download-iframe",d.style.display="none",document.body.appendChild(d));const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.grade-report"),a.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=N,a.appendChild(i),Object.entries(x).forEach(([o,n])=>{const l=document.createElement("input");l.type="hidden",l.name=o,l.value=(n==null?void 0:n.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>{k(!1),alert("Report generation initiated. Your download should begin shortly. If it doesn't, please check your filters and try again.")},2e3)},Me=s=>{if(s.preventDefault(),!N){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}k(!0);let d=document.getElementById("download-iframe");d||(d=document.createElement("iframe"),d.id="download-iframe",d.style.display="none",document.body.appendChild(d));const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.honor-statistics"),a.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=N,a.appendChild(i),Object.entries(m).forEach(([o,n])=>{const l=document.createElement("input");l.type="hidden",l.name=o,l.value=(n==null?void 0:n.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>k(!1),2e3)},Ue=s=>{if(s.preventDefault(),!N){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}k(!0);let d=document.getElementById("download-iframe");d||(d=document.createElement("iframe"),d.id="download-iframe",d.style.display="none",document.body.appendChild(d));const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.archive-records"),a.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=N,a.appendChild(i),Object.entries(t).forEach(([o,n])=>{const l=document.createElement("input");l.type="hidden",l.name=o,l.value=(n==null?void 0:n.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>k(!1),2e3)},$e=s=>{if(console.log("=== [REGISTRAR] handleClassSectionReport CALLED ==="),s.preventDefault(),s.stopPropagation(),console.log("=== [REGISTRAR] CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("[REGISTRAR] Form Data:",c),!N){console.error("[REGISTRAR] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[REGISTRAR] CSRF Token:",N),!c.academic_level_id){console.error("[REGISTRAR] Validation failed: academic_level_id is required"),alert("Please select an academic level.");return}if(!c.school_year){console.error("[REGISTRAR] Validation failed: school_year is required"),alert("Please select a school year.");return}console.log("[REGISTRAR] Validation passed!"),k(!0);let d=document.getElementById("download-iframe");d||(d=document.createElement("iframe"),d.id="download-iframe",d.style.display="none",document.body.appendChild(d));const a=document.createElement("form");a.method="POST",a.action=route("registrar.reports.class-section-report"),a.target="download-iframe";const i=document.createElement("input");i.type="hidden",i.name="_token",i.value=N,a.appendChild(i),Object.entries(c).forEach(([o,n])=>{const l=document.createElement("input");l.type="hidden",l.name=o,o==="include_grades"?l.value=n?"1":"0":l.value=(n==null?void 0:n.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>{k(!1),alert("Report generation initiated. Your download should begin shortly. If it doesn't, please check your filters and try again.")},2e3)};v.useEffect(()=>{if(c.academic_level_id){const s=parseInt(c.academic_level_id),d=C.filter(a=>a.academic_level_id===s);H(d)}else H([])},[c.academic_level_id,C]);const Ke=(()=>{const s=Re.filter(a=>a.academic_level_id.toString()===x.academic_level_id||x.academic_level_id==="all");return Array.from(new Map(s.map(a=>[a.id,a])).values()).sort((a,i)=>a.sort_order!==void 0&&i.sort_order!==void 0&&a.sort_order!==i.sort_order?a.sort_order-i.sort_order:a.name.localeCompare(i.name))})();return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(el,{user:xe}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ll,{user:xe}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Xe,{href:route("registrar.dashboard"),children:e.jsx(L,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(T,{children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(ne,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:O.total_students})]})]})})}),e.jsx(T,{children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(sl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:O.active_periods})]})]})})}),e.jsx(T,{children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(te,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Honors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:O.total_honors})]})]})})}),e.jsx(T,{children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(F,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:O.total_certificates})]})]})})})]}),e.jsxs(Qe,{value:ye,onValueChange:Ae,className:"w-full",children:[e.jsxs(Ze,{className:"grid w-full grid-cols-4",children:[e.jsxs(J,{value:"grade-reports",className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"Grade Reports"]}),e.jsxs(J,{value:"honor-statistics",className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"Honor Statistics"]}),e.jsxs(J,{value:"archiving",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Archiving"]}),e.jsxs(J,{value:"class-section-reports",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Class Section Reports"]})]}),e.jsx(M,{value:"grade-reports",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(q,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Generate Grade Reports"]})}),e.jsx(V,{children:e.jsxs("form",{onSubmit:Je,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"academic_level",children:"Academic Level"}),e.jsxs(j,{value:x.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR GRADE] Academic Level Changed:",s),S({...x,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select academic level"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Levels"}),f.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"grading_period",children:"Grading Period"}),e.jsxs(j,{value:x.grading_period_id,onValueChange:s=>S("grading_period_id",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select grading period"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Periods"}),Ke.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"school_year",children:"School Year"}),e.jsxs(j,{value:x.school_year,onValueChange:s=>S("school_year",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select school year"})}),e.jsx(u,{children:E.map(s=>e.jsx(r,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"format",children:"Format"}),e.jsxs(j,{value:x.format,onValueChange:s=>S("format",s),children:[e.jsx(g,{children:e.jsx(_,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(r,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),(()=>{if(!x.academic_level_id||x.academic_level_id==="all")return null;const s=parseInt(x.academic_level_id),d=f.find(l=>l.id===s);if(!d)return null;const a=d.key==="elementary",i=d.key==="junior_highschool",o=d.key==="senior_highschool",n=d.key==="college";if(console.log("[REGISTRAR GRADE] Rendering cascading filters for:",d.key),a||i){const l=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:x.year_level,onValueChange:p=>{console.log("[REGISTRAR GRADE] Year Level Changed:",p),S({...x,year_level:p,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),l.map(p=>e.jsx(r,{value:p.value,children:p.label},p.value))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:x.section_id,onValueChange:p=>{console.log("[REGISTRAR GRADE] Section Changed:",p),S({...x,section_id:p})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),le.map(p=>e.jsx(r,{value:p.id.toString(),children:p.name},p.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:x.year_level,onValueChange:l=>{console.log("[REGISTRAR GRADE] Year Level Changed:",l),S({...x,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),e.jsx(r,{value:"grade_11",children:"Grade 11"}),e.jsx(r,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Track"}),e.jsxs(j,{value:x.track_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Track Changed:",l),S({...x,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All tracks"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Tracks"}),Ve.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Strand"}),e.jsxs(j,{value:x.strand_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Strand Changed:",l),S({...x,strand_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All strands"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Strands"}),De.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:x.section_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Section Changed:",l),S({...x,section_id:l})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),le.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:x.year_level,onValueChange:l=>{console.log("[REGISTRAR GRADE] Year Level Changed:",l),S({...x,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),e.jsx(r,{value:"1st_year",children:"1st Year"}),e.jsx(r,{value:"2nd_year",children:"2nd Year"}),e.jsx(r,{value:"3rd_year",children:"3rd Year"}),e.jsx(r,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Department"}),e.jsxs(j,{value:x.department_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Department Changed:",l),S({...x,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All departments"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Departments"}),we.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Course"}),e.jsxs(j,{value:x.course_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Course Changed:",l),S({...x,course_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All courses"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Courses"}),Le.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:x.section_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Section Changed:",l),S({...x,section_id:l})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),le.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:"include_statistics",checked:x.include_statistics==="1",onCheckedChange:s=>S("include_statistics",s===!0?"1":"0")}),e.jsx(h,{htmlFor:"include_statistics",children:"Include statistical analysis"})]}),e.jsx(L,{type:"submit",disabled:_e||b,className:"w-full md:w-auto",children:_e||b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Generate Grade Report"]})})]})})]})}),e.jsx(M,{value:"honor-statistics",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(q,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Generate Honor Statistics"]})}),e.jsx(V,{children:e.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"honor_academic_level",children:"Academic Level"}),e.jsxs(j,{value:m.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR HONOR] Academic Level Changed:",s),y({...m,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select academic level"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Levels"}),f.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"honor_school_year",children:"School Year"}),e.jsxs(j,{value:m.school_year,onValueChange:s=>y("school_year",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select school year"})}),e.jsx(u,{children:E.map(s=>e.jsx(r,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"honor_type",children:"Honor Type"}),e.jsxs(j,{value:m.honor_type_id,onValueChange:s=>y("honor_type_id",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select honor type"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Types"}),Se.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"honor_format",children:"Format"}),e.jsxs(j,{value:m.format,onValueChange:s=>y("format",s),children:[e.jsx(g,{children:e.jsx(_,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(r,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),(()=>{if(!m.academic_level_id||m.academic_level_id==="all")return null;const s=f.find(n=>n.id.toString()===m.academic_level_id);if(!s)return null;const d=s.key==="elementary",a=s.key==="junior_highschool",i=s.key==="senior_highschool",o=s.key==="college";if(d||a){const n=d?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:m.year_level,onValueChange:l=>y({...m,year_level:l,section_id:"all"}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsx(u,{children:n.map(l=>e.jsx(r,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:m.section_id,onValueChange:l=>y({...m,section_id:l}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),X.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}return i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:m.year_level,onValueChange:n=>y({...m,year_level:n,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"grade_11",children:"Grade 11"}),e.jsx(r,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Track"}),e.jsxs(j,{value:m.track_id,onValueChange:n=>y({...m,track_id:n,strand_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All tracks"})}),e.jsx(u,{children:D.map(n=>e.jsxs(r,{value:n.id.toString(),children:[n.name," (",n.code,")"]},n.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Strand"}),e.jsxs(j,{value:m.strand_id,onValueChange:n=>y({...m,strand_id:n,section_id:"all"}),disabled:!m.track_id,children:[e.jsx(g,{children:e.jsx(_,{placeholder:m.track_id?"All strands":"Select track first"})}),e.jsx(u,{children:be.map(n=>e.jsxs(r,{value:n.id.toString(),children:[n.name," (",n.code,")"]},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:m.section_id,onValueChange:n=>y({...m,section_id:n}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),X.map(n=>e.jsx(r,{value:n.id.toString(),children:n.name},n.id))]})]})]})]})]}):o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:m.year_level,onValueChange:n=>y({...m,year_level:n,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"1st_year",children:"1st Year"}),e.jsx(r,{value:"2nd_year",children:"2nd Year"}),e.jsx(r,{value:"3rd_year",children:"3rd Year"}),e.jsx(r,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Department"}),e.jsxs(j,{value:m.department_id,onValueChange:n=>y({...m,department_id:n,course_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All departments"})}),e.jsx(u,{children:w.map(n=>e.jsxs(r,{value:n.id.toString(),children:[n.name," (",n.code,")"]},n.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Course"}),e.jsxs(j,{value:m.course_id,onValueChange:n=>y({...m,course_id:n,section_id:"all"}),disabled:!m.department_id,children:[e.jsx(g,{children:e.jsx(_,{placeholder:m.department_id?"All courses":"Select department first"})}),e.jsx(u,{children:Te.map(n=>e.jsxs(r,{value:n.id.toString(),children:[n.name," (",n.code,")"]},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:m.section_id,onValueChange:n=>y({...m,section_id:n}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),X.map(n=>e.jsx(r,{value:n.id.toString(),children:n.name},n.id))]})]})]})]})]}):null})(),e.jsx(L,{type:"submit",disabled:ue||b,className:"w-full md:w-auto",children:ue||b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Statistics..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(M,{value:"archiving",className:"mt-6",children:e.jsxs(T,{children:[e.jsx(q,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Archive Academic Records"]})}),e.jsxs(V,{children:[e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Archiving will create a backup of academic records for the specified period. This process helps maintain system performance while preserving historical data."]})}),e.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"archive_academic_level",children:"Academic Level"}),e.jsxs(j,{value:t.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR ARCHIVE] Academic Level Changed:",s),R({...t,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select academic level"})}),e.jsx(u,{children:f.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"archive_school_year",children:"School Year"}),e.jsxs(j,{value:t.school_year,onValueChange:s=>R("school_year",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select school year"})}),e.jsx(u,{children:E.map(s=>e.jsx(r,{value:s,children:s},s))})]})]})]}),(()=>{if(!t.academic_level_id)return null;const s=parseInt(t.academic_level_id),d=f.find(l=>l.id===s);if(!d)return null;const a=d.key==="elementary",i=d.key==="junior_highschool",o=d.key==="senior_highschool",n=d.key==="college";if(console.log("[REGISTRAR ARCHIVE] Rendering cascading filters for:",d.key),a||i){const l=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:t.year_level,onValueChange:p=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",p),R({...t,year_level:p,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),l.map(p=>e.jsx(r,{value:p.value,children:p.label},p.value))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:t.section_id,onValueChange:p=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",p),R({...t,section_id:p})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),ie.map(p=>e.jsx(r,{value:p.id.toString(),children:p.name},p.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:t.year_level,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",l),R({...t,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),e.jsx(r,{value:"grade_11",children:"Grade 11"}),e.jsx(r,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Track"}),e.jsxs(j,{value:t.track_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Track Changed:",l),R({...t,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All tracks"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Tracks"}),Ye.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Strand"}),e.jsxs(j,{value:t.strand_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Strand Changed:",l),R({...t,strand_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All strands"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Strands"}),Pe.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:t.section_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",l),R({...t,section_id:l})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),ie.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:t.year_level,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",l),R({...t,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All year levels"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Year Levels"}),e.jsx(r,{value:"1st_year",children:"1st Year"}),e.jsx(r,{value:"2nd_year",children:"2nd Year"}),e.jsx(r,{value:"3rd_year",children:"3rd Year"}),e.jsx(r,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Department"}),e.jsxs(j,{value:t.department_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Department Changed:",l),R({...t,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All departments"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Departments"}),Oe.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Course"}),e.jsxs(j,{value:t.course_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Course Changed:",l),R({...t,course_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All courses"})}),e.jsxs(u,{children:[e.jsx(r,{value:"",children:"All Courses"}),Be.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:t.section_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",l),R({...t,section_id:l})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),ie.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Include in Archive"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:"include_grades",checked:t.include_grades==="1",onCheckedChange:s=>R("include_grades",s===!0?"1":"0")}),e.jsx(h,{htmlFor:"include_grades",children:"Student Grades"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:"include_honors",checked:t.include_honors==="1",onCheckedChange:s=>R("include_honors",s===!0?"1":"0")}),e.jsx(h,{htmlFor:"include_honors",children:"Honor Records"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:"include_certificates",checked:t.include_certificates==="1",onCheckedChange:s=>R("include_certificates",s===!0?"1":"0")}),e.jsx(h,{htmlFor:"include_certificates",children:"Certificates"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"archive_format",children:"Archive Format"}),e.jsxs(j,{value:t.format,onValueChange:s=>R("format",s),children:[e.jsx(g,{children:e.jsx(_,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Excel"]})}),e.jsx(r,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"CSV"]})})]})]})]}),e.jsx(L,{type:"submit",disabled:ve||b,className:"w-full md:w-auto",children:ve||b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Archiving Records..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Archive Records"]})})]})]})]})}),e.jsx(M,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(T,{children:[e.jsxs(q,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(V,{children:e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level *"}),e.jsxs(j,{value:c.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR] Academic Level Changed:",s),A({...c,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select level"})}),e.jsx(u,{children:f.map(s=>e.jsx(r,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!c.academic_level_id)return null;const s=f.find(n=>n.id.toString()===c.academic_level_id);if(!s)return null;const d=s.key==="elementary",a=s.key==="junior_highschool",i=s.key==="senior_highschool",o=s.key==="college";if(d||a){const n=d?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:c.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...c,year_level:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select year level"})}),e.jsx(u,{children:n.map(l=>e.jsx(r,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:c.section_id,onValueChange:l=>A({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),$.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(i){const n=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:c.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...c,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select year level"})}),e.jsx(u,{children:n.map(l=>e.jsx(r,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(j,{value:c.track_id,onValueChange:l=>{console.log("[REGISTRAR] Track Changed:",l),A({...c,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select track"})}),e.jsx(u,{children:D.map(l=>e.jsxs(r,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(j,{value:c.strand_id,onValueChange:l=>{console.log("[REGISTRAR] Strand Changed:",l),A({...c,strand_id:l,section_id:"all"})},disabled:!c.track_id,children:[e.jsx(g,{children:e.jsx(_,{placeholder:c.track_id?"Select strand":"Select track first"})}),e.jsx(u,{children:Ee.map(l=>e.jsxs(r,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:c.section_id,onValueChange:l=>A({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),$.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(o){const n=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(j,{value:c.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...c,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select year level"})}),e.jsx(u,{children:n.map(l=>e.jsx(r,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(j,{value:c.department_id,onValueChange:l=>{console.log("[REGISTRAR] Department Changed:",l),A({...c,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select department"})}),e.jsx(u,{children:w.map(l=>e.jsxs(r,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(j,{value:c.course_id,onValueChange:l=>{console.log("[REGISTRAR] Course Changed:",l),A({...c,course_id:l,section_id:"all"})},disabled:!c.department_id,children:[e.jsx(g,{children:e.jsx(_,{placeholder:c.department_id?"Select course":"Select department first"})}),e.jsx(u,{children:Ie.map(l=>e.jsxs(r,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(j,{value:c.section_id,onValueChange:l=>A({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"All sections"})}),e.jsxs(u,{children:[e.jsx(r,{value:"all",children:"All Sections"}),$.map(l=>e.jsx(r,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"School Year *"}),e.jsxs(j,{value:c.school_year,onValueChange:s=>A({...c,school_year:s}),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Select year"})}),e.jsx(u,{children:E.map(s=>e.jsx(r,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(j,{value:c.format,onValueChange:s=>A({...c,format:s}),children:[e.jsx(g,{children:e.jsx(_,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(r,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(r,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:"include_grades_section",checked:c.include_grades,onCheckedChange:s=>A({...c,include_grades:!!s})}),e.jsx(h,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!c.academic_level_id||!c.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(L,{type:"submit",disabled:ze||!c.academic_level_id||!c.school_year||b,className:"flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Ll as default};
