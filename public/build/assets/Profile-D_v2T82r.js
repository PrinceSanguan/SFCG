import{j as e,L as R}from"./app-B1XDlM4q.js";import{S as E}from"./layout-lm169T8R.js";import{C as m,b as o,c as x,d as h,a as g}from"./card-CuF4EDtq.js";import{B as P}from"./badge-Cjqp3MWI.js";import{U as b}from"./user-C8YaDKGb.js";import{M as B}from"./mail-DcPbDffh.js";import{G as T}from"./graduation-cap-w-xgIYjN.js";import{S as L}from"./school-CDdwXKmw.js";import{C as H}from"./calendar-CkP-WL_g.js";import{P as U,F as Y,M as u}from"./phone-DtCPMwqZ.js";import{B as D}from"./book-open-Cb7ER9SB.js";import{U as $}from"./user-check-ByzQj73J.js";import{A as C}from"./award-BY_rk-sr.js";import{U as S}from"./users-DwsbyFz9.js";import{T as z}from"./trending-up-DgcEVToY.js";/* empty css            */import"./app-shell-DnaZOSbK.js";import"./button-CPtGLZe6.js";import"./Combination-DKFTykYR.js";import"./index-YaftDDMM.js";import"./dropdown-menu-DBQ083-a.js";import"./index-BM0E_laQ.js";import"./app-sidebar-NweocuHX.js";import"./separator-Cka_buee.js";import"./chevron-right-CTezCqIR.js";import"./crown-b5ZX20zd.js";import"./file-text-DDG1dYiH.js";function ye({user:t,assignedSubjects:_,subjectGrades:q,honorResults:w,currentSchoolYear:k}){const Q=a=>{const d=a.gradingPeriod||a.grading_period,r=d==null?void 0:d.name,c=d==null?void 0:d.code;return r&&String(r).trim().length>0?r:c&&String(c).trim().length>0?c:a.grading_period_id?`Period #${a.grading_period_id}`:"N/A"},I=a=>{var n,y,v,p,f,N,i;const d=((n=a.gradingPeriod)==null?void 0:n.sort_order)!==void 0?(y=a.gradingPeriod)==null?void 0:y.period_type:(v=a.grading_period)==null?void 0:v.period_type,r=(((p=a.gradingPeriod)==null?void 0:p.code)||((f=a.grading_period)==null?void 0:f.code)||"").toUpperCase();if((((N=a.gradingPeriod)==null?void 0:N.name)||((i=a.grading_period)==null?void 0:i.name)||"").toLowerCase().includes("semester")||["F_SIM","S2","F1","S2-FA"].includes(r))return!1;const j=(d||"").toLowerCase();return["quarter","midterm","prefinal"].includes(j)?!0:["Q1","Q2","Q3","Q4","P1","S2-MT","S2-PF"].some(s=>r.includes(s))};return e.jsxs(E,{children:[e.jsx(R,{title:"My Profile"}),e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"My Profile"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your personal information and account details"})]}),e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(h,{children:"Your basic account details and student information"})]}),e.jsx(g,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Full Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),"Email Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.email})]}),t.student_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(T,{className:"h-4 w-4"}),"Student Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.student_number})]}),t.year_level&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(L,{className:"h-4 w-4"}),"Academic Level"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:t.year_level})]}),t.birth_date&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),"Birth Date"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(t.birth_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.gender&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Gender"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:t.gender})]}),t.phone_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(U,{className:"h-4 w-4"}),"Phone Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.phone_number})]}),t.nationality&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(Y,{className:"h-4 w-4"}),"Nationality"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.nationality})]}),t.religion&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),"Religion"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.religion})]}),t.lrn&&(t.year_level==="elementary"||t.year_level==="junior_highschool")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(T,{className:"h-4 w-4"}),"LRN"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.lrn})]}),t.previous_school&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(L,{className:"h-4 w-4"}),"Previous School"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.previous_school})]})]})})]}),(t.address||t.city||t.province||t.postal_code)&&e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Address Information"]}),e.jsx(h,{children:"Your residential address details"})]}),e.jsx(g,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.address&&e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4"}),"Complete Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.address})]}),t.city&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4"}),"City"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.city})]}),t.province&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4"}),"Province"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.province})]}),t.postal_code&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4"}),"Postal Code"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.postal_code})]})]})})]}),(t.emergency_contact_name||t.emergency_contact_phone||t.emergency_contact_relationship)&&e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Emergency Contact"]}),e.jsx(h,{children:"Your emergency contact information"})]}),e.jsx(g,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.emergency_contact_name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Contact Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.emergency_contact_name})]}),t.emergency_contact_phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(U,{className:"h-4 w-4"}),"Contact Phone"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.emergency_contact_phone})]}),t.emergency_contact_relationship&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx($,{className:"h-4 w-4"}),"Relationship"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.emergency_contact_relationship})]})]})})]}),w&&w.length>0&&e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"My Academic Honors - ",k]}),e.jsx(h,{children:"Your academic achievements and honor qualifications"})]}),e.jsx(g,{children:e.jsx("div",{className:"grid gap-4",children:w.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(C,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.honorType.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.academicLevel.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:a.gpa}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"GPA"})]})]},a.id))})})]}),_&&_.length>0&&e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"My Academic Information - ",k]}),e.jsx(h,{children:"Your enrolled subjects, teachers, and grades for the current school year"})]}),e.jsx(g,{children:e.jsx("div",{className:"space-y-6",children:_.map(a=>{var f,N;const d=(q[a.subject.id]||[]).filter(I),r=new Map;d.forEach(i=>{var A,F,M,G;const s=(((A=i.gradingPeriod)==null?void 0:A.code)||((F=i.grading_period)==null?void 0:F.code)||"").toUpperCase(),l=(((M=i.gradingPeriod)==null?void 0:M.name)||((G=i.grading_period)==null?void 0:G.name)||"").toLowerCase();s==="1ST_GRADING"||l.includes("1st grading")||l.includes("first quarter")?r.set("Q1",i):s==="2ND_GRADING"||l.includes("2nd grading")||l.includes("second quarter")?r.set("Q2",i):s==="3RD_GRADING"||l.includes("3rd grading")||l.includes("third quarter")?r.set("Q3",i):(s==="4TH_GRADING"||l.includes("4th grading")||l.includes("fourth quarter"))&&r.set("Q4",i),s&&r.set(s,i)});const c=t.year_level==="senior_highschool"||!1,j=t.year_level==="elementary"||!1,n=t.year_level==="junior_highschool"||!1,y=c||n||j?["Q1","Q2"]:["P1","Q1"],v=c||n||j?["Q3","Q4"]:["S2-MT","S2-PF"],p=(N=(f=a.subject.teacherAssignments)==null?void 0:f[0])==null?void 0:N.teacher;return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:a.subject.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.subject.code," • ",a.subject.units||0," units"]}),a.subject.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.subject.description})]}),e.jsxs("div",{className:"flex gap-2",children:[a.subject.is_core&&e.jsx(P,{variant:"secondary",className:"text-xs",children:"Core Subject"}),a.semester&&e.jsx(P,{variant:"outline",className:"text-xs",children:a.semester})]})]}),p&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx(S,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Teacher: ",p.name]})]}),d.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"My Grades"]}),j||n?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:["Q1","Q2","Q3","Q4"].map(i=>{const s=r.get(i),l={Q1:"First Quarter",Q2:"Second Quarter",Q3:"Third Quarter",Q4:"Fourth Quarter"};return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:s?Q(s):l[i]||i}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${s&&s.grade>=90?"text-green-600":s&&s.grade>=80?"text-yellow-600":s&&s.grade>=70?"text-orange-600":"text-red-600"}`,children:s?s.grade:"—"})})]})},`q-${i}-${(s==null?void 0:s.id)??"empty"}`)})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"First Semester"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:y.map(i=>{const s=r.get(i);return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:s?Q(s):c?i==="Q1"?"First Quarter":"Second Quarter":i==="P1"?"pre final":"First Quarter"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${s&&s.grade>=90?"text-green-600":s&&s.grade>=80?"text-yellow-600":s&&s.grade>=70?"text-orange-600":"text-red-600"}`,children:s?s.grade:"—"})})]})},`fs-${i}-${(s==null?void 0:s.id)??"empty"}`)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mt-3 mb-1",children:"Second Semester"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:v.map(i=>{const s=r.get(i);return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:s?Q(s):c?i==="Q3"?"Third Quarter":"Fourth Quarter":i==="S2-MT"?"Midterm":"Pre-Final"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${s&&s.grade>=90?"text-green-600":s&&s.grade>=80?"text-yellow-600":s&&s.grade>=70?"text-orange-600":"text-red-600"}`,children:s?s.grade:"—"})})]})},`ss-${i}-${(s==null?void 0:s.id)??"empty"}`)})})]})]})]}):e.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[e.jsx(z,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No grades recorded yet"})]})]},a.id)})})})]}),e.jsxs(m,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Linked Parents"]}),e.jsx(h,{children:"Parents linked to your account"})]}),e.jsx(g,{children:t.parents&&t.parents.length>0?e.jsx("div",{className:"space-y-3",children:t.parents.map(a=>e.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.email})]}),e.jsx(P,{variant:"outline",children:a.pivot.relationship_type.charAt(0).toUpperCase()+a.pivot.relationship_type.slice(1)})]}),a.pivot.emergency_contact&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Emergency Contact: ",a.pivot.emergency_contact]}),a.pivot.notes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Notes: ",a.pivot.notes]})]})},a.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("div",{className:"text-lg font-medium text-gray-500",children:"No parents linked"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contact the school administration to link parent accounts"})]})})]})]})]})}export{ye as default};
