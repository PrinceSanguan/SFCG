import{r as p,K as Fe,m as T,j as e,$ as Ie}from"./app-BcMbUOyL.js";import{H as De}from"./header-BrS_BmJx.js";import{S as Ee}from"./sidebar-BX2TdxoM.js";import{C as N,a as C,b as Z,c as Q}from"./card-Bk2OfYCK.js";import{B as H}from"./button-DLdAtO11.js";import{L as n}from"./label-D14go-_e.js";import{S as h,a as x,b as j,c as g,d as c}from"./select-DfuM06rf.js";import{T as Re,a as Te,b as ee,c as le}from"./tabs-CWHsEpmH.js";import{C as G}from"./checkbox-CuGX-qYs.js";import{U as de}from"./users-BLtwl422.js";import{F as V}from"./file-text-DuWke91E.js";import{A as ce}from"./award-DbfIIkN_.js";import{C as He}from"./calendar-DyKqYuBF.js";import{G as ne}from"./graduation-cap-ZWh-LsIt.js";import{T as Ge}from"./trending-up-Cn1-H-94.js";import{F as se,a as ae,A as oe}from"./file-x-Yzlcddve.js";import{D as me}from"./download-BvQo3rMM.js";/* empty css            */import"./dropdown-menu-Dtu71WjG.js";import"./Combination-DHRJhgOO.js";import"./index-CpyyUAg9.js";import"./separator-DMqbdZPP.js";import"./chevron-right-DlWNQpY3.js";import"./crown-D-hxzwMc.js";import"./building-2-CzaHmrsm.js";import"./user-cog-77De7lAI.js";import"./book-open-DyiePNY1.js";import"./user-check-DPOfzT5h.js";import"./notebook-5NekX0qq.js";import"./chart-no-axes-column-increasing-BUUtZVYC.js";import"./shield-CST_rBvy.js";import"./index-Vfnx9PJj.js";import"./index-Nroa_FiD.js";import"./check-C3W7Vz7J.js";function Il({user:re,academicLevels:_,schoolYears:S,currentSchoolYear:O,gradingPeriods:L,honorTypes:he,sections:F,tracks:P,strands:I,departments:Y,courses:D,stats:E}){var te;const[xe,je]=p.useState("honor-statistics"),[R,A]=p.useState(!1),[B,Ve]=p.useState(""),[Le,ie]=p.useState([]),[z,M]=p.useState([]),[Pe,ge]=p.useState([]),[pe,U]=p.useState([]),[Ye,ue]=p.useState([]),[ve,W]=p.useState([]),[q,J]=p.useState([]),[Be,_e]=p.useState([]),[fe,$]=p.useState([]),[ze,ye]=p.useState([]),[Se,K]=p.useState([]),{props:Ne}=Fe(),b=Ne.csrf_token||((te=document.querySelector('meta[name="csrf-token"]'))==null?void 0:te.content)||"",{data:k,setData:Me,post:Ue,processing:We}=T({academic_level_id:"all",semester_id:"",grading_period_id:"all",school_year:O||S[0]||"",format:"pdf",include_statistics:!0}),{data:i,setData:u,post:qe,processing:Ce}=T({academic_level_id:"all",school_year:O||S[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:y,setData:w,post:Je,processing:be}=T({academic_level_id:"",school_year:O||S[0]||"",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),{data:r,setData:v,post:$e,processing:ke}=T({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:O||S[0]||"",include_grades:!1,format:"pdf"});p.useEffect(()=>{if(k.academic_level_id&&k.academic_level_id!=="all"){const s=parseInt(k.academic_level_id);let t=L.filter(a=>a.academic_level_id===s);if(B){const a=parseInt(B);t=t.filter(d=>d.id===a||d.parent_id===a)}ie(t)}else ie([])},[k.academic_level_id,B,L]),p.useEffect(()=>{console.log("=== CLASS SECTION REPORT - PAGE LOADED ==="),console.log("Available Academic Levels:",_),console.log("Available School Years:",S),console.log("Current School Year:",O),console.log("Initial Section Data:",r),console.log("Available Sections:",F),console.log("Available Tracks:",P),console.log("Available Strands:",I),console.log("Available Departments:",Y),console.log("Available Courses:",D)},[]),p.useEffect(()=>{if(console.log("=== CLASS SECTION FILTER TRIGGERED ==="),console.log("Academic Level ID:",r.academic_level_id),console.log("Year Level:",r.year_level),console.log("Track ID:",r.track_id),console.log("Strand ID:",r.strand_id),console.log("Department ID:",r.department_id),console.log("Course ID:",r.course_id),!r.academic_level_id){M([]),ge([]),U([]),ue([]),W([]);return}const s=parseInt(r.academic_level_id),t=_.find(d=>d.id===s);if(console.log("Selected Level:",t),!t){M([]);return}let a=F.filter(d=>d.academic_level_id===s);console.log("Sections for level:",a),r.year_level&&(a=a.filter(d=>d.specific_year_level===r.year_level),console.log("After year level filter:",a)),t.key==="senior_highschool"&&(r.track_id&&(a=a.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===r.track_id}),console.log("After track filter:",a)),r.strand_id&&(a=a.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===r.strand_id}),console.log("After strand filter:",a))),t.key==="college"&&(r.department_id&&(a=a.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===r.department_id}),console.log("After department filter:",a)),r.course_id&&(a=a.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===r.course_id}),console.log("After course filter:",a))),console.log("Final filtered sections:",a),M(a)},[r.academic_level_id,r.year_level,r.track_id,r.strand_id,r.department_id,r.course_id,F,_]),p.useEffect(()=>{if(r.track_id){const s=parseInt(r.track_id),t=I.filter(a=>a.track_id===s);console.log("Filtered Strands for Track:",t),U(t)}else U([])},[r.track_id,I]),p.useEffect(()=>{if(r.department_id){const s=parseInt(r.department_id),t=D.filter(a=>a.department_id===s);console.log("Filtered Courses for Department:",t),W(t)}else W([])},[r.department_id,D]),p.useEffect(()=>{if(console.log("=== HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[HONOR] Academic Level ID:",i.academic_level_id),console.log("[HONOR] Year Level:",i.year_level),console.log("[HONOR] Track ID:",i.track_id),console.log("[HONOR] Strand ID:",i.strand_id),console.log("[HONOR] Department ID:",i.department_id),console.log("[HONOR] Course ID:",i.course_id),!i.academic_level_id||i.academic_level_id==="all"){J([]),_e([]),$([]),ye([]),K([]);return}const s=parseInt(i.academic_level_id),t=_.find(d=>d.id===s);if(console.log("[HONOR] Selected Level:",t),!t){J([]);return}let a=F.filter(d=>d.academic_level_id===s);console.log("[HONOR] Sections for level:",a),i.year_level&&(a=a.filter(d=>d.specific_year_level===i.year_level),console.log("[HONOR] After year level filter:",a)),t.key==="senior_highschool"&&(i.track_id&&(a=a.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===i.track_id}),console.log("[HONOR] After track filter:",a)),i.strand_id&&(a=a.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===i.strand_id}),console.log("[HONOR] After strand filter:",a))),t.key==="college"&&(i.department_id&&(a=a.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===i.department_id}),console.log("[HONOR] After department filter:",a)),i.course_id&&(a=a.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===i.course_id}),console.log("[HONOR] After course filter:",a))),console.log("[HONOR] Final filtered sections:",a),J(a)},[i.academic_level_id,i.year_level,i.track_id,i.strand_id,i.department_id,i.course_id,F,_]),p.useEffect(()=>{if(i.track_id){const s=parseInt(i.track_id),t=I.filter(a=>a.track_id===s);console.log("[HONOR] Filtered Strands for Track:",t),$(t)}else $([])},[i.track_id,I]),p.useEffect(()=>{if(i.department_id){const s=parseInt(i.department_id),t=D.filter(a=>a.department_id===s);console.log("[HONOR] Filtered Courses for Department:",t),K(t)}else K([])},[i.department_id,D]);const Ae=s=>{if(s.preventDefault(),!b){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}A(!0);let t=document.getElementById("download-iframe");t||(t=document.createElement("iframe"),t.id="download-iframe",t.style.display="none",document.body.appendChild(t));const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.honor-statistics"),a.target="download-iframe";const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=b,a.appendChild(d),Object.entries(i).forEach(([o,m])=>{const l=document.createElement("input");l.type="hidden",l.name=o,typeof m=="boolean"?l.value=m?"1":"0":l.value=(m==null?void 0:m.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>A(!1),2e3)},we=s=>{if(s.preventDefault(),!b){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}A(!0);let t=document.getElementById("download-iframe");t||(t=document.createElement("iframe"),t.id="download-iframe",t.style.display="none",document.body.appendChild(t));const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.archive-records"),a.target="download-iframe";const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=b,a.appendChild(d),Object.entries(y).forEach(([o,m])=>{const l=document.createElement("input");l.type="hidden",l.name=o,typeof m=="boolean"?l.value=m?"1":"0":l.value=(m==null?void 0:m.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>A(!1),2e3)},Oe=s=>{if(console.log("=== handleClassSectionReport CALLED ==="),s.preventDefault(),s.stopPropagation(),console.log("=== CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("Form Data:",r),!b){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}console.log("CSRF Token:",b),A(!0);let t=document.getElementById("download-iframe");t?console.log("Using existing download iframe"):(t=document.createElement("iframe"),t.id="download-iframe",t.style.display="none",document.body.appendChild(t),console.log("Created download iframe"));const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.class-section-report"),a.target="download-iframe",console.log("Form action URL:",a.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=b,a.appendChild(d),console.log("Added CSRF token to form");const o={};Object.entries(r).forEach(([m,l])=>{const f=document.createElement("input");f.type="hidden",f.name=m,typeof l=="boolean"?f.value=l?"1":"0":f.value=(l==null?void 0:l.toString())||"",o[m]=f.value,a.appendChild(f)}),console.log("Form data being submitted:",o),document.body.appendChild(a),console.log("Form appended to body, submitting..."),a.submit(),console.log("Form submitted"),document.body.removeChild(a),console.log("Form removed from body"),t.onload=()=>{var m,l;console.log("Iframe loaded");try{const f=t.contentDocument||((m=t.contentWindow)==null?void 0:m.document);if(f){const X=f.body;console.log("Iframe body content:",(l=X==null?void 0:X.textContent)==null?void 0:l.substring(0,500))}}catch(f){console.log("Could not access iframe content (this is normal for successful downloads):",f)}},setTimeout(()=>{console.log("Resetting loading state"),A(!1)},2e3)};return(()=>{if(k.academic_level_id&&k.academic_level_id!=="all"){const s=parseInt(k.academic_level_id),t=_.find(a=>a.id===s);if(t&&(t.key==="college"||t.key==="senior_highschool"))return L.filter(a=>a.academic_level_id===s&&a.parent_id===null&&a.type==="semester")}return[]})(),e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(Ee,{user:re}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(De,{user:re}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Ie,{href:route("admin.dashboard"),children:e.jsx(H,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(N,{children:e.jsxs(C,{className:"flex items-center p-6",children:[e.jsx(de,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.total_students})]})]})}),e.jsx(N,{children:e.jsxs(C,{className:"flex items-center p-6",children:[e.jsx(V,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.total_certificates})]})]})}),e.jsx(N,{children:e.jsxs(C,{className:"flex items-center p-6",children:[e.jsx(ce,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.total_honors})]})]})}),e.jsx(N,{children:e.jsxs(C,{className:"flex items-center p-6",children:[e.jsx(He,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.active_periods})]})]})}),e.jsx(N,{children:e.jsxs(C,{className:"flex items-center p-6",children:[e.jsx(ne,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sections"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.active_sections})]})]})})]}),e.jsxs(Re,{value:xe,onValueChange:je,className:"w-full",children:[e.jsxs(Te,{className:"grid w-full grid-cols-3",children:[e.jsx(ee,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(ee,{value:"archive-records",children:"Archive Records"}),e.jsx(ee,{value:"class-section-reports",children:"Class Section Reports"})]}),e.jsx(le,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(Z,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Academic Level"}),e.jsxs(h,{value:i.academic_level_id,onValueChange:s=>{console.log("[HONOR] Academic Level Changed:",s),u({...i,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All levels"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Levels"}),_.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Honor Type"}),e.jsxs(h,{value:i.honor_type_id,onValueChange:s=>u("honor_type_id",s),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All types"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Types"}),he.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),(()=>{if(!i.academic_level_id||i.academic_level_id==="all")return null;const s=_.find(m=>m.id.toString()===i.academic_level_id);if(!s)return null;const t=s.key==="elementary",a=s.key==="junior_highschool",d=s.key==="senior_highschool",o=s.key==="college";if(t||a){const m=t?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:i.year_level,onValueChange:l=>u({...i,year_level:l,section_id:"all"}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All year levels"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:i.section_id,onValueChange:l=>u({...i,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}if(d){const m=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:i.year_level,onValueChange:l=>u({...i,year_level:l,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All year levels"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Track"}),e.jsxs(h,{value:i.track_id,onValueChange:l=>u({...i,track_id:l,strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All tracks"})}),e.jsx(g,{children:P.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Strand"}),e.jsxs(h,{value:i.strand_id,onValueChange:l=>u({...i,strand_id:l,section_id:"all"}),disabled:!i.track_id,children:[e.jsx(x,{children:e.jsx(j,{placeholder:i.track_id?"All strands":"Select track first"})}),e.jsx(g,{children:fe.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:i.section_id,onValueChange:l=>u({...i,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}if(o){const m=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:i.year_level,onValueChange:l=>u({...i,year_level:l,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All year levels"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Department"}),e.jsxs(h,{value:i.department_id,onValueChange:l=>u({...i,department_id:l,course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All departments"})}),e.jsx(g,{children:Y.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Course"}),e.jsxs(h,{value:i.course_id,onValueChange:l=>u({...i,course_id:l,section_id:"all"}),disabled:!i.department_id,children:[e.jsx(x,{children:e.jsx(j,{placeholder:i.department_id?"All courses":"Select department first"})}),e.jsx(g,{children:Se.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:i.section_id,onValueChange:l=>u({...i,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),q.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"School Year"}),e.jsxs(h,{value:i.school_year,onValueChange:s=>u("school_year",s),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year"})}),e.jsx(g,{children:S.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Export Format"}),e.jsxs(h,{value:i.format,onValueChange:s=>u("format",s),children:[e.jsx(x,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(c,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(c,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(c,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(H,{type:"submit",disabled:Ce||R,className:"flex items-center gap-2",children:R?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(le,{value:"archive-records",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(Z,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:we,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Academic Level *"}),e.jsxs(h,{value:y.academic_level_id,onValueChange:s=>w("academic_level_id",s),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select level"})}),e.jsx(g,{children:_.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"School Year *"}),e.jsxs(h,{value:y.school_year,onValueChange:s=>w("school_year",s),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year"})}),e.jsx(g,{children:S.map(s=>e.jsx(c,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"include_grades",checked:y.include_grades,onCheckedChange:s=>w("include_grades",!!s)}),e.jsxs(n,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"include_honors",checked:y.include_honors,onCheckedChange:s=>w("include_honors",!!s)}),e.jsxs(n,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"include_certificates",checked:y.include_certificates,onCheckedChange:s=>w("include_certificates",!!s)}),e.jsxs(n,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Export Format"}),e.jsxs(h,{value:y.format,onValueChange:s=>w("format",s),children:[e.jsx(x,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(c,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(c,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(H,{type:"submit",disabled:be||!y.academic_level_id||!y.school_year,className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),R?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})}),e.jsx(le,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(N,{children:[e.jsxs(Z,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Academic Level *"}),e.jsxs(h,{value:r.academic_level_id,onValueChange:s=>{console.log("Academic Level Changed:",s),v({...r,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select level"})}),e.jsx(g,{children:_.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!r.academic_level_id)return null;const s=_.find(m=>m.id.toString()===r.academic_level_id);if(!s)return null;const t=s.key==="elementary",a=s.key==="junior_highschool",d=s.key==="senior_highschool",o=s.key==="college";if(t||a){const m=t?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:r.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),v({...r,year_level:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year level"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:r.section_id,onValueChange:l=>v({...r,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),z.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(d){const m=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:r.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),v({...r,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year level"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Track"}),e.jsxs(h,{value:r.track_id,onValueChange:l=>{console.log("Track Changed:",l),v({...r,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select track"})}),e.jsx(g,{children:P.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Strand"}),e.jsxs(h,{value:r.strand_id,onValueChange:l=>{console.log("Strand Changed:",l),v({...r,strand_id:l,section_id:"all"})},disabled:!r.track_id,children:[e.jsx(x,{children:e.jsx(j,{placeholder:r.track_id?"Select strand":"Select track first"})}),e.jsx(g,{children:pe.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:r.section_id,onValueChange:l=>v({...r,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),z.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(o){const m=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Year Level"}),e.jsxs(h,{value:r.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),v({...r,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year level"})}),e.jsx(g,{children:m.map(l=>e.jsx(c,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Department"}),e.jsxs(h,{value:r.department_id,onValueChange:l=>{console.log("Department Changed:",l),v({...r,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select department"})}),e.jsx(g,{children:Y.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Course"}),e.jsxs(h,{value:r.course_id,onValueChange:l=>{console.log("Course Changed:",l),v({...r,course_id:l,section_id:"all"})},disabled:!r.department_id,children:[e.jsx(x,{children:e.jsx(j,{placeholder:r.department_id?"Select course":"Select department first"})}),e.jsx(g,{children:ve.map(l=>e.jsxs(c,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Section"}),e.jsxs(h,{value:r.section_id,onValueChange:l=>v({...r,section_id:l}),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"All sections"})}),e.jsxs(g,{children:[e.jsx(c,{value:"all",children:"All Sections"}),z.map(l=>e.jsx(c,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"School Year *"}),e.jsxs(h,{value:r.school_year,onValueChange:s=>v("school_year",s),children:[e.jsx(x,{children:e.jsx(j,{placeholder:"Select year"})}),e.jsx(g,{children:S.map(s=>e.jsx(c,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Export Format"}),e.jsxs(h,{value:r.format,onValueChange:s=>v("format",s),children:[e.jsx(x,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(c,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(c,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(c,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"include_grades_section",checked:r.include_grades,onCheckedChange:s=>v("include_grades",!!s)}),e.jsx(n,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!r.academic_level_id||!r.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(H,{type:"submit",disabled:ke||!r.academic_level_id||!r.school_year||R,className:"flex items-center gap-2",children:R?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Il as default};
