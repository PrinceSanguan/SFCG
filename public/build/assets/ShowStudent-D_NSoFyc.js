import{j as e,$ as j}from"./app-D4d_CnOG.js";import{C as o,b as g,c as h,a as f}from"./card-Ddd1PbJm.js";import{B as b}from"./button-BNY9pfxV.js";import{B as N}from"./badge-B5X3Bo5x.js";import{S as P,H as I}from"./sidebar-Db8L0wmv.js";import{A as B}from"./arrow-left-D7rCR_6w.js";import{U as w}from"./user-9Qs8i3Y1.js";import{M as D}from"./mail-CQh6CzcB.js";import{B as C}from"./book-open-BuG7Pj3m.js";import{G as L}from"./graduation-cap-639r0NlY.js";import{C as k}from"./calendar-ng2Z3a6p.js";import{A as F}from"./award-DxCdZEOx.js";import{S as A}from"./square-pen-CvjMayw4.js";import{P as E}from"./plus-BMDvNPjd.js";/* empty css            */import"./dropdown-menu-C8j3iGLG.js";import"./Combination-DV3hOdVE.js";import"./index--LpZLMxA.js";import"./log-out-B1DUJlT7.js";import"./upload-oPN4Z0XZ.js";import"./crown-CpcUdmWy.js";function le({user:u,student:l,subject:d,grades:i,gradingPeriods:m}){var G,_;console.log("ShowStudent props:",{user:u,student:l,subject:d,grades:i,gradingPeriods:m});const y=(r,s)=>s==="college"?r<=1.5?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r<=2.5?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":r<=3?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":r>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r>=90?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":r>=85?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":r>=75?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",S=(r,s)=>s==="college"?r<=1.5?"Outstanding":r<=2?"Superior":r<=2.5?"Very Good":r<=3?"Good":r<=4?"Satisfactory":"Failed":r>=95?"Outstanding":r>=90?"Superior":r>=85?"Very Good":r>=80?"Good":r>=75?"Satisfactory":"Failed",t=i.length>0?i[0]:null,n=((G=t==null?void 0:t.academicLevel)==null?void 0:G.key)||"senior_high",p=((_=t==null?void 0:t.academicLevel)==null?void 0:_.name)||"Senior High School",x=m.filter(s=>{const a=n;return s.code.toLowerCase().includes(a.toLowerCase())}).sort((s,a)=>s.id-a.id).map(s=>({id:s.id,name:s.name,code:s.code,gradingPeriodId:s.id}));return console.log("ShowStudent component data:",{gradingPeriods:m.map(r=>({id:r.id,name:r.name,code:r.code})),tableGradingPeriods:x.map(r=>({id:r.id,name:r.name,code:r.code,gradingPeriodId:r.gradingPeriodId})),availableQuarters:x.map(r=>r.name),academicLevelKey:n,academicLevelName:p,grades:i.map(r=>{var s;return{id:r.id,grade:r.grade,grading_period_id:r.grading_period_id,academicLevel:(s=r.academicLevel)==null?void 0:s.key}})}),e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(P,{user:u}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(I,{user:u}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{href:route("teacher.grades.index"),children:e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Grades"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Student Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["View and manage grades for ",l.name]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"bg-white shadow-sm",children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(w,{className:"h-5 w-5 text-gray-600"}),"Personal Information"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:e.jsx(w,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]})]}),l.student_number&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100",children:e.jsx(w,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Student ID"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.student_number})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100",children:e.jsx(D,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.email})]})]})]})]}),e.jsxs(o,{className:"bg-white shadow-sm",children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(C,{className:"h-5 w-5 text-gray-600"}),"Subject & Course Information"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100",children:e.jsx(C,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Subject"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[d.name," (",d.code,")"]})]})]}),d.course&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:e.jsx(L,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Course"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[d.course.name," (",d.course.code,")"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100",children:e.jsx(L,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Academic Level"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-100",children:e.jsx(k,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"School Year"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:(t==null?void 0:t.school_year)||"N/A"})]})]})]})})]}),m.length>0&&e.jsxs(o,{className:"bg-white shadow-sm",children:[e.jsxs(g,{children:[e.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(k,{className:"h-5 w-5 text-gray-600"}),"Grading Periods"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Available grading periods for ",p]})]}),e.jsx(f,{children:e.jsx("div",{className:"space-y-4",children:m.filter(r=>{const s=n;return r.code.toLowerCase().includes(s.toLowerCase())}).map(r=>e.jsxs("div",{className:"relative border rounded-lg p-4 bg-gray-50",children:[e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(N,{variant:"outline",className:"text-xs bg-gray-100 text-gray-600",children:r.code})}),e.jsx("h4",{className:"font-medium mb-2 text-gray-900",children:r.name}),r.start_date&&r.end_date&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[new Date(r.start_date).toLocaleDateString()," - ",new Date(r.end_date).toLocaleDateString()]}),e.jsx(N,{variant:r.is_active?"default":"secondary",className:"text-xs",children:r.is_active?"Active":"Inactive"})]},r.id))})})]}),e.jsxs(o,{className:"bg-white shadow-sm",children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(F,{className:"h-5 w-5 text-gray-600"}),"Current Grade Summary"]})}),e.jsx(f,{children:(()=>{const r=i.filter(s=>s.grade!==null&&s.grade!==void 0).map(s=>s.grade);if(r.length>0){const s=r.reduce((c,v)=>c+v,0)/r.length,a=S(s,n);return e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Average Grade"}),e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-lg text-2xl font-bold ${y(s,n)}`,children:s.toFixed(1)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Status"}),e.jsx("p",{className:`text-lg font-semibold ${["Superior","Very Good","Good","Satisfactory","Fair","Outstanding"].includes(a)?"text-green-600":"text-red-600"}`,children:a})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Periods Graded"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[r.length," of ",x.length]})]})]})}else return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",children:"ðŸ“Š"}),e.jsx("p",{className:"text-gray-500",children:"No grades recorded yet"})]})})()})]}),e.jsxs(o,{className:"bg-white shadow-sm",children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(k,{className:"h-5 w-5 text-gray-600"}),"Grade History"]})}),e.jsx(f,{children:i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-white",children:[e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:"Student ID"}),e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:"Subject"}),e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:"Faculty"}),x.map(r=>e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:r.name},r.id)),e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:"AVERAGE"}),e.jsx("th",{className:"text-left p-3 font-medium border-r border-gray-700",children:"Grade Status"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"border-b bg-gray-100 dark:bg-gray-800",children:[e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600 font-medium",children:e.jsx("span",{className:"font-medium",children:l.student_number||l.id})}),e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.code})]})}),e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:u.name})}),x.map(r=>{var a;const s=i.find(c=>c.grading_period_id===r.gradingPeriodId);return e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600 text-center",children:s?e.jsx(N,{className:y(s.grade,((a=s.academicLevel)==null?void 0:a.key)||"senior_high"),children:s.grade}):e.jsx("span",{className:"text-gray-400",children:"-"})},r.id)}),e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600 text-center",children:(()=>{const r=i.filter(s=>s.grade!==null&&s.grade!==void 0).map(s=>s.grade);if(r.length>0){const s=r.reduce((a,c)=>a+c,0)/r.length;return e.jsx(N,{className:`text-lg px-3 py-1 ${y(s,n)}`,children:s.toFixed(1)})}else return e.jsx("span",{className:"text-gray-400",children:"-"})})()}),e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600 text-center",children:(()=>{const r=i.filter(s=>s.grade!==null&&s.grade!==void 0).map(s=>s.grade);if(r.length>0){const s=r.reduce((c,v)=>c+v,0)/r.length,a=S(s,n);return e.jsx("span",{className:`text-sm font-medium ${["Superior","Very Good","Good","Satisfactory","Fair","Outstanding"].includes(a)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a})}else return e.jsx("span",{className:"text-gray-400",children:"No Grade"})})()}),e.jsx("td",{className:"p-3 border-r border-gray-200 dark:border-gray-600 text-center",children:e.jsx("div",{className:"flex justify-center gap-2",children:t&&e.jsx(j,{href:route("teacher.grades.edit",t.id),children:e.jsxs(b,{size:"sm",variant:"outline",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Edit"]})})})})]})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",children:"ðŸ“Š"}),e.jsx("p",{className:"text-gray-500",children:"No grade history available"})]})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(j,{href:route("teacher.grades.create",{student_id:l.id,subject_id:d.id,academic_level_key:n}),className:"flex-1",children:e.jsxs(b,{className:"w-full",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Input New Grade"]})}),t&&e.jsx(j,{href:route("teacher.grades.edit",t.id),className:"flex-1",children:e.jsxs(b,{variant:"outline",className:"w-full",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Edit Current Grade"]})})]})]})})]})]})}export{le as default};
