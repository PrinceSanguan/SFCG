import{j as e,L as D,$ as F}from"./app-CWHRhZC4.js";import{H,S as _}from"./sidebar-CWnSWMPh.js";import{B as o}from"./badge-5IBEjHxM.js";import{C as u,b,c as y,a as f}from"./card-DffXB3I9.js";import{T as Q,a as w,b as N,c as t,d as G,e as d}from"./table-Cm2xQZ8W.js";import{A as C}from"./arrow-left-B4THHYdV.js";import{B as v}from"./book-open-Cy2z8Mr4.js";import{G as P}from"./graduation-cap-DcNraHVS.js";import{U as R}from"./user-C6JTTUKv.js";/* empty css            */import"./button-6DoD_zhE.js";import"./dropdown-menu-iCUb2ixf.js";import"./Combination-Dy4IsmSU.js";import"./index-BZKDxdmf.js";import"./upload-CcebnvRl.js";import"./crown-DYb2Wgbr.js";function X({user:h,student:g,subject:j,grades:m,schoolYear:S}){const l=m.filter(r=>r.grade!==null),a={Q1:m.find(r=>{var s,i,n,c,x;return(((s=r.gradingPeriod)==null?void 0:s.code)==="Q1"||((i=r.gradingPeriod)==null?void 0:i.code)==="1ST_GRADING"||((n=r.gradingPeriod)==null?void 0:n.code)==="F1"||((c=r.gradingPeriod)==null?void 0:c.name)==="1st Grading"||((x=r.gradingPeriod)==null?void 0:x.name)==="First Quarter")&&r.grade!==null}),Q2:m.find(r=>{var s,i,n,c,x;return(((s=r.gradingPeriod)==null?void 0:s.code)==="Q2"||((i=r.gradingPeriod)==null?void 0:i.code)==="2ND_GRADING"||((n=r.gradingPeriod)==null?void 0:n.code)==="F2"||((c=r.gradingPeriod)==null?void 0:c.name)==="2nd Grading"||((x=r.gradingPeriod)==null?void 0:x.name)==="Second Quarter")&&r.grade!==null}),Q3:m.find(r=>{var s,i,n,c,x;return(((s=r.gradingPeriod)==null?void 0:s.code)==="Q3"||((i=r.gradingPeriod)==null?void 0:i.code)==="3RD_GRADING"||((n=r.gradingPeriod)==null?void 0:n.code)==="F3"||((c=r.gradingPeriod)==null?void 0:c.name)==="3rd Grading"||((x=r.gradingPeriod)==null?void 0:x.name)==="Third Quarter")&&r.grade!==null}),Q4:m.find(r=>{var s,i,n,c,x;return(((s=r.gradingPeriod)==null?void 0:s.code)==="Q4"||((i=r.gradingPeriod)==null?void 0:i.code)==="4TH_GRADING"||((n=r.gradingPeriod)==null?void 0:n.code)==="F4"||((c=r.gradingPeriod)==null?void 0:c.name)==="4th Grading"||((x=r.gradingPeriod)==null?void 0:x.name)==="Fourth Quarter")&&r.grade!==null})},A=r=>r>=95?{text:"With Highest Honors",color:"bg-green-100 text-green-800 border-green-200"}:r>=90?{text:"With High Honors",color:"bg-blue-100 text-blue-800 border-blue-200"}:r>=85?{text:"With Honors",color:"bg-purple-100 text-purple-800 border-purple-200"}:r>=75?{text:"Passed",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:{text:"Failed",color:"bg-red-100 text-red-800 border-red-200"},T=l.length>0?l.reduce((r,s)=>r+s.grade,0)/l.length:0,p=l.length>0?A(T):{text:"No Grade",color:"bg-gray-100 text-gray-800 border-gray-200"};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(D,{title:`${g.name} • ${j.name} • Grades`}),e.jsx(H,{user:{name:h.name,email:h.email||""}}),e.jsxs("div",{className:"flex",children:[e.jsx(_,{user:{name:h.name,email:h.email||""}}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(F,{href:route("adviser.grades.index"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(C,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to Grades"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:g.name}),e.jsxs("p",{className:"text-gray-600",children:[j.name," (",j.code,")"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["School Year: ",S]})]})]}),e.jsxs(u,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Grade Summary"})]})}),e.jsxs(f,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.Q1?a.Q1.grade:"—"}),e.jsx("div",{className:"text-sm text-blue-600",children:"First Quarter"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.Q2?a.Q2.grade:"—"}),e.jsx("div",{className:"text-sm text-green-600",children:"Second Quarter"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.Q3?a.Q3.grade:"—"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Third Quarter"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.Q4?a.Q4.grade:"—"}),e.jsx("div",{className:"text-sm text-purple-600",children:"Fourth Quarter"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:l.length>0?(l.reduce((r,s)=>r+s.grade,0)/l.length).toFixed(2):"—"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Average"})]}),e.jsx("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:e.jsx(o,{className:p.color,children:p.text})})]})]})]}),e.jsxs(u,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Detailed Grades"})]})}),e.jsx(f,{children:e.jsxs(Q,{children:[e.jsx(w,{children:e.jsxs(N,{children:[e.jsx(t,{className:"bg-gray-900 text-white",children:"Student ID"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Subject"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Faculty"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Q1"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Q2"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Q3"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Q4"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"AVERAGE"}),e.jsx(t,{className:"bg-gray-900 text-white",children:"Grade Status"})]})}),e.jsx(G,{children:e.jsxs(N,{children:[e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:g.student_number||g.id})]})}),e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:j.name})]})}),e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:l.length>0&&l[0].teacher_name?l[0].teacher_name:"No Teacher Assigned"})]})}),e.jsx(d,{className:"px-4 py-3",children:a.Q1?e.jsx(o,{className:"bg-blue-100 text-blue-800 border-blue-200",children:a.Q1.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:a.Q2?e.jsx(o,{className:"bg-green-100 text-green-800 border-green-200",children:a.Q2.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:a.Q3?e.jsx(o,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:a.Q3.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:a.Q4?e.jsx(o,{className:"bg-purple-100 text-purple-800 border-purple-200",children:a.Q4.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:l.length>0?e.jsx(o,{className:"bg-gray-100 text-gray-800 border-gray-200",children:(l.reduce((r,s)=>r+s.grade,0)/l.length).toFixed(2)}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:e.jsx(o,{className:p.color,children:p.text})})]})})]})})]}),m.length>0&&e.jsxs(u,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Grade History"})]})}),e.jsx(f,{children:e.jsxs(Q,{children:[e.jsx(w,{children:e.jsxs(N,{children:[e.jsx(t,{children:"Grading Period"}),e.jsx(t,{children:"Grade"}),e.jsx(t,{children:"Date Added"}),e.jsx(t,{children:"Status"})]})}),e.jsx(G,{children:m.map(r=>e.jsxs(N,{children:[e.jsx(d,{className:"font-medium",children:r.gradingPeriod?r.gradingPeriod.name:"General Grade"}),e.jsx(d,{children:e.jsx(o,{className:r.grade>=75?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:r.grade})}),e.jsx(d,{className:"text-gray-600",children:new Date(r.created_at).toLocaleDateString()}),e.jsx(d,{children:r.is_submitted_for_validation?e.jsx(o,{variant:"outline",className:"text-green-600",children:"Submitted"}):e.jsx(o,{variant:"outline",className:"text-yellow-600",children:"Draft"})})]},r.id))})]})})]})]})})]})]})}export{X as default};
