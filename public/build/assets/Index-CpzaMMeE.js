import{u as ze,r as f,K as Je,m as $,j as e,$ as Ke}from"./app-1PJ-pEqS.js";import{H as Xe}from"./header-g0ssp3VF.js";import{S as Ze}from"./sidebar-A_n_ocFs.js";import{C as R,a as E,b as de,c as ce}from"./card-oE5KoZZM.js";import{B as W}from"./button-BRPO0Fz5.js";import{L as h}from"./label-Co2WAbuE.js";import{S as g,a as x,b as u,c as v,d as o}from"./select-DuO1qrbz.js";import{T as Qe,a as el,b as he,c as me}from"./tabs-Yz6F3zRM.js";import{C as z}from"./checkbox-DMyRTPex.js";import{U as Ne}from"./users-BqsZ0F40.js";import{F as J}from"./file-text-4nC6EHPD.js";import{A as ye}from"./award-nqKHsRKZ.js";import{C as ll}from"./calendar-G4IKFHuO.js";import{G as Se}from"./graduation-cap-wdVUZCoL.js";import{T as rl}from"./trending-up-r2eJ53W5.js";import{F as ge,a as xe,A as Ie}from"./file-x-CaL9o0tW.js";import{D as Ce}from"./download-BJyxR9MF.js";/* empty css            */import"./dropdown-menu-dPQob_q_.js";import"./Combination-G2DLF_JH.js";import"./index-DCOhH45X.js";import"./separator-C1zoXpex.js";import"./chevron-right-C1y1st2Z.js";import"./crown-Dol9ZxcJ.js";import"./building-2-BTUTsY6K.js";import"./user-cog-BL_qBnEf.js";import"./book-open-CO6DEAZe.js";import"./user-check-BI-b9b_x.js";import"./notebook-C2bbp08H.js";import"./chart-no-axes-column-increasing-CiK6FEnS.js";import"./shield-BsX-qSHp.js";import"./index-BKZ96xty.js";import"./index-7z82M5yk.js";import"./check-B-7xJYWy.js";function Kl({user:ue,academicLevels:y,schoolYears:b,currentSchoolYear:G,gradingPeriods:K,honorTypes:De,sections:F,tracks:L,strands:H,departments:P,courses:T,stats:Y}){var pe;const{addToast:A}=ze(),[U,be]=f.useState("honor-statistics"),[q,V]=f.useState(!1),[X,sl]=f.useState(""),[al,ve]=f.useState([]),[Z,Q]=f.useState([]),[il,ke]=f.useState([]),[Me,ee]=f.useState([]),[tl,we]=f.useState([]),[Re,le]=f.useState([]),[re,se]=f.useState([]),[nl,Ee]=f.useState([]),[Fe,ae]=f.useState([]),[ol,He]=f.useState([]),[Te,ie]=f.useState([]),[te,je]=f.useState([]),[Oe,_e]=f.useState([]),[Ve,ne]=f.useState([]),[Ge,fe]=f.useState([]),[Le,oe]=f.useState([]),{props:Pe}=Je(),D=Pe.csrf_token||((pe=document.querySelector('meta[name="csrf-token"]'))==null?void 0:pe.content)||"",{data:O,setData:dl,post:cl,processing:hl}=$({academic_level_id:"all",semester_id:"",grading_period_id:"all",school_year:G||b[0]||"",format:"pdf",include_statistics:!0}),{data:d,setData:S,post:ml,processing:Ye}=$({academic_level_id:"all",school_year:G||b[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:i,setData:N,post:gl,processing:qe}=$({academic_level_id:"",school_year:G||b[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),{data:t,setData:I,post:xl,processing:Be}=$({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:G||b[0]||"",include_grades:!1,format:"pdf"});f.useEffect(()=>{if(O.academic_level_id&&O.academic_level_id!=="all"){const s=parseInt(O.academic_level_id);let a=K.filter(r=>r.academic_level_id===s);if(X){const r=parseInt(X);a=a.filter(n=>n.id===r||n.parent_id===r)}ve(a)}else ve([])},[O.academic_level_id,X,K]),f.useEffect(()=>{console.log("=== CLASS SECTION REPORT - PAGE LOADED ==="),console.log("Available Academic Levels:",y),console.log("Available School Years:",b),console.log("Current School Year:",G),console.log("Initial Section Data:",t),console.log("Available Sections:",F),console.log("Available Tracks:",L),console.log("Available Strands:",H),console.log("Available Departments:",P),console.log("Available Courses:",T)},[]),f.useEffect(()=>{if(console.log("=== CLASS SECTION FILTER TRIGGERED ==="),console.log("Academic Level ID:",t.academic_level_id),console.log("Year Level:",t.year_level),console.log("Track ID:",t.track_id),console.log("Strand ID:",t.strand_id),console.log("Department ID:",t.department_id),console.log("Course ID:",t.course_id),!t.academic_level_id){Q([]),ke([]),ee([]),we([]),le([]);return}const s=parseInt(t.academic_level_id),a=y.find(n=>n.id===s);if(console.log("Selected Level:",a),!a){Q([]);return}let r=F.filter(n=>n.academic_level_id===s);console.log("Sections for level:",r),t.year_level&&(r=r.filter(n=>n.specific_year_level===t.year_level),console.log("After year level filter:",r)),a.key==="senior_highschool"&&(t.track_id&&(r=r.filter(n=>{var c;return((c=n.track_id)==null?void 0:c.toString())===t.track_id}),console.log("After track filter:",r)),t.strand_id&&(r=r.filter(n=>{var c;return((c=n.strand_id)==null?void 0:c.toString())===t.strand_id}),console.log("After strand filter:",r))),a.key==="college"&&(t.department_id&&(r=r.filter(n=>{var c;return((c=n.department_id)==null?void 0:c.toString())===t.department_id}),console.log("After department filter:",r)),t.course_id&&(r=r.filter(n=>{var c;return((c=n.course_id)==null?void 0:c.toString())===t.course_id}),console.log("After course filter:",r))),console.log("Final filtered sections:",r),Q(r)},[t.academic_level_id,t.year_level,t.track_id,t.strand_id,t.department_id,t.course_id,F,y]),f.useEffect(()=>{if(t.track_id){const s=parseInt(t.track_id),a=H.filter(r=>r.track_id===s);console.log("Filtered Strands for Track:",a),ee(a)}else ee([])},[t.track_id,H]),f.useEffect(()=>{if(t.department_id){const s=parseInt(t.department_id),a=T.filter(r=>r.department_id===s);console.log("Filtered Courses for Department:",a),le(a)}else le([])},[t.department_id,T]),f.useEffect(()=>{if(console.log("=== HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[HONOR] Academic Level ID:",d.academic_level_id),console.log("[HONOR] Year Level:",d.year_level),console.log("[HONOR] Track ID:",d.track_id),console.log("[HONOR] Strand ID:",d.strand_id),console.log("[HONOR] Department ID:",d.department_id),console.log("[HONOR] Course ID:",d.course_id),!d.academic_level_id||d.academic_level_id==="all"){se([]),Ee([]),ae([]),He([]),ie([]);return}const s=parseInt(d.academic_level_id),a=y.find(n=>n.id===s);if(console.log("[HONOR] Selected Level:",a),!a){se([]);return}let r=F.filter(n=>n.academic_level_id===s);console.log("[HONOR] Sections for level:",r),d.year_level&&(r=r.filter(n=>n.specific_year_level===d.year_level),console.log("[HONOR] After year level filter:",r)),a.key==="senior_highschool"&&(d.track_id&&(r=r.filter(n=>{var c;return((c=n.track_id)==null?void 0:c.toString())===d.track_id}),console.log("[HONOR] After track filter:",r)),d.strand_id&&(r=r.filter(n=>{var c;return((c=n.strand_id)==null?void 0:c.toString())===d.strand_id}),console.log("[HONOR] After strand filter:",r))),a.key==="college"&&(d.department_id&&(r=r.filter(n=>{var c;return((c=n.department_id)==null?void 0:c.toString())===d.department_id}),console.log("[HONOR] After department filter:",r)),d.course_id&&(r=r.filter(n=>{var c;return((c=n.course_id)==null?void 0:c.toString())===d.course_id}),console.log("[HONOR] After course filter:",r))),console.log("[HONOR] Final filtered sections:",r),se(r)},[d.academic_level_id,d.year_level,d.track_id,d.strand_id,d.department_id,d.course_id,F,y]),f.useEffect(()=>{if(d.track_id){const s=parseInt(d.track_id),a=H.filter(r=>r.track_id===s);console.log("[HONOR] Filtered Strands for Track:",a),ae(a)}else ae([])},[d.track_id,H]),f.useEffect(()=>{if(d.department_id){const s=parseInt(d.department_id),a=T.filter(r=>r.department_id===s);console.log("[HONOR] Filtered Courses for Department:",a),ie(a)}else ie([])},[d.department_id,T]),f.useEffect(()=>{if(console.log("=== [ADMIN] ARCHIVE FILTER TRIGGERED ==="),console.log("[ADMIN ARCHIVE] Academic Level ID:",i.academic_level_id),!i.academic_level_id){je([]),_e([]),ne([]),fe([]),oe([]);return}const s=parseInt(i.academic_level_id),a=y.find(n=>n.id===s);if(!a){console.log("[ADMIN ARCHIVE] Selected level not found");return}console.log("[ADMIN ARCHIVE] Selected Level:",a.name,a.key);let r=F.filter(n=>n.academic_level_id===s);console.log("[ADMIN ARCHIVE] Sections for level:",r.length),a.key==="senior_highschool"&&(console.log("[ADMIN ARCHIVE] Processing SHS filters"),_e(L),i.track_id&&(console.log("[ADMIN ARCHIVE] Filtering by Track ID:",i.track_id),r=r.filter(n=>{var c;return((c=n.track_id)==null?void 0:c.toString())===i.track_id})),i.strand_id&&(console.log("[ADMIN ARCHIVE] Filtering by Strand ID:",i.strand_id),r=r.filter(n=>{var c;return((c=n.strand_id)==null?void 0:c.toString())===i.strand_id})),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),r=r.filter(n=>n.specific_year_level===i.year_level))),a.key==="college"&&(console.log("[ADMIN ARCHIVE] Processing College filters"),fe(P),i.department_id&&(console.log("[ADMIN ARCHIVE] Filtering by Department ID:",i.department_id),r=r.filter(n=>{var c;return((c=n.department_id)==null?void 0:c.toString())===i.department_id})),i.course_id&&(console.log("[ADMIN ARCHIVE] Filtering by Course ID:",i.course_id),r=r.filter(n=>{var c;return((c=n.course_id)==null?void 0:c.toString())===i.course_id})),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),r=r.filter(n=>n.specific_year_level===i.year_level))),(a.key==="elementary"||a.key==="junior_highschool")&&(console.log("[ADMIN ARCHIVE] Processing Elementary/JHS filters"),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),r=r.filter(n=>n.specific_year_level===i.year_level))),console.log("[ADMIN ARCHIVE] Final filtered sections:",r.length),je(r)},[i.academic_level_id,i.year_level,i.track_id,i.strand_id,i.department_id,i.course_id,F,y,L,P]),f.useEffect(()=>{if(i.track_id){const s=parseInt(i.track_id),a=H.filter(r=>r.track_id===s);ne(a)}else ne([])},[i.track_id,H]),f.useEffect(()=>{if(i.department_id){const s=parseInt(i.department_id),a=T.filter(r=>r.department_id===s);oe(a)}else oe([])},[i.department_id,T]);const Ue=s=>{if(s.preventDefault(),console.log("=== [ADMIN] HONOR STATISTICS FORM SUBMISSION ==="),console.log("[ADMIN] Button clicked at:",new Date().toISOString()),console.log("[ADMIN] Honor Data:",d),console.log("[ADMIN] Active Tab:",U),!D){console.error("[ADMIN] CSRF token not found"),A("Session expired. Please refresh the page and try again.","error");return}if(console.log("[ADMIN] CSRF Token:",D),!d.school_year){console.error("[ADMIN] School year is required"),A("Please select a school year before generating the report.","warning");return}console.log("[ADMIN] All validations passed, starting report generation..."),A("Generating Honor Statistics Report...","info",{duration:2e3}),V(!0);let a=document.getElementById("download-iframe");a?(a.name="download-iframe",console.log("[ADMIN] Using existing download iframe, name set to:",a.name)):(a=document.createElement("iframe"),a.id="download-iframe",a.name="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("[ADMIN] Created download iframe with name:",a.name));const r=document.createElement("form");r.method="POST",r.action=route("admin.reports.honor-statistics"),r.target="download-iframe",console.log("[ADMIN] Form action URL:",r.action),console.log("[ADMIN] Form target:",r.target);const n=document.createElement("input");n.type="hidden",n.name="_token",n.value=D,r.appendChild(n);const c={};Object.entries(d).forEach(([_,l])=>{const m=document.createElement("input");m.type="hidden",m.name=_,typeof l=="boolean"?m.value=l?"1":"0":m.value=(l==null?void 0:l.toString())||"",c[_]=m.value,r.appendChild(m)}),console.log("[ADMIN] Form data being submitted:",c),a.onload=()=>{var _,l,m,k,M;console.log("[ADMIN] Iframe loaded at:",new Date().toISOString());try{const C=a.contentDocument||((_=a.contentWindow)==null?void 0:_.document);if(C){const j=C.body,p=(j==null?void 0:j.textContent)||"";if(console.log("[ADMIN] Iframe body content length:",p.length),console.log("[ADMIN] Iframe body preview:",p.substring(0,500)),j==null?void 0:j.querySelector('[data-error-type="no-data"]')){const w=((m=(l=j==null?void 0:j.querySelector(".error-title"))==null?void 0:l.textContent)==null?void 0:m.trim())||"No data found",B=((M=(k=j==null?void 0:j.querySelector(".error-message"))==null?void 0:k.textContent)==null?void 0:M.trim())||"Please adjust your filters and try again.";console.warn("[ADMIN] No data found:",w),A(`${w} ${B}`,"warning",{duration:5e3}),setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed after error detection"))},100);return}p.includes("error")||p.includes("Error")||p.includes("Exception")?(console.error("[ADMIN] Error detected in response:",p.substring(0,1e3)),A("An error occurred while generating the report. Please check the Laravel logs.","error",{duration:7e3})):p.length>0&&p.length<200?(console.error("[ADMIN] Possible error response:",p),A("Report generation may have failed. Please check the Laravel logs.","warning",{duration:5e3})):(console.log("[ADMIN] Report likely generated successfully"),A("Report generated successfully! Download should start automatically.","success",{duration:3e3}))}}catch(C){console.log("[ADMIN] Could not access iframe content (this is normal for successful downloads):",C),A("Report generated! Check your downloads folder.","success",{duration:3e3})}setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed from body after iframe load"))},100)},document.body.appendChild(r),console.log("[ADMIN] Form appended to body"),setTimeout(()=>{console.log("[ADMIN] Submitting form to iframe:",r.target),r.submit(),console.log("[ADMIN] Form submitted at:",new Date().toISOString())},50),setTimeout(()=>{console.log("[ADMIN] Resetting loading state at:",new Date().toISOString()),V(!1)},3e3)},$e=s=>{if(s.preventDefault(),console.log("=== [ADMIN] ARCHIVE RECORDS FORM SUBMISSION ==="),console.log("[ADMIN] Button clicked at:",new Date().toISOString()),console.log("[ADMIN] Archive Data:",i),console.log("[ADMIN] Active Tab:",U),!D){console.error("[ADMIN] CSRF token not found"),A("Session expired. Please refresh the page and try again.","error");return}if(console.log("[ADMIN] CSRF Token:",D),!i.academic_level_id){console.error("[ADMIN] Academic level is required"),A("Please select an academic level before creating the archive.","warning");return}if(!i.school_year){console.error("[ADMIN] School year is required"),A("Please select a school year before creating the archive.","warning");return}if(!i.include_grades&&!i.include_honors&&!i.include_certificates){console.error("[ADMIN] No data types selected"),A("Please select at least one data type to include in the archive (grades, honors, or certificates).","warning");return}console.log("[ADMIN] All validations passed, starting archive creation..."),A("Creating Academic Records Archive...","info",{duration:2e3}),V(!0);let a=document.getElementById("download-iframe");a?(a.name="download-iframe",console.log("[ADMIN] Using existing download iframe, name set to:",a.name)):(a=document.createElement("iframe"),a.id="download-iframe",a.name="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("[ADMIN] Created download iframe with name:",a.name));const r=document.createElement("form");r.method="POST",r.action=route("admin.reports.archive-records"),r.target="download-iframe",console.log("[ADMIN] Form action URL:",r.action);const n=document.createElement("input");n.type="hidden",n.name="_token",n.value=D,r.appendChild(n);const c={};Object.entries(i).forEach(([_,l])=>{const m=document.createElement("input");m.type="hidden",m.name=_,typeof l=="boolean"?m.value=l?"1":"0":m.value=(l==null?void 0:l.toString())||"",c[_]=m.value,r.appendChild(m)}),console.log("[ADMIN] Form data being submitted:",c),a.onload=()=>{var _,l,m,k,M;console.log("[ADMIN] Iframe loaded at:",new Date().toISOString());try{const C=a.contentDocument||((_=a.contentWindow)==null?void 0:_.document);if(C){const j=C.body,p=(j==null?void 0:j.textContent)||"";if(console.log("[ADMIN] Iframe body content length:",p.length),console.log("[ADMIN] Iframe body preview:",p.substring(0,500)),j==null?void 0:j.querySelector('[data-error-type="no-data"]')){const w=((m=(l=j==null?void 0:j.querySelector(".error-title"))==null?void 0:l.textContent)==null?void 0:m.trim())||"No data found",B=((M=(k=j==null?void 0:j.querySelector(".error-message"))==null?void 0:k.textContent)==null?void 0:M.trim())||"Please adjust your filters and try again.";console.warn("[ADMIN] No data found:",w),A(`${w} ${B}`,"warning",{duration:5e3}),setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed after error detection"))},100);return}p.includes("error")||p.includes("Error")||p.includes("Exception")?(console.error("[ADMIN] Error detected in response:",p.substring(0,1e3)),A("An error occurred while creating the archive. Please check the Laravel logs.","error",{duration:7e3})):p.length>0&&p.length<200?(console.error("[ADMIN] Possible error response:",p),A("Archive creation may have failed. Please check the Laravel logs.","warning",{duration:5e3})):(console.log("[ADMIN] Archive likely created successfully"),A("Archive created successfully! Download should start automatically.","success",{duration:3e3}))}}catch(C){console.log("[ADMIN] Could not access iframe content (this is normal for successful downloads):",C),A("Archive created! Check your downloads folder.","success",{duration:3e3})}setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed from body after iframe load"))},100)},document.body.appendChild(r),console.log("[ADMIN] Form appended to body"),setTimeout(()=>{console.log("[ADMIN] Submitting form to iframe:",r.target),r.submit(),console.log("[ADMIN] Form submitted at:",new Date().toISOString())},50),setTimeout(()=>{console.log("[ADMIN] Resetting loading state at:",new Date().toISOString()),V(!1)},3e3)},We=s=>{if(console.log("=== handleClassSectionReport CALLED ==="),console.log("[ADMIN] Button clicked at:",new Date().toISOString()),s.preventDefault(),s.stopPropagation(),console.log("=== [ADMIN] CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("[ADMIN] Section Data:",t),console.log("[ADMIN] Active Tab:",U),!D){console.error("[ADMIN] CSRF token not found"),A("Session expired. Please refresh the page and try again.","error");return}if(!t.academic_level_id){console.error("[ADMIN] Academic level is required"),A("Please select an academic level before generating the report.","warning");return}if(!t.school_year){console.error("[ADMIN] School year is required"),A("Please select a school year before generating the report.","warning");return}console.log("[ADMIN] CSRF Token:",D),console.log("[ADMIN] All validations passed, starting report generation..."),A("Generating Class Section Report...","info",{duration:2e3}),V(!0);let a=document.getElementById("download-iframe");a?(a.name="download-iframe",console.log("[ADMIN] Using existing download iframe, name set to:",a.name)):(a=document.createElement("iframe"),a.id="download-iframe",a.name="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("[ADMIN] Created download iframe with name:",a.name));const r=document.createElement("form");r.method="POST",r.action=route("admin.reports.class-section-report"),r.target="download-iframe",console.log("[ADMIN] Form action URL:",r.action),console.log("[ADMIN] Form target:",r.target);const n=document.createElement("input");n.type="hidden",n.name="_token",n.value=D,r.appendChild(n);const c={};Object.entries(t).forEach(([_,l])=>{const m=document.createElement("input");m.type="hidden",m.name=_,typeof l=="boolean"?m.value=l?"1":"0":m.value=(l==null?void 0:l.toString())||"",c[_]=m.value,r.appendChild(m)}),console.log("[ADMIN] Form data being submitted:",c),a.onload=()=>{var _,l,m,k,M;console.log("[ADMIN] Iframe loaded at:",new Date().toISOString());try{const C=a.contentDocument||((_=a.contentWindow)==null?void 0:_.document);if(C){const j=C.body,p=(j==null?void 0:j.textContent)||"";if(console.log("[ADMIN] Iframe body content length:",p.length),console.log("[ADMIN] Iframe body preview:",p.substring(0,500)),j==null?void 0:j.querySelector('[data-error-type="no-data"]')){const w=((m=(l=j==null?void 0:j.querySelector(".error-title"))==null?void 0:l.textContent)==null?void 0:m.trim())||"No data found",B=((M=(k=j==null?void 0:j.querySelector(".error-message"))==null?void 0:k.textContent)==null?void 0:M.trim())||"Please adjust your filters and try again.";console.warn("[ADMIN] No data found:",w),A(`${w} ${B}`,"warning",{duration:5e3}),setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed after error detection"))},100);return}p.includes("error")||p.includes("Error")||p.includes("Exception")?(console.error("[ADMIN] Error detected in response:",p.substring(0,1e3)),A("An error occurred while generating the report. Please check the Laravel logs.","error",{duration:7e3})):p.length>0&&p.length<200?(console.error("[ADMIN] Possible error response:",p),A("Report generation may have failed. Please check the Laravel logs.","warning",{duration:5e3})):(console.log("[ADMIN] Report likely generated successfully"),A("Report generated successfully! Download should start automatically.","success",{duration:3e3}))}}catch(C){console.log("[ADMIN] Could not access iframe content (this is normal for successful downloads):",C),A("Report generated! Check your downloads folder.","success",{duration:3e3})}setTimeout(()=>{r.parentNode&&(document.body.removeChild(r),console.log("[ADMIN] Form removed from body after iframe load"))},100)},document.body.appendChild(r),console.log("[ADMIN] Form appended to body"),setTimeout(()=>{console.log("[ADMIN] Submitting form to iframe:",r.target),r.submit(),console.log("[ADMIN] Form submitted at:",new Date().toISOString())},50),setTimeout(()=>{console.log("[ADMIN] Resetting loading state at:",new Date().toISOString()),V(!1)},2e3)};return(()=>{if(O.academic_level_id&&O.academic_level_id!=="all"){const s=parseInt(O.academic_level_id),a=y.find(r=>r.id===s);if(a&&(a.key==="college"||a.key==="senior_highschool"))return K.filter(r=>r.academic_level_id===s&&r.parent_id===null&&r.type==="semester")}return[]})(),e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(Ze,{user:ue}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(Xe,{user:ue}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Ke,{href:route("admin.dashboard"),children:e.jsx(W,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"flex items-center p-6",children:[e.jsx(Ne,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.total_students})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"flex items-center p-6",children:[e.jsx(J,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.total_certificates})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"flex items-center p-6",children:[e.jsx(ye,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.total_honors})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"flex items-center p-6",children:[e.jsx(ll,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.active_periods})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"flex items-center p-6",children:[e.jsx(Se,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sections"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.active_sections})]})]})})]}),e.jsxs(Qe,{value:U,onValueChange:be,className:"w-full",children:[e.jsxs(el,{className:"grid w-full grid-cols-3",children:[e.jsx(he,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(he,{value:"archive-records",children:"Archive Records"}),e.jsx(he,{value:"class-section-reports",children:"Class Section Reports"})]}),e.jsx(me,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(de,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(rl,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level"}),e.jsxs(g,{value:d.academic_level_id,onValueChange:s=>{console.log("[HONOR] Academic Level Changed:",s),S({...d,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All levels"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Levels"}),y.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Honor Type"}),e.jsxs(g,{value:d.honor_type_id,onValueChange:s=>S("honor_type_id",s),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All types"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Types"}),De.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),(()=>{if(!d.academic_level_id||d.academic_level_id==="all")return null;const s=y.find(_=>_.id.toString()===d.academic_level_id);if(!s)return null;const a=s.key==="elementary",r=s.key==="junior_highschool",n=s.key==="senior_highschool",c=s.key==="college";if(a||r){const _=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:d.year_level,onValueChange:l=>S({...d,year_level:l,section_id:"all"}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:d.section_id,onValueChange:l=>S({...d,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),re.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}if(n){const _=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:d.year_level,onValueChange:l=>S({...d,year_level:l,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(g,{value:d.track_id,onValueChange:l=>S({...d,track_id:l,strand_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsx(v,{children:L.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(g,{value:d.strand_id,onValueChange:l=>S({...d,strand_id:l,section_id:"all"}),disabled:!d.track_id,children:[e.jsx(x,{children:e.jsx(u,{placeholder:d.track_id?"All strands":"Select track first"})}),e.jsx(v,{children:Fe.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:d.section_id,onValueChange:l=>S({...d,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),re.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}if(c){const _=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:d.year_level,onValueChange:l=>S({...d,year_level:l,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(g,{value:d.department_id,onValueChange:l=>S({...d,department_id:l,course_id:"",section_id:"all"}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsx(v,{children:P.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(g,{value:d.course_id,onValueChange:l=>S({...d,course_id:l,section_id:"all"}),disabled:!d.department_id,children:[e.jsx(x,{children:e.jsx(u,{placeholder:d.department_id?"All courses":"Select department first"})}),e.jsx(v,{children:Te.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:d.section_id,onValueChange:l=>S({...d,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),re.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"School Year"}),e.jsxs(g,{value:d.school_year,onValueChange:s=>S("school_year",s),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(v,{children:b.map(s=>e.jsx(o,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(g,{value:d.format,onValueChange:s=>S("format",s),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(v,{children:[e.jsx(o,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(o,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(o,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(W,{type:"submit",disabled:Ye||q,className:"flex items-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(me,{value:"archive-records",className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(de,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level *"}),e.jsxs(g,{value:i.academic_level_id,onValueChange:s=>{console.log("[ADMIN ARCHIVE] Academic Level Changed:",s),N({...i,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(v,{children:y.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"School Year *"}),e.jsxs(g,{value:i.school_year,onValueChange:s=>N("school_year",s),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(v,{children:b.map(s=>e.jsx(o,{value:s,children:s},s))})]})]})]}),(()=>{if(!i.academic_level_id)return null;const s=parseInt(i.academic_level_id),a=y.find(l=>l.id===s);if(!a)return null;const r=a.key==="elementary",n=a.key==="junior_highschool",c=a.key==="senior_highschool",_=a.key==="college";if(console.log("[ADMIN ARCHIVE] Rendering cascading filters for:",a.key),r||n){const l=r?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:i.year_level,onValueChange:m=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",m),N({...i,year_level:m,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Year Levels"}),l.map(m=>e.jsx(o,{value:m.value,children:m.label},m.value))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:i.section_id,onValueChange:m=>{console.log("[ADMIN ARCHIVE] Section Changed:",m),N({...i,section_id:m})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),te.map(m=>e.jsx(o,{value:m.id.toString(),children:m.name},m.id))]})]})]})]})}return c?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:i.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),N({...i,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Year Levels"}),e.jsx(o,{value:"grade_11",children:"Grade 11"}),e.jsx(o,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(g,{value:i.track_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Track Changed:",l),N({...i,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Tracks"}),Oe.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(g,{value:i.strand_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Strand Changed:",l),N({...i,strand_id:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All strands"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Strands"}),Ve.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:i.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),N({...i,section_id:l})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),te.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):_?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:i.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),N({...i,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Year Levels"}),e.jsx(o,{value:"1st_year",children:"1st Year"}),e.jsx(o,{value:"2nd_year",children:"2nd Year"}),e.jsx(o,{value:"3rd_year",children:"3rd Year"}),e.jsx(o,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(g,{value:i.department_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Department Changed:",l),N({...i,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Departments"}),Ge.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(g,{value:i.course_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Course Changed:",l),N({...i,course_id:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All courses"})}),e.jsxs(v,{children:[e.jsx(o,{value:"",children:"All Courses"}),Le.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:i.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),N({...i,section_id:l})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),te.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{children:[e.jsx(h,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"include_grades",checked:i.include_grades,onCheckedChange:s=>{const a=s===!0;console.log("[ADMIN] Archive include_grades changed to:",a),N("include_grades",a)}}),e.jsxs(h,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"include_honors",checked:i.include_honors,onCheckedChange:s=>{const a=s===!0;console.log("[ADMIN] Archive include_honors changed to:",a),N("include_honors",a)}}),e.jsxs(h,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"include_certificates",checked:i.include_certificates,onCheckedChange:s=>{const a=s===!0;console.log("[ADMIN] Archive include_certificates changed to:",a),N("include_certificates",a)}}),e.jsxs(h,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(g,{value:i.format,onValueChange:s=>N("format",s),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(v,{children:[e.jsx(o,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(o,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(W,{type:"submit",disabled:qe||!i.academic_level_id||!i.school_year,className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),q?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})}),e.jsx(me,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(de,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:We,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Academic Level *"}),e.jsxs(g,{value:t.academic_level_id,onValueChange:s=>{console.log("Academic Level Changed:",s),I({...t,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(v,{children:y.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!t.academic_level_id)return null;const s=y.find(_=>_.id.toString()===t.academic_level_id);if(!s)return null;const a=s.key==="elementary",r=s.key==="junior_highschool",n=s.key==="senior_highschool",c=s.key==="college";if(a||r){const _=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),I({...t,year_level:l,section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:l=>I({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(n){const _=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),I({...t,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Track"}),e.jsxs(g,{value:t.track_id,onValueChange:l=>{console.log("Track Changed:",l),I({...t,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select track"})}),e.jsx(v,{children:L.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Strand"}),e.jsxs(g,{value:t.strand_id,onValueChange:l=>{console.log("Strand Changed:",l),I({...t,strand_id:l,section_id:"all"})},disabled:!t.track_id,children:[e.jsx(x,{children:e.jsx(u,{placeholder:t.track_id?"Select strand":"Select track first"})}),e.jsx(v,{children:Me.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:l=>I({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(c){const _=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),I({...t,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(v,{children:_.map(l=>e.jsx(o,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Department"}),e.jsxs(g,{value:t.department_id,onValueChange:l=>{console.log("Department Changed:",l),I({...t,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select department"})}),e.jsx(v,{children:P.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Course"}),e.jsxs(g,{value:t.course_id,onValueChange:l=>{console.log("Course Changed:",l),I({...t,course_id:l,section_id:"all"})},disabled:!t.department_id,children:[e.jsx(x,{children:e.jsx(u,{placeholder:t.department_id?"Select course":"Select department first"})}),e.jsx(v,{children:Re.map(l=>e.jsxs(o,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:l=>I({...t,section_id:l}),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(v,{children:[e.jsx(o,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(o,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"School Year *"}),e.jsxs(g,{value:t.school_year,onValueChange:s=>I("school_year",s),children:[e.jsx(x,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(v,{children:b.map(s=>e.jsx(o,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Export Format"}),e.jsxs(g,{value:t.format,onValueChange:s=>I("format",s),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsxs(v,{children:[e.jsx(o,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(o,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(o,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"include_grades_section",checked:t.include_grades,onCheckedChange:s=>{const a=s===!0;console.log("[ADMIN] Section include_grades changed to:",a),I("include_grades",a)}}),e.jsx(h,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!t.academic_level_id||!t.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(W,{type:"submit",disabled:Be||!t.academic_level_id||!t.school_year||q,className:"flex items-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Kl as default};
