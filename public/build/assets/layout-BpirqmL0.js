import{r as o,j as t,K as M,$ as b}from"./app-B58dIJ_9.js";import{u as L,d as ne,c as O,B as w}from"./button-Bow67jzH.js";import{b as se,c as H,A as ae,f as C,D as oe,l as ie,m as le,C as B}from"./Combination-LY2Se20E.js";import{P as ce,L as U,A as z,c as G,a as F,D as K,b as $,d as W,e as V,f as N,g as E,S as Y}from"./dropdown-menu-DYX1jlJ3.js";import{P as de}from"./index-D9lkSlcr.js";import{R as xe}from"./index-CvChYSe-.js";import{B as _}from"./book-open-BLDxyhg9.js";import{C as ue}from"./chevron-right-BIFjEENi.js";import{C as fe}from"./crown-L4GRn9K9.js";import{F as he}from"./file-text-BVO1C6_B.js";import{U as pe}from"./user-BPlH1he7.js";import{S as me}from"./separator-AlfWsL3o.js";const P=768;function ge(){const[e,n]=o.useState();return o.useEffect(()=>{const r=window.matchMedia(`(max-width: ${P-1}px)`),s=()=>{n(window.innerWidth<P)};return r.addEventListener("change",s),n(window.innerWidth<P),()=>r.removeEventListener("change",s)},[]),!!e}var[k,ot]=se("Tooltip",[H]),D=H(),q="TooltipProvider",ve=700,I="tooltip.open",[ye,X]=k(q),J=e=>{const{__scopeTooltip:n,delayDuration:r=ve,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[c,u]=o.useState(!0),d=o.useRef(!1),x=o.useRef(0);return o.useEffect(()=>{const l=x.current;return()=>window.clearTimeout(l)},[]),t.jsx(ye,{scope:n,isOpenDelayed:c,delayDuration:r,onOpen:o.useCallback(()=>{window.clearTimeout(x.current),u(!1)},[]),onClose:o.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>u(!0),s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:o.useCallback(l=>{d.current=l},[]),disableHoverableContent:a,children:i})};J.displayName=q;var Q="Tooltip",[it,S]=k(Q),R="TooltipTrigger",je=o.forwardRef((e,n)=>{const{__scopeTooltip:r,...s}=e,a=S(R,r),i=X(R,r),c=D(r),u=o.useRef(null),d=L(n,u,a.onTriggerChange),x=o.useRef(!1),l=o.useRef(!1),f=o.useCallback(()=>x.current=!1,[]);return o.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),t.jsx(ae,{asChild:!0,...c,children:t.jsx(de.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:C(e.onPointerMove,h=>{h.pointerType!=="touch"&&!l.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),l.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{a.onTriggerLeave(),l.current=!1}),onPointerDown:C(e.onPointerDown,()=>{x.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(e.onFocus,()=>{x.current||a.onOpen()}),onBlur:C(e.onBlur,a.onClose),onClick:C(e.onClick,a.onClose)})})});je.displayName=R;var be="TooltipPortal",[lt,we]=k(be,{forceMount:void 0}),T="TooltipContent",Ce=o.forwardRef((e,n)=>{const r=we(T,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,c=S(T,e.__scopeTooltip);return t.jsx(ce,{present:s||c.open,children:c.disableHoverableContent?t.jsx(Z,{side:a,...i,ref:n}):t.jsx(Te,{side:a,...i,ref:n})})}),Te=o.forwardRef((e,n)=>{const r=S(T,e.__scopeTooltip),s=X(T,e.__scopeTooltip),a=o.useRef(null),i=L(n,a),[c,u]=o.useState(null),{trigger:d,onClose:x}=r,l=a.current,{onPointerInTransitChange:f}=s,h=o.useCallback(()=>{u(null),f(!1)},[f]),g=o.useCallback((m,y)=>{const j=m.currentTarget,p={x:m.clientX,y:m.clientY},v=Se(p,j.getBoundingClientRect()),A=Ae(p,v),te=Pe(y.getBoundingClientRect()),re=De([...A,...te]);u(re),f(!0)},[f]);return o.useEffect(()=>()=>h(),[h]),o.useEffect(()=>{if(d&&l){const m=j=>g(j,l),y=j=>g(j,d);return d.addEventListener("pointerleave",m),l.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",m),l.removeEventListener("pointerleave",y)}}},[d,l,g,h]),o.useEffect(()=>{if(c){const m=y=>{const j=y.target,p={x:y.clientX,y:y.clientY},v=(d==null?void 0:d.contains(j))||(l==null?void 0:l.contains(j)),A=!Re(p,c);v?h():A&&(h(),x())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[d,l,c,x,h]),t.jsx(Z,{...e,ref:i})}),[Ne,Ee]=k(Q,{isInside:!1}),Z=o.forwardRef((e,n)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=e,d=S(T,r),x=D(r),{onClose:l}=d;return o.useEffect(()=>(document.addEventListener(I,l),()=>document.removeEventListener(I,l)),[l]),o.useEffect(()=>{if(d.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(d.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,l]),t.jsx(oe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:t.jsxs(ie,{"data-state":d.stateAttribute,...x,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(ne,{children:s}),t.jsx(Ne,{scope:r,isInside:!0,children:t.jsx(xe,{id:d.contentId,role:"tooltip",children:a||s})})]})})});Ce.displayName=T;var ee="TooltipArrow",ke=o.forwardRef((e,n)=>{const{__scopeTooltip:r,...s}=e,a=D(r);return Ee(ee,r).isInside?null:t.jsx(le,{...a,...s,ref:n})});ke.displayName=ee;function Se(e,n){const r=Math.abs(n.top-e.y),s=Math.abs(n.bottom-e.y),a=Math.abs(n.right-e.x),i=Math.abs(n.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Ae(e,n,r=5){const s=[];switch(n){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function Pe(e){const{top:n,right:r,bottom:s,left:a}=e;return[{x:a,y:n},{x:r,y:n},{x:r,y:s},{x:a,y:s}]}function Re(e,n){const{x:r,y:s}=e;let a=!1;for(let i=0,c=n.length-1;i<n.length;c=i++){const u=n[i].x,d=n[i].y,x=n[c].x,l=n[c].y;d>s!=l>s&&r<(x-u)*(s-d)/(l-d)+u&&(a=!a)}return a}function De(e){const n=e.slice();return n.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),_e(n)}function _e(e){if(e.length<=1)return e.slice();const n=[];for(let s=0;s<e.length;s++){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],c=n[n.length-2];if((i.x-c.x)*(a.y-c.y)>=(i.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}n.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],c=r[r.length-2];if((i.x-c.x)*(a.y-c.y)>=(i.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var Ie=J;function Me({delayDuration:e=0,...n}){return t.jsx(Ie,{"data-slot":"tooltip-provider",delayDuration:e,...n})}const Le="sidebar_state",Oe=60*60*24*7,He="16rem",Be="3rem",Ue="b",ze=o.createContext(null);function Ge({defaultOpen:e=!0,open:n,onOpenChange:r,className:s,style:a,children:i,...c}){const u=ge(),[d,x]=o.useState(!1),[l,f]=o.useState(e),h=n??l,g=o.useCallback(p=>{const v=typeof p=="function"?p(h):p;r?r(v):f(v),document.cookie=`${Le}=${v}; path=/; max-age=${Oe}`},[r,h]),m=o.useCallback(()=>u?x(p=>!p):g(p=>!p),[u,g,x]);o.useEffect(()=>{const p=v=>{v.key===Ue&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),m())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[m]);const y=h?"expanded":"collapsed",j=o.useMemo(()=>({state:y,open:h,setOpen:g,isMobile:u,openMobile:d,setOpenMobile:x,toggleSidebar:m}),[y,h,g,u,d,x,m]);return t.jsx(ze.Provider,{value:j,children:t.jsx(Me,{delayDuration:0,children:t.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":He,"--sidebar-width-icon":Be,...a},className:O("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...c,children:i})})})}function Fe({className:e,...n}){return t.jsx("main",{"data-slot":"sidebar-inset",className:O("bg-background relative flex min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",e),...n})}function Ke({variant:e="header",children:n,...r}){return e==="sidebar"?t.jsx(Fe,{...r,children:n}):t.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...r,children:n})}function $e({children:e,variant:n="header"}){const[r,s]=o.useState(()=>typeof window<"u"?localStorage.getItem("sidebar")!=="false":!0),a=i=>{s(i),typeof window<"u"&&localStorage.setItem("sidebar",String(i))};return n==="header"?t.jsx("div",{className:"flex min-h-screen w-full flex-col",children:e}):t.jsx(Ge,{defaultOpen:r,open:r,onOpenChange:a,children:e})}function We({user:e}){const{url:n}=M(),r=i=>n.startsWith(i),[s,a]=o.useState(!0);return t.jsxs("div",{className:"hidden w-64 flex-col border-r bg-white md:flex dark:border-gray-700 dark:bg-gray-800",children:[t.jsx("div",{className:"flex h-16 items-center border-b px-4 dark:border-gray-700",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Student Portal"})}),t.jsx("div",{className:"flex-1 overflow-auto py-4",children:t.jsxs("nav",{className:"grid items-start gap-1 px-2 text-sm font-medium",children:[t.jsx(b,{href:route("student.dashboard"),className:"w-full",children:t.jsxs(w,{variant:r("/student/dashboard")?"secondary":"ghost",className:"flex w-full items-center justify-start gap-3 rounded-md px-3 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsx(U,{size:18})," Dashboard"]})}),t.jsxs("div",{className:"w-full",children:[t.jsxs(w,{variant:r("/student/grades")||r("/student/honors")||r("/student/certificates")?"secondary":"ghost",onClick:()=>a(!s),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_,{size:18}),"Academic Records"]}),t.jsx(ue,{size:16,className:`transition-transform duration-200 ${s?"rotate-90":""}`})]}),s&&t.jsxs("div",{className:"ml-6 mt-1 space-y-1",children:[t.jsx(b,{href:route("student.grades.index"),className:"w-full",children:t.jsxs(w,{variant:r("/student/grades")?"secondary":"ghost",className:"flex w-full items-center justify-start gap-3 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsx(_,{size:16})," My Grades"]})}),t.jsx(b,{href:route("student.honors.index"),className:"w-full",children:t.jsxs(w,{variant:r("/student/honors")?"secondary":"ghost",className:"flex w-full items-center justify-start gap-3 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsx(fe,{size:16})," Honor Status"]})}),t.jsx(b,{href:route("student.certificates.index"),className:"w-full",children:t.jsxs(w,{variant:r("/student/certificates")?"secondary":"ghost",className:"flex w-full items-center justify-start gap-3 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsx(he,{size:16})," Certificates"]})})]})]}),t.jsx(b,{href:route("student.profile.index"),className:"w-full",children:t.jsxs(w,{variant:r("/student/profile")?"secondary":"ghost",className:"flex w-full items-center justify-start gap-3 rounded-md px-3 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[t.jsx(pe,{size:18})," My Profile"]})})]})}),t.jsx("div",{className:"border-t p-4 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(z,{children:[t.jsx(G,{src:"/api/placeholder/32/32",alt:(e==null?void 0:e.name)??"User"}),t.jsx(F,{children:((e==null?void 0:e.name)??"U").substring(0,2).toUpperCase()})]}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:(e==null?void 0:e.name)??"User"}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(e==null?void 0:e.email)??""})]}),t.jsxs(K,{children:[t.jsx($,{asChild:!0,children:t.jsx(w,{variant:"ghost",size:"icon",className:"ml-auto h-8 w-8 flex-shrink-0",children:t.jsx(B,{size:16})})}),t.jsxs(W,{align:"end",className:"w-48",children:[t.jsx(V,{children:"My Account"}),t.jsx(N,{}),t.jsx(b,{href:route("student.profile.index"),className:"w-full",children:t.jsxs(E,{className:"flex w-full cursor-pointer items-center gap-2",children:[t.jsx(Y,{size:16}),"Settings"]})}),t.jsx(N,{}),t.jsx(E,{asChild:!0,children:t.jsx(b,{href:route("auth.logout"),className:"flex w-full cursor-pointer",children:"Logout"})})]})]})]})})]})}function Ve({user:e}){return t.jsxs("header",{className:"flex h-16 items-center border-b bg-white px-4 md:px-6 dark:border-gray-700 dark:bg-gray-800",children:[t.jsx(w,{variant:"outline",size:"icon",className:"mr-2 md:hidden",children:t.jsx(U,{size:20})}),t.jsx("div",{className:"flex flex-1 items-center justify-between",children:t.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[t.jsx(me,{orientation:"vertical",className:"h-8"}),t.jsxs(K,{children:[t.jsx($,{asChild:!0,children:t.jsxs(w,{variant:"ghost",className:"flex items-center gap-2",children:[t.jsxs(z,{className:"h-8 w-8",children:[t.jsx(G,{src:"/api/placeholder/32/32",alt:(e==null?void 0:e.name)??"User"}),t.jsx(F,{children:((e==null?void 0:e.name)??"U").substring(0,2).toUpperCase()})]}),t.jsx("span",{className:"hidden text-sm font-medium md:inline-flex",children:(e==null?void 0:e.name)??"User"}),t.jsx(B,{size:16})]})}),t.jsxs(W,{align:"end",children:[t.jsx(V,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{children:(e==null?void 0:e.name)??"User"}),t.jsx("span",{className:"text-xs text-gray-500",children:(e==null?void 0:e.email)??""})]})}),t.jsx(N,{}),t.jsx(b,{href:route("student.profile.index"),className:"w-full",children:t.jsxs(E,{className:"flex w-full cursor-pointer items-center gap-2",children:[t.jsx(Y,{size:16}),"Settings"]})}),t.jsx(N,{}),t.jsx(E,{asChild:!0,children:t.jsx(b,{href:route("auth.logout"),className:"flex w-full cursor-pointer",children:"Logout"})})]})]})]})})]})}function ct({children:e}){const{props:n}=M(),r=(n==null?void 0:n.user)??{};return t.jsxs($e,{variant:"sidebar",children:[t.jsx(We,{user:r}),t.jsxs(Ke,{variant:"sidebar",children:[t.jsx(Ve,{user:r}),e]})]})}export{ct as S};
