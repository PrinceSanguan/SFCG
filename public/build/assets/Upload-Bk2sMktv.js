import{m as N,j as e,$ as y}from"./app-C2QMT6xd.js";import{S as w,H as D}from"./sidebar-jXPiATRZ.js";import{C as V,b as U,c as F,a as G}from"./card-CeTgPavM.js";import{B as j}from"./button-3_Mm-uha.js";import{I as p}from"./input-1-3gwZLk.js";import{L as l}from"./label-D0iuF-zz.js";import{S as c,a as t,b as o,c as n,d}from"./select-JJxvsRWA.js";import{U as H}from"./upload-B4pfIGGq.js";import{D as I}from"./download-DBl9QNkr.js";/* empty css            */import"./dropdown-menu-DcPm4bTB.js";import"./Combination-C6Q3PpAV.js";import"./index-DlK-0s00.js";import"./book-open-Byw2rV8V.js";import"./graduation-cap-Cn5DQUfz.js";import"./crown-Cpbv-X3l.js";import"./user-BHdw3INW.js";import"./index-zITvIqRH.js";import"./index-ONClHKue.js";function Z({user:m,assignedSubjects:h,academicLevels:g,gradingPeriods:u,schoolYear:v}){const{data:r,setData:i,post:f,processing:x,errors:a}=N({csv_file:null,subject_id:"",academic_level_id:"",grading_period_id:"0",school_year:v||"2024-2025",year_of_study:""}),_=s=>{s.preventDefault();const b=new FormData;Object.entries(r).forEach(([S,C])=>b.append(S,C)),f(route("adviser.grades.upload.process"),{forceFormData:!0})};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(w,{user:m}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(D,{user:m}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs(V,{children:[e.jsx(U,{children:e.jsx(F,{children:"Upload Grades CSV"})}),e.jsx(G,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Subject"}),e.jsxs(c,{value:r.subject_id,onValueChange:s=>i("subject_id",s),children:[e.jsx(t,{children:e.jsx(o,{placeholder:"Select subject"})}),e.jsx(n,{children:h.map(s=>e.jsx(d,{value:s.subject.id.toString(),children:s.subject.name},s.subject.id))})]}),a.subject_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.subject_id})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Academic Level"}),e.jsxs(c,{value:r.academic_level_id,onValueChange:s=>i("academic_level_id",s),children:[e.jsx(t,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsx(n,{children:g.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]}),a.academic_level_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.academic_level_id})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Grading Period"}),e.jsxs(c,{value:r.grading_period_id,onValueChange:s=>i("grading_period_id",s),children:[e.jsx(t,{children:e.jsx(o,{placeholder:"Select grading period (optional)"})}),e.jsxs(n,{children:[e.jsx(d,{value:"0",children:"No Period"}),u.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{children:"School Year"}),e.jsx(p,{value:r.school_year,onChange:s=>i("school_year",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{children:"CSV File"}),e.jsx(p,{type:"file",accept:".csv,text/csv",onChange:s=>i("csv_file",s.target.files?s.target.files[0]:null)}),a.csv_file&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.csv_file})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(j,{type:"submit",disabled:x,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),x?"Uploading...":"Upload CSV"]}),e.jsx(y,{href:route("adviser.grades.template"),children:e.jsxs(j,{type:"button",variant:"outline",className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Download Template"]})})]})]})})]})})]})]})}export{Z as default};
