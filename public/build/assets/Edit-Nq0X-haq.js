import{m as S,j as e,$ as f}from"./app-CRB7Vkow.js";import{C as _,b as k,c as w,a as C}from"./card-B3X3XlfX.js";import{B as i}from"./button-Cg4mH40A.js";import{I as G}from"./input-v05ZLmeZ.js";import{L as N}from"./label-DkvBXY46.js";import{S as E,a as L,b as A,c as U,d as l}from"./select-DDBDqe2r.js";import{S as H,H as I}from"./sidebar-OpBu6Mhl.js";import{A as B}from"./arrow-left-DcYoUJKG.js";import{S as D}from"./square-pen-D8otoAQP.js";import{S as F}from"./save-C1g-Khxk.js";/* empty css            */import"./index-9EEPBnTe.js";import"./Combination-CAawp2Lb.js";import"./index-SyVjcTXi.js";import"./index-XV-t6QwA.js";import"./dropdown-menu-C-HXr_Hi.js";import"./user-CTqdoXY9.js";import"./log-out-lSBE1jwT.js";import"./book-open-DnXSirf0.js";import"./graduation-cap-BGaNdPc5.js";import"./upload-CFyRHiah.js";import"./crown-BDavmclC.js";function ie({user:c,grade:s,gradingPeriods:d}){var x,h,g,p,u,j;const{data:n,setData:o,put:v,processing:m,errors:r}=S({grade:s.grade.toString(),grading_period_id:((x=s.grading_period_id)==null?void 0:x.toString())||"0"}),t=()=>{var a;return(a=s.academicLevel)==null?void 0:a.key},b=a=>{a.preventDefault(),v(route("teacher.grades.update",s.id),{onSuccess:()=>{console.log("Grade updated successfully")},onError:y=>{console.log("Grade update failed:",y)}})};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(H,{user:c}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(I,{user:c}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{href:route("teacher.grades.show-student",[s.student_id,s.subject_id]),children:e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Student"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Edit Grade"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Update the grade for ",s.student.name," in ",s.subject.name]})]})]})}),e.jsxs(_,{className:"max-w-2xl",children:[e.jsx(k,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Grade Information"]})}),e.jsxs(C,{children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Current Grade Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Student:"}),e.jsx("p",{className:"font-medium",children:((h=s.student)==null?void 0:h.name)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Subject:"}),e.jsxs("p",{className:"font-medium",children:[((g=s.subject)==null?void 0:g.name)||"Unknown"," (",((p=s.subject)==null?void 0:p.code)||"N/A",")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Academic Level:"}),e.jsx("p",{className:"font-medium",children:((u=s.academicLevel)==null?void 0:u.name)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School Year:"}),e.jsx("p",{className:"font-medium",children:s.school_year||"N/A"})]}),((j=s.subject)==null?void 0:j.course)&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Course:"}),e.jsxs("p",{className:"font-medium",children:[s.subject.course.name," (",s.subject.course.code,")"]})]})]})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"grade",children:"Grade"}),e.jsx(G,{id:"grade",type:"number",step:"0.01",min:t()==="college"?"1.0":"75",max:t()==="college"?"5.0":"100",placeholder:t()==="college"?"Enter grade (1.0-5.0)":"Enter grade (75-100)",value:n.grade,onChange:a=>o("grade",a.target.value),className:r.grade?"border-red-500":"",autoFocus:!0}),r.grade&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.grade}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t()==="college"?"College: 1.0 (highest) to 5.0 (lowest). 3.0 is passing (equivalent to 75).":"Elementary to Senior High: 75 (passing) to 100 (highest)."})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"grading_period_id",children:"Grading Period"}),e.jsxs(E,{value:n.grading_period_id,onValueChange:a=>o("grading_period_id",a),children:[e.jsx(L,{className:r.grading_period_id?"border-red-500":"",children:e.jsx(A,{placeholder:"Select grading period"})}),e.jsxs(U,{children:[e.jsx(l,{value:"0",children:"No Period"}),d&&d.length>0?d.filter(a=>a.academic_level_id===(s.academic_level_id||0)).map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id)):e.jsx(l,{value:"0",disabled:!0,children:"No grading periods available"})]})]}),r.grading_period_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.grading_period_id}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select which grading period this grade belongs to"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(i,{type:"submit",disabled:m,className:"flex-1",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),m?"Updating...":"Update Grade"]}),e.jsx(f,{href:route("teacher.grades.show-student",[s.student_id,s.subject_id]),className:"flex-1",children:e.jsx(i,{type:"button",variant:"outline",className:"w-full",children:"Cancel"})})]})]})]})]})]})})]})]})}export{ie as default};
