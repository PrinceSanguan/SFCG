import{r as a,j as s,S as y}from"./app-y1fEAVBd.js";import{B as o}from"./button-BAlgZH1G.js";import{I as w}from"./input-CLEB1L2Z.js";import{L as j}from"./label-77B8Zmc2.js";import{A as P,a as D}from"./alert-FSOXhI_g.js";import{D as E,b as R,c as k,d as A,f as F,e as L}from"./dialog-CgVQIe9x.js";import{R as f}from"./rotate-ccw-D1S2NLoa.js";import{E as g}from"./eye-off-CX90Q5OD.js";import{E as b}from"./eye-RN6TT_aK.js";function G({user:i,isOpen:N,onClose:x,errors:t}){const[n,l]=a.useState(""),[d,c]=a.useState(""),[m,v]=a.useState(!1),[p,C]=a.useState(!1),[h,r]=a.useState(!1),S=e=>{e.preventDefault(),r(!0),y.post(route("admin.users.reset-password",i.id),{password:n,password_confirmation:d},{onSuccess:()=>{x(),l(""),c(""),r(!1)},onError:()=>{r(!1)},onFinish:()=>{r(!1)}})},u=()=>{l(""),c(""),x()};return s.jsx(E,{open:N,onOpenChange:u,children:s.jsxs(R,{className:"sm:max-w-md",children:[s.jsxs(k,{children:[s.jsxs(A,{className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-5 w-5"}),"Reset Password"]}),s.jsxs(F,{children:["Set a new password for ",s.jsx("strong",{children:i.name})," (",i.email,")"]})]}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(j,{htmlFor:"password",children:"New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{id:"password",type:m?"text":"password",value:n,onChange:e=>l(e.target.value),placeholder:"Enter new password",className:"pr-10",required:!0,minLength:8}),s.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!m),children:m?s.jsx(g,{className:"h-4 w-4"}):s.jsx(b,{className:"h-4 w-4"})})]}),(t==null?void 0:t.password)&&s.jsx(P,{variant:"destructive",children:s.jsx(D,{children:t.password})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(j,{htmlFor:"password_confirmation",children:"Confirm New Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{id:"password_confirmation",type:p?"text":"password",value:d,onChange:e=>c(e.target.value),placeholder:"Confirm new password",className:"pr-10",required:!0,minLength:8}),s.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!p),children:p?s.jsx(g,{className:"h-4 w-4"}):s.jsx(b,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"rounded-md bg-blue-50 p-3 dark:bg-blue-900/20",children:[s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:s.jsx("strong",{children:"Password Requirements:"})}),s.jsxs("ul",{className:"mt-1 text-xs text-blue-700 dark:text-blue-300",children:[s.jsx("li",{children:"• At least 8 characters long"}),s.jsx("li",{children:"• Both passwords must match"})]})]}),s.jsxs(L,{className:"gap-2",children:[s.jsx(o,{type:"button",variant:"outline",onClick:u,disabled:h,children:"Cancel"}),s.jsxs(o,{type:"submit",disabled:h||!n||!d,className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-4 w-4"}),h?"Resetting...":"Reset Password"]})]})]})]})})}export{G as P};
