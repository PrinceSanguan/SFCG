import{j as e,L as $,$ as D}from"./app-D8XS6bdD.js";import{H as B,S as L}from"./sidebar-9HsPpgAE.js";import{B as i}from"./badge-M18IWZ9R.js";import{C as N,b as u,c as y,a as f}from"./card-P5pAaPPS.js";import{T as S,a as G,b,c as l,d as H,e as c}from"./table-yWS7XT00.js";import{A as k}from"./arrow-left-y3WDMdaq.js";import{B as w}from"./book-open-B_dWQqCw.js";import{G as C}from"./graduation-cap-GJt-iu5F.js";import{U as F}from"./user-BWMBd6Wx.js";/* empty css            */import"./dropdown-menu-D9Bm5WJW.js";import"./Combination-D2waljZx.js";import"./button-BkbjQsQJ.js";import"./index-dy4008Ta.js";import"./log-out-CsNcKR6N.js";import"./upload-Dx37RJxk.js";import"./crown-CPfhszRI.js";function ee({user:o,student:m,subject:x,grades:h,schoolYear:A,gradingPeriods:d}){const r=h.filter(s=>s.grade!==null),v=d.reduce((s,t)=>{const a=h.find(n=>{var p;return((p=n.gradingPeriod)==null?void 0:p.id)===t.id&&n.grade!==null});return s[t.code]=a,s},{}),g=[{bg:"bg-blue-50",text:"text-blue-600"},{bg:"bg-green-50",text:"text-green-600"},{bg:"bg-yellow-50",text:"text-yellow-600"},{bg:"bg-purple-50",text:"text-purple-600"},{bg:"bg-pink-50",text:"text-pink-600"},{bg:"bg-indigo-50",text:"text-indigo-600"}],T=s=>{var a;const t=(a=x.academicLevel)==null?void 0:a.key;return t==="elementary"||t==="junior_highschool"?s>=90?{text:"Outstanding",color:"bg-green-100 text-green-800 border-green-200"}:s>=85?{text:"Very Satisfactory",color:"bg-blue-100 text-blue-800 border-blue-200"}:s>=80?{text:"Satisfactory",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:s>=75?{text:"Fairly Satisfactory",color:"bg-orange-100 text-orange-800 border-orange-200"}:{text:"Did Not Meet Expectations",color:"bg-red-100 text-red-800 border-red-200"}:s>=95?{text:"With Highest Honors",color:"bg-green-100 text-green-800 border-green-200"}:s>=90?{text:"With High Honors",color:"bg-blue-100 text-blue-800 border-blue-200"}:s>=85?{text:"With Honors",color:"bg-purple-100 text-purple-800 border-purple-200"}:s>=75?{text:"Passed",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:{text:"Failed",color:"bg-red-100 text-red-800 border-red-200"}},_=r.length>0?r.reduce((s,t)=>s+t.grade,0)/r.length:0,j=r.length>0?T(_):{text:"No Grade",color:"bg-gray-100 text-gray-800 border-gray-200"};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx($,{title:`${m.name} • ${x.name} • Grades`}),e.jsx(B,{user:{name:o.name,email:o.email||""}}),e.jsxs("div",{className:"flex",children:[e.jsx(L,{user:{name:o.name,email:o.email||""}}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(D,{href:route("adviser.grades.index"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(k,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to Grades"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:m.name}),e.jsxs("p",{className:"text-gray-600",children:[x.name," (",x.code,")"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["School Year: ",A]})]})]}),e.jsxs(N,{children:[e.jsx(u,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Grade Summary"})]})}),e.jsxs(f,{children:[e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${Math.min(d.length,4)} gap-4 mb-4`,children:d.map((s,t)=>{const a=g[t%g.length],n=v[s.code];return e.jsxs("div",{className:`text-center p-4 ${a.bg} rounded-lg`,children:[e.jsx("div",{className:`text-2xl font-bold ${a.text}`,children:n?n.grade:"—"}),e.jsx("div",{className:`text-sm ${a.text}`,children:s.name})]},s.id)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.length>0?(r.reduce((s,t)=>s+t.grade,0)/r.length).toFixed(2):"—"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Average"})]}),e.jsx("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:e.jsx(i,{className:j.color,children:j.text})})]})]})]}),e.jsxs(N,{children:[e.jsx(u,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Detailed Grades"})]})}),e.jsx(f,{children:e.jsxs(S,{children:[e.jsx(G,{children:e.jsxs(b,{children:[e.jsx(l,{className:"bg-gray-900 text-white",children:"Student ID"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Subject"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Faculty"}),d.map(s=>e.jsx(l,{className:"bg-gray-900 text-white",children:s.name},s.id)),e.jsx(l,{className:"bg-gray-900 text-white",children:"AVERAGE"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Grade Status"})]})}),e.jsx(H,{children:e.jsxs(b,{children:[e.jsx(c,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:m.student_number||m.id})]})}),e.jsx(c,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:x.name})]})}),e.jsx(c,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:r.length>0&&r[0].teacher_name?r[0].teacher_name:"No Teacher Assigned"})]})}),d.map((s,t)=>{const a=g[t%g.length],n=v[s.code],p=a.bg.replace("50","100")+" "+a.text.replace("600","800")+" border-"+a.text.split("-")[1]+"-200";return e.jsx(c,{className:"px-4 py-3",children:n?e.jsx(i,{className:p,children:n.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})},s.id)}),e.jsx(c,{className:"px-4 py-3",children:r.length>0?e.jsx(i,{className:"bg-gray-100 text-gray-800 border-gray-200",children:(r.reduce((s,t)=>s+t.grade,0)/r.length).toFixed(2)}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(c,{className:"px-4 py-3",children:e.jsx(i,{className:j.color,children:j.text})})]})})]})})]}),h.length>0&&e.jsxs(N,{children:[e.jsx(u,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Grade History"})]})}),e.jsx(f,{children:e.jsxs(S,{children:[e.jsx(G,{children:e.jsxs(b,{children:[e.jsx(l,{children:"Grading Period"}),e.jsx(l,{children:"Grade"}),e.jsx(l,{children:"Date Added"}),e.jsx(l,{children:"Status"})]})}),e.jsx(H,{children:h.map(s=>e.jsxs(b,{children:[e.jsx(c,{className:"font-medium",children:s.gradingPeriod?s.gradingPeriod.name:"General Grade"}),e.jsx(c,{children:e.jsx(i,{className:s.grade>=75?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.grade})}),e.jsx(c,{className:"text-gray-600",children:new Date(s.created_at).toLocaleDateString()}),e.jsx(c,{children:s.is_submitted_for_validation?e.jsx(i,{variant:"outline",className:"text-green-600",children:"Submitted"}):e.jsx(i,{variant:"outline",className:"text-yellow-600",children:"Draft"})})]},s.id))})]})})]})]})})]})]})}export{ee as default};
