import{r as N,u as de,j as e,S as A}from"./app-DFUXXT4p.js";import{S as ce,H as ne}from"./sidebar--QF_4wSY.js";import{C as W,a as $}from"./card-zBYgmH_3.js";import{B as c}from"./button-C7JIuDLX.js";import{I as o}from"./input-BIHHzmRD.js";import{L as i}from"./label-CN6EqliD.js";import{S as h,a as x,b as m,c as j,d as p}from"./select-DV5QNv10.js";import{B as g}from"./badge-DUm_20dS.js";import{D as O,a as oe,b as q,c as I,d as J,e as K,f as Q}from"./dialog-D2w4PRhy.js";import{T as he,a as xe,b as k,c as C}from"./tabs-UKHAvHBz.js";import{A as me}from"./arrow-left-DMzMqpkD.js";import{B as je}from"./book-open-DGVyQ1FS.js";import{P as pe}from"./plus-OJ2R_Wcg.js";/* empty css            */import"./dropdown-menu-CrX8lNVt.js";import"./Combination-BcCJHn62.js";import"./index-DYgvyQgK.js";import"./separator-IBS94rFG.js";import"./users-BTMwhFen.js";import"./chevron-right-CFBNGpS9.js";import"./crown-2cbm9Av8.js";import"./building-2-CWIhaoP-.js";import"./user-cog-DApQMwS1.js";import"./user-check-DcEtTVw9.js";import"./graduation-cap--XK0Jr-A.js";import"./notebook-b2RQJizy.js";import"./chart-no-axes-column-increasing-DT4412Z5.js";import"./index-Bye8lU_g.js";import"./index-BIv8Q4_g.js";import"./check-GF9LwRT4.js";function qe({user:B,subjects:D=[],academicLevels:v=[],gradingPeriods:G=[],courses:X=[],departments:Y=[]}){var M,U,R;const[Z,ee]=N.useState("all"),[T,L]=N.useState(null),{addToast:_}=de(),[l,d]=N.useState({name:"",code:"",description:"",academic_level_id:"",grade_levels:[],grading_period_id:"",department_id:"",course_id:"",semester_id:"",units:0,hours_per_week:0,is_core:!1,is_active:!0}),[se,E]=N.useState(!1),[t,n]=N.useState(null),[le,u]=N.useState(!1),w=s=>D.filter(a=>a.academic_level.key===s),ae=s=>{const a=w("elementary");return s?a.filter(r=>!r.grade_levels||r.grade_levels.length===0||r.grade_levels.includes(s)):a},z=s=>G.filter(a=>a.academic_level_id===s),H=s=>G.filter(a=>a.academic_level_id===s&&a.parent_id==null&&(a.type==="semester"||/semester/i.test(a.name))),V=s=>G.filter(a=>{var r;return s&&((r=a.parent_id)==null?void 0:r.toString())===s}),F=[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}],P=()=>{if(!l.academic_level_id)return!1;const s=v.find(a=>a.id.toString()===l.academic_level_id);return(s==null?void 0:s.key)==="elementary"},ie=()=>{if(console.log("Registrar form submission started:",l),!l.name||!l.code||!l.academic_level_id){console.log("Registrar validation failed: Missing required fields"),_("Please fill in all required fields (Name, Code, and Academic Level).","error");return}if(P()&&l.grade_levels.length===0){console.log("Registrar validation failed: No grade levels selected for elementary"),_("Please select at least one grade level for elementary subjects.","error");return}console.log("Registrar form validation passed, submitting...");const s={...l,description:l.description||null,grading_period_id:l.grading_period_id||null,course_id:l.course_id||null};A.post(route("registrar.academic.subjects.store"),s,{preserveScroll:!0,onSuccess:a=>{console.log("Registrar subject created successfully:",a),_("Subject created successfully!","success"),d({name:"",code:"",description:"",academic_level_id:"",grade_levels:[],grading_period_id:"",department_id:"",course_id:"",semester_id:"",units:0,hours_per_week:0,is_core:!1,is_active:!0}),E(!1)},onError:a=>{if(console.log("Registrar subject creation failed:",a),console.log("Error details:",JSON.stringify(a,null,2)),a.code){const r=`${l.code}_${Date.now().toString().slice(-4)}`;_(`Subject code "${l.code}" already exists. Try "${r}" instead.`,"error"),d(S=>({...S,code:r}))}else a.name?_(`Subject name error: ${a.name}`,"error"):_("Failed to create subject. Please check the form and try again.","error")}})},re=s=>{const a={name:s.name,code:s.code,description:s.description||"",academic_level_id:s.academic_level_id,grade_levels:s.grade_levels||[],grading_period_id:s.grading_period_id||"",units:s.units,hours_per_week:s.hours_per_week,is_core:s.is_core,is_active:s.is_active};A.put(route("registrar.academic.subjects.update",s.id),a,{preserveScroll:!0,onSuccess:()=>u(!1)})},f=s=>{confirm(`Delete subject ${s.name}?`)&&A.delete(route("registrar.academic.subjects.destroy",s.id),{preserveScroll:!0})},b=s=>s?e.jsx(g,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(g,{className:"bg-red-100 text-red-800",children:"Inactive"}),y=s=>s?e.jsx(g,{className:"bg-blue-100 text-blue-800",children:"Core"}):e.jsx(g,{className:"bg-gray-100 text-gray-800",children:"Elective"}),te=()=>{d({name:"",code:"",description:"",academic_level_id:"",grade_levels:[],grading_period_id:"",department_id:"",course_id:"",semester_id:"",units:0,hours_per_week:0,is_core:!1,is_active:!0})};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(ce,{user:B}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ne,{user:B}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>A.get("/registrar/academic"),className:"flex items-center space-x-2",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Academic Management"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Manage Subjects per Level"})})]}),e.jsx(W,{className:"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:border-indigo-800",children:e.jsx($,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(je,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-100",children:"Subject Management"}),e.jsx("p",{className:"text-indigo-700 dark:text-indigo-300 text-sm mt-1",children:"Configure subjects for each academic level and strand. Define core and elective subjects with units and hours per week."})]})]})})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Subjects"}),e.jsxs(g,{variant:"secondary",children:[D.length," subjects"]})]}),e.jsxs(O,{open:se,onOpenChange:E,children:[e.jsx(oe,{asChild:!0,children:e.jsxs(c,{onClick:()=>{E(!0),te()},children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Add Subject"]})}),e.jsxs(q,{className:"max-w-md",children:[e.jsxs(I,{children:[e.jsx(J,{children:"Add new subject"}),e.jsx(K,{children:"Create a new subject and assign it to specific grade levels for elementary students."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-name",children:"Name"}),e.jsx(o,{id:"subject-name",value:l.name,onChange:s=>d({...l,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-code",children:"Code"}),e.jsx(o,{id:"subject-code",value:l.code,onChange:s=>d({...l,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-description",children:"Description"}),e.jsx(o,{id:"subject-description",value:l.description,onChange:s=>d({...l,description:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-level",children:"Academic Level"}),e.jsxs(h,{value:l.academic_level_id,onValueChange:s=>d({...l,academic_level_id:s}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select academic level"})}),e.jsx(j,{children:v.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),(()=>{const s=v.find(r=>r.id.toString()===l.academic_level_id);return(s==null?void 0:s.key)==="college"||(s==null?void 0:s.key)==="senior_highschool"?null:e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-grading",children:"Grading Period"}),e.jsxs(h,{value:l.grading_period_id,onValueChange:r=>d({...l,grading_period_id:r}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select grading period (optional)"})}),e.jsx(j,{children:l.academic_level_id&&z(Number(l.academic_level_id)).map(r=>e.jsx(p,{value:r.id.toString(),children:r.name},r.id))})]})]})})(),P()&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-grade-levels",children:"Grade Levels"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:F.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l.grade_levels.includes(s.value),onChange:a=>{a.target.checked?d({...l,grade_levels:[...l.grade_levels,s.value]}):d({...l,grade_levels:l.grade_levels.filter(r=>r!==s.value)})},className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:s.label})]},s.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which grade levels this subject applies to"})]}),l.academic_level_id&&((M=v.find(s=>s.id.toString()===l.academic_level_id))==null?void 0:M.key)==="college"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-dept",children:"Department"}),e.jsxs(h,{value:l.department_id,onValueChange:s=>d({...l,department_id:s,course_id:"",semester_id:"",grading_period_id:""}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select department"})}),e.jsx(j,{children:Y.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-course",children:"Course"}),e.jsxs(h,{value:l.course_id,onValueChange:s=>d({...l,course_id:s}),disabled:!l.department_id,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select course (required for college subjects)"})}),e.jsx(j,{children:X.filter(s=>{var a;return!l.department_id||((a=s.department_id)==null?void 0:a.toString())===l.department_id}).map(s=>e.jsxs(p,{value:s.id.toString(),children:[s.code," - ",s.name]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-semester",children:"Semester"}),e.jsxs(h,{value:l.semester_id,onValueChange:s=>d({...l,semester_id:s,grading_period_id:""}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select semester (optional)"})}),e.jsx(j,{children:l.academic_level_id&&H(Number(l.academic_level_id)).map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-period",children:"Period"}),e.jsxs(h,{value:l.grading_period_id,onValueChange:s=>d({...l,grading_period_id:s}),disabled:!l.semester_id,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select period (optional)"})}),e.jsx(j,{children:V(l.semester_id).map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]})]}),l.academic_level_id&&((U=v.find(s=>s.id.toString()===l.academic_level_id))==null?void 0:U.key)==="senior_highschool"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-semester",children:"Semester"}),e.jsxs(h,{value:l.semester_id,onValueChange:s=>d({...l,semester_id:s,grading_period_id:""}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select semester (optional)"})}),e.jsx(j,{children:l.academic_level_id&&H(Number(l.academic_level_id)).map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-period",children:"Period"}),e.jsxs(h,{value:l.grading_period_id,onValueChange:s=>d({...l,grading_period_id:s}),disabled:!l.semester_id,children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select period (optional)"})}),e.jsx(j,{children:V(l.semester_id).map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-units",children:"Units"}),e.jsx(o,{id:"subject-units",type:"number",min:"0",step:"0.5",value:l.units,onChange:s=>d({...l,units:Number(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"subject-hours",children:"Hours/Week"}),e.jsx(o,{id:"subject-hours",type:"number",min:"0",step:"0.5",value:l.hours_per_week,onChange:s=>d({...l,hours_per_week:Number(s.target.value)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"subject-core",checked:l.is_core,onChange:s=>d({...l,is_core:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(i,{htmlFor:"subject-core",children:"Core Subject"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"subject-active",checked:l.is_active,onChange:s=>d({...l,is_active:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(i,{htmlFor:"subject-active",children:"Active"})]})]}),e.jsx(Q,{children:e.jsx(c,{onClick:ie,children:"Save"})})]})]})]}),e.jsx(W,{children:e.jsx($,{className:"pt-6",children:e.jsxs(he,{value:Z,onValueChange:ee,children:[e.jsxs(xe,{className:"grid w-full grid-cols-5",children:[e.jsx(k,{value:"all",children:"All Subjects"}),e.jsx(k,{value:"elementary",children:"Elementary"}),e.jsx(k,{value:"junior_highschool",children:"Junior High"}),e.jsx(k,{value:"senior_highschool",children:"Senior High"}),e.jsx(k,{value:"college",children:"College"})]}),e.jsx(C,{value:"all",className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Level"}),e.jsx("th",{className:"text-left p-3",children:"Grade Levels"}),e.jsx("th",{className:"text-left p-3",children:"Course"}),e.jsx("th",{className:"text-left p-3",children:"Units"}),e.jsx("th",{className:"text-left p-3",children:"Hours/Week"}),e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:D.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-mono",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.academic_level.name}),e.jsx("td",{className:"p-3",children:s.academic_level.key==="elementary"&&s.grade_levels&&s.grade_levels.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.grade_levels.map(a=>{var r;return e.jsx(g,{variant:"secondary",className:"text-xs",children:((r=F.find(S=>S.value===a))==null?void 0:r.label)||a},a)})}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:s.course?e.jsx(g,{variant:"outline",className:"bg-blue-100 text-blue-800",children:s.course.code}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:s.units}),e.jsx("td",{className:"p-3",children:s.hours_per_week}),e.jsx("td",{className:"p-3",children:y(s.is_core)}),e.jsx("td",{className:"p-3",children:b(s.is_active)}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{n(s),u(!0)},children:"Edit"}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>f(s),children:"Delete"})]})})]},s.id))})]})})}),e.jsxs(C,{value:"elementary",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(i,{className:"text-sm font-medium",children:"Filter by Grade Level:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(c,{variant:T===null?"default":"outline",size:"sm",onClick:()=>L(null),children:"All Grades"}),F.map(s=>e.jsx(c,{variant:T===s.value?"default":"outline",size:"sm",onClick:()=>L(s.value),children:s.label},s.value))]})]}),e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Grade Levels"}),e.jsx("th",{className:"text-left p-3",children:"Units"}),e.jsx("th",{className:"text-left p-3",children:"Hours/Week"}),e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:ae(T||void 0).map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-mono",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.grade_levels&&s.grade_levels.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.grade_levels.map(a=>{var r;return e.jsx(g,{variant:"secondary",className:"text-xs",children:((r=F.find(S=>S.value===a))==null?void 0:r.label)||a},a)})}):e.jsx(g,{variant:"outline",className:"text-xs text-gray-500",children:"All Grades"})}),e.jsx("td",{className:"p-3",children:s.units}),e.jsx("td",{className:"p-3",children:s.hours_per_week}),e.jsx("td",{className:"p-3",children:y(s.is_core)}),e.jsx("td",{className:"p-3",children:b(s.is_active)}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{n(s),u(!0)},children:"Edit"}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>f(s),children:"Delete"})]})})]},s.id))})]})})]}),e.jsx(C,{value:"junior_highschool",className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Units"}),e.jsx("th",{className:"text-left p-3",children:"Hours/Week"}),e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:w("junior_highschool").map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-mono",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.units}),e.jsx("td",{className:"p-3",children:s.hours_per_week}),e.jsx("td",{className:"p-3",children:y(s.is_core)}),e.jsx("td",{className:"p-3",children:b(s.is_active)}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{n(s),u(!0)},children:"Edit"}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>f(s),children:"Delete"})]})})]},s.id))})]})})}),e.jsx(C,{value:"senior_highschool",className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Units"}),e.jsx("th",{className:"text-left p-3",children:"Hours/Week"}),e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:w("senior_highschool").map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-mono",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.units}),e.jsx("td",{className:"p-3",children:s.hours_per_week}),e.jsx("td",{className:"p-3",children:y(s.is_core)}),e.jsx("td",{className:"p-3",children:b(s.is_active)}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{n(s),u(!0)},children:"Edit"}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>f(s),children:"Delete"})]})})]},s.id))})]})})}),e.jsx(C,{value:"college",className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto rounded border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Code"}),e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Units"}),e.jsx("th",{className:"text-left p-3",children:"Hours/Week"}),e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:w("college").map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-mono",children:s.code}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:s.units}),e.jsx("td",{className:"p-3",children:s.hours_per_week}),e.jsx("td",{className:"p-3",children:y(s.is_core)}),e.jsx("td",{className:"p-3",children:b(s.is_active)}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{n(s),u(!0)},children:"Edit"}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>f(s),children:"Delete"})]})})]},s.id))})]})})})]})})}),t&&e.jsx(O,{open:le,onOpenChange:u,children:e.jsxs(q,{className:"max-w-md",children:[e.jsxs(I,{children:[e.jsx(J,{children:"Edit subject"}),e.jsx(K,{children:"Update subject details and grade level assignments."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Name"}),e.jsx(o,{value:t.name,onChange:s=>n({...t,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Code"}),e.jsx(o,{value:t.code,onChange:s=>n({...t,code:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Description"}),e.jsx(o,{value:t.description||"",onChange:s=>n({...t,description:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Academic Level"}),e.jsxs(h,{value:t.academic_level_id.toString(),onValueChange:s=>n({...t,academic_level_id:Number(s)}),children:[e.jsx(x,{children:e.jsx(m,{})}),e.jsx(j,{children:v.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Grading Period"}),e.jsxs(h,{value:((R=t.grading_period_id)==null?void 0:R.toString())||"",onValueChange:s=>n({...t,grading_period_id:s?Number(s):void 0}),children:[e.jsx(x,{children:e.jsx(m,{placeholder:"Select grading period (optional)"})}),e.jsx(j,{children:z(t.academic_level_id).map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Units"}),e.jsx(o,{type:"number",min:"0",step:"0.5",value:t.units,onChange:s=>n({...t,units:Number(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Hours/Week"}),e.jsx(o,{type:"number",min:"0",step:"0.5",value:t.hours_per_week,onChange:s=>n({...t,hours_per_week:Number(s.target.value)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_core,onChange:s=>n({...t,is_core:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(i,{children:"Core Subject"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:s=>n({...t,is_active:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(i,{children:"Active"})]})]}),e.jsx(Q,{children:e.jsx(c,{onClick:()=>re(t),children:"Save"})})]})})]})})]})]})}export{qe as default};
