import{j as e,L as G}from"./app-DZmca5cN.js";import{S as L}from"./layout-cpx2n6pT.js";import{C as d,b as l,c as n,d as m,a as o}from"./card-v9Vr5qwV.js";import{B as h}from"./badge-BPuCFweT.js";import{U as g}from"./user-B_NHOFpL.js";import{M as B}from"./mail-CoRt_nX8.js";import{G as C}from"./graduation-cap-C3j5vIH0.js";import{S as P}from"./school-DOg1POad.js";import{C as D}from"./calendar-mCzP1Ze-.js";import{P as k,F as R,M as x}from"./phone-D96ypOP1.js";import{B as A}from"./book-open-rFiTMTtn.js";import{U as E}from"./user-check-DK5DI-Rt.js";import{U as N}from"./users-B-NfpW26.js";import{A as T}from"./award-DO01IY0E.js";import{T as F}from"./trending-up-bkHjqNU5.js";/* empty css            */import"./app-shell-rAAHcm3u.js";import"./button-D-vqj4C2.js";import"./Combination-DJ5cCUSm.js";import"./index-L3yQ13UT.js";import"./dropdown-menu-7vu0f3fX.js";import"./index-St27WO2Y.js";import"./app-sidebar-EOVPRgbF.js";import"./separator-DPYuq5yy.js";import"./chevron-right-DMxifbll.js";import"./crown-VfKqqD-V.js";import"./file-text-AVV8Ntp0.js";function ge({user:s,assignedSubjects:j,subjectGrades:S,currentSchoolYear:M}){const U=t=>{const i=t.gradingPeriod||t.grading_period,r=i==null?void 0:i.name,c=i==null?void 0:i.code;return r&&String(r).trim().length>0?r:c&&String(c).trim().length>0?c:t.grading_period_id?`Period #${t.grading_period_id}`:"N/A"};return e.jsxs(L,{children:[e.jsx(G,{title:"My Profile"}),e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"My Profile"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your personal information and account details"})]}),e.jsxs(d,{children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(m,{children:"Your basic account details and student information"})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Full Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),"Email Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.email})]}),s.student_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(C,{className:"h-4 w-4"}),"Student Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.student_number})]}),s.year_level&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),"Academic Level"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:s.year_level})]}),s.birth_date&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),"Birth Date"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(s.birth_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.gender&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Gender"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:s.gender})]}),s.phone_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(k,{className:"h-4 w-4"}),"Phone Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.phone_number})]}),s.nationality&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(R,{className:"h-4 w-4"}),"Nationality"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.nationality})]}),s.religion&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(A,{className:"h-4 w-4"}),"Religion"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.religion})]}),s.lrn&&(s.year_level==="elementary"||s.year_level==="junior_highschool")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(C,{className:"h-4 w-4"}),"LRN"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.lrn})]}),s.previous_school&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),"Previous School"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.previous_school})]})]})})]}),(s.address||s.city||s.province||s.postal_code)&&e.jsxs(d,{children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),"Address Information"]}),e.jsx(m,{children:"Your residential address details"})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.address&&e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(x,{className:"h-4 w-4"}),"Complete Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.address})]}),s.city&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(x,{className:"h-4 w-4"}),"City"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.city})]}),s.province&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(x,{className:"h-4 w-4"}),"Province"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.province})]}),s.postal_code&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(x,{className:"h-4 w-4"}),"Postal Code"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.postal_code})]})]})})]}),(s.emergency_contact_name||s.emergency_contact_phone||s.emergency_contact_relationship)&&e.jsxs(d,{children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Emergency Contact"]}),e.jsx(m,{children:"Your emergency contact information"})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.emergency_contact_name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Contact Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_name})]}),s.emergency_contact_phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(k,{className:"h-4 w-4"}),"Contact Phone"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_phone})]}),s.emergency_contact_relationship&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(E,{className:"h-4 w-4"}),"Relationship"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_relationship})]})]})})]}),j&&j.length>0&&e.jsxs(d,{children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"My Academic Information - ",M]}),e.jsx(m,{children:"Your enrolled subjects, teachers, and grades for the current school year"})]}),e.jsx(o,{children:e.jsx("div",{className:"space-y-6",children:j.map(t=>{var c,f;const i=S[t.subject.id]||[],r=(f=(c=t.subject.teacherAssignments)==null?void 0:c[0])==null?void 0:f.teacher;return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:t.subject.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.subject.code," â€¢ ",t.subject.units||0," units"]}),t.subject.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.subject.description})]}),e.jsxs("div",{className:"flex gap-2",children:[t.subject.is_core&&e.jsx(h,{variant:"secondary",className:"text-xs",children:"Core Subject"}),t.semester&&e.jsx(h,{variant:"outline",className:"text-xs",children:t.semester})]})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Teacher: ",r.name]})]}),i.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"My Grades"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:i.slice().sort((a,p)=>{var u,b,_,w;const y=((u=a.gradingPeriod)==null?void 0:u.sort_order)??((b=a.grading_period)==null?void 0:b.sort_order)??Number.MAX_SAFE_INTEGER,v=((_=p.gradingPeriod)==null?void 0:_.sort_order)??((w=p.grading_period)==null?void 0:w.sort_order)??Number.MAX_SAFE_INTEGER;return y!==v?y-v:(a.grading_period_id||0)-(p.grading_period_id||0)}).map(a=>e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:U(a)}),!1,e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-lg font-bold ${a.grade>=90?"text-green-600":a.grade>=80?"text-yellow-600":a.grade>=70?"text-orange-600":"text-red-600"}`,children:a.grade}),a.is_approved&&e.jsx(h,{variant:"default",className:"text-xs",children:"Approved"})]})]})},a.id))})]}):e.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[e.jsx(F,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No grades recorded yet"})]})]},t.id)})})})]}),e.jsxs(d,{children:[e.jsxs(l,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Linked Parents"]}),e.jsx(m,{children:"Parents linked to your account"})]}),e.jsx(o,{children:s.parents&&s.parents.length>0?e.jsx("div",{className:"space-y-3",children:s.parents.map(t=>e.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.email})]}),e.jsx(h,{variant:"outline",children:t.pivot.relationship_type.charAt(0).toUpperCase()+t.pivot.relationship_type.slice(1)})]}),t.pivot.emergency_contact&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Emergency Contact: ",t.pivot.emergency_contact]}),t.pivot.notes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Notes: ",t.pivot.notes]})]})},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(N,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("div",{className:"text-lg font-medium text-gray-500",children:"No parents linked"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contact the school administration to link parent accounts"})]})})]})]})]})}export{ge as default};
