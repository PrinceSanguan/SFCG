import{r as _,K as Le,m as T,j as e,$ as Ye}from"./app-B9ix2fbL.js";import{H as Pe}from"./header-DnrbbhWZ.js";import{S as Be}from"./sidebar-CHDjzt8g.js";import{C as I,a as b,b as le,c as se}from"./card-DbmPiGwN.js";import{B as G}from"./button-allnsB2r.js";import{L as m}from"./label-DvO_fItG.js";import{S as x,a as g,b as u,c as j,d as t}from"./select-B0AGQ-2I.js";import{T as Ue,a as qe,b as re,c as ae}from"./tabs-rEsHscgL.js";import{C as L}from"./checkbox-D8eKDnYu.js";import{U as xe}from"./users-BCcFYHHK.js";import{F as Y}from"./file-text-DpFgXqEM.js";import{A as ge}from"./award-DT2neyvx.js";import{C as We}from"./calendar-BRmdM5qe.js";import{G as ue}from"./graduation-cap-Bdq6dGzq.js";import{T as ze}from"./trending-up-HRhH82Gb.js";import{F as ie,a as de,A as je}from"./file-x-pBdJ9onR.js";import{D as ve}from"./download-BRGgwiMb.js";/* empty css            */import"./dropdown-menu-C7cwdDN8.js";import"./Combination-xYBHKVMi.js";import"./index-C3g94cMv.js";import"./separator-CjbxDUn7.js";import"./chevron-right-BDqttHfz.js";import"./crown-CElC_csn.js";import"./building-2-DkPIeuZ7.js";import"./user-cog-8_h9YFAW.js";import"./book-open-B-B3t7-L.js";import"./user-check-fMX9V67z.js";import"./notebook-DoC9CgQw.js";import"./chart-no-axes-column-increasing-CLHNASJ5.js";import"./shield-BHIKi0Y9.js";import"./index-pEVb0lKv.js";import"./index-CBJIcWHq.js";import"./check-BS3W2Pzf.js";function Yl({user:ne,academicLevels:y,schoolYears:C,currentSchoolYear:H,gradingPeriods:P,honorTypes:_e,sections:D,tracks:w,strands:k,departments:V,courses:E,stats:M}){var me;const[pe,fe]=_.useState("honor-statistics"),[O,F]=_.useState(!1),[B,Je]=_.useState(""),[$e,te]=_.useState([]),[U,q]=_.useState([]),[Ke,ye]=_.useState([]),[Se,W]=_.useState([]),[Xe,Ne]=_.useState([]),[Ae,z]=_.useState([]),[J,$]=_.useState([]),[Ze,Ce]=_.useState([]),[Ie,K]=_.useState([]),[Qe,be]=_.useState([]),[De,X]=_.useState([]),[Z,ce]=_.useState([]),[ke,oe]=_.useState([]),[Ee,Q]=_.useState([]),[Re,he]=_.useState([]),[Fe,ee]=_.useState([]),{props:He}=Le(),A=He.csrf_token||((me=document.querySelector('meta[name="csrf-token"]'))==null?void 0:me.content)||"",{data:R,setData:el,post:ll,processing:sl}=T({academic_level_id:"all",semester_id:"",grading_period_id:"all",school_year:H||C[0]||"",format:"pdf",include_statistics:!0}),{data:c,setData:S,post:rl,processing:we}=T({academic_level_id:"all",school_year:H||C[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:i,setData:f,post:al,processing:Ve}=T({academic_level_id:"",school_year:H||C[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),{data:n,setData:N,post:il,processing:Me}=T({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:H||C[0]||"",include_grades:!1,format:"pdf"});_.useEffect(()=>{if(R.academic_level_id&&R.academic_level_id!=="all"){const r=parseInt(R.academic_level_id);let a=P.filter(s=>s.academic_level_id===r);if(B){const s=parseInt(B);a=a.filter(d=>d.id===s||d.parent_id===s)}te(a)}else te([])},[R.academic_level_id,B,P]),_.useEffect(()=>{console.log("=== CLASS SECTION REPORT - PAGE LOADED ==="),console.log("Available Academic Levels:",y),console.log("Available School Years:",C),console.log("Current School Year:",H),console.log("Initial Section Data:",n),console.log("Available Sections:",D),console.log("Available Tracks:",w),console.log("Available Strands:",k),console.log("Available Departments:",V),console.log("Available Courses:",E)},[]),_.useEffect(()=>{if(console.log("=== CLASS SECTION FILTER TRIGGERED ==="),console.log("Academic Level ID:",n.academic_level_id),console.log("Year Level:",n.year_level),console.log("Track ID:",n.track_id),console.log("Strand ID:",n.strand_id),console.log("Department ID:",n.department_id),console.log("Course ID:",n.course_id),!n.academic_level_id){q([]),ye([]),W([]),Ne([]),z([]);return}const r=parseInt(n.academic_level_id),a=y.find(d=>d.id===r);if(console.log("Selected Level:",a),!a){q([]);return}let s=D.filter(d=>d.academic_level_id===r);console.log("Sections for level:",s),n.year_level&&(s=s.filter(d=>d.specific_year_level===n.year_level),console.log("After year level filter:",s)),a.key==="senior_highschool"&&(n.track_id&&(s=s.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===n.track_id}),console.log("After track filter:",s)),n.strand_id&&(s=s.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===n.strand_id}),console.log("After strand filter:",s))),a.key==="college"&&(n.department_id&&(s=s.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===n.department_id}),console.log("After department filter:",s)),n.course_id&&(s=s.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===n.course_id}),console.log("After course filter:",s))),console.log("Final filtered sections:",s),q(s)},[n.academic_level_id,n.year_level,n.track_id,n.strand_id,n.department_id,n.course_id,D,y]),_.useEffect(()=>{if(n.track_id){const r=parseInt(n.track_id),a=k.filter(s=>s.track_id===r);console.log("Filtered Strands for Track:",a),W(a)}else W([])},[n.track_id,k]),_.useEffect(()=>{if(n.department_id){const r=parseInt(n.department_id),a=E.filter(s=>s.department_id===r);console.log("Filtered Courses for Department:",a),z(a)}else z([])},[n.department_id,E]),_.useEffect(()=>{if(console.log("=== HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[HONOR] Academic Level ID:",c.academic_level_id),console.log("[HONOR] Year Level:",c.year_level),console.log("[HONOR] Track ID:",c.track_id),console.log("[HONOR] Strand ID:",c.strand_id),console.log("[HONOR] Department ID:",c.department_id),console.log("[HONOR] Course ID:",c.course_id),!c.academic_level_id||c.academic_level_id==="all"){$([]),Ce([]),K([]),be([]),X([]);return}const r=parseInt(c.academic_level_id),a=y.find(d=>d.id===r);if(console.log("[HONOR] Selected Level:",a),!a){$([]);return}let s=D.filter(d=>d.academic_level_id===r);console.log("[HONOR] Sections for level:",s),c.year_level&&(s=s.filter(d=>d.specific_year_level===c.year_level),console.log("[HONOR] After year level filter:",s)),a.key==="senior_highschool"&&(c.track_id&&(s=s.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===c.track_id}),console.log("[HONOR] After track filter:",s)),c.strand_id&&(s=s.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===c.strand_id}),console.log("[HONOR] After strand filter:",s))),a.key==="college"&&(c.department_id&&(s=s.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===c.department_id}),console.log("[HONOR] After department filter:",s)),c.course_id&&(s=s.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===c.course_id}),console.log("[HONOR] After course filter:",s))),console.log("[HONOR] Final filtered sections:",s),$(s)},[c.academic_level_id,c.year_level,c.track_id,c.strand_id,c.department_id,c.course_id,D,y]),_.useEffect(()=>{if(c.track_id){const r=parseInt(c.track_id),a=k.filter(s=>s.track_id===r);console.log("[HONOR] Filtered Strands for Track:",a),K(a)}else K([])},[c.track_id,k]),_.useEffect(()=>{if(c.department_id){const r=parseInt(c.department_id),a=E.filter(s=>s.department_id===r);console.log("[HONOR] Filtered Courses for Department:",a),X(a)}else X([])},[c.department_id,E]),_.useEffect(()=>{if(console.log("=== [ADMIN] ARCHIVE FILTER TRIGGERED ==="),console.log("[ADMIN ARCHIVE] Academic Level ID:",i.academic_level_id),!i.academic_level_id){ce([]),oe([]),Q([]),he([]),ee([]);return}const r=parseInt(i.academic_level_id),a=y.find(d=>d.id===r);if(!a){console.log("[ADMIN ARCHIVE] Selected level not found");return}console.log("[ADMIN ARCHIVE] Selected Level:",a.name,a.key);let s=D.filter(d=>d.academic_level_id===r);console.log("[ADMIN ARCHIVE] Sections for level:",s.length),a.key==="senior_highschool"&&(console.log("[ADMIN ARCHIVE] Processing SHS filters"),oe(w),i.track_id&&(console.log("[ADMIN ARCHIVE] Filtering by Track ID:",i.track_id),s=s.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===i.track_id})),i.strand_id&&(console.log("[ADMIN ARCHIVE] Filtering by Strand ID:",i.strand_id),s=s.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===i.strand_id})),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),s=s.filter(d=>d.specific_year_level===i.year_level))),a.key==="college"&&(console.log("[ADMIN ARCHIVE] Processing College filters"),he(V),i.department_id&&(console.log("[ADMIN ARCHIVE] Filtering by Department ID:",i.department_id),s=s.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===i.department_id})),i.course_id&&(console.log("[ADMIN ARCHIVE] Filtering by Course ID:",i.course_id),s=s.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===i.course_id})),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),s=s.filter(d=>d.specific_year_level===i.year_level))),(a.key==="elementary"||a.key==="junior_highschool")&&(console.log("[ADMIN ARCHIVE] Processing Elementary/JHS filters"),i.year_level&&(console.log("[ADMIN ARCHIVE] Filtering by Year Level:",i.year_level),s=s.filter(d=>d.specific_year_level===i.year_level))),console.log("[ADMIN ARCHIVE] Final filtered sections:",s.length),ce(s)},[i.academic_level_id,i.year_level,i.track_id,i.strand_id,i.department_id,i.course_id,D,y,w,V]),_.useEffect(()=>{if(i.track_id){const r=parseInt(i.track_id),a=k.filter(s=>s.track_id===r);Q(a)}else Q([])},[i.track_id,k]),_.useEffect(()=>{if(i.department_id){const r=parseInt(i.department_id),a=E.filter(s=>s.department_id===r);ee(a)}else ee([])},[i.department_id,E]);const Oe=r=>{if(r.preventDefault(),console.log("=== [ADMIN] HONOR STATISTICS FORM SUBMISSION ==="),console.log("[ADMIN] Honor Data:",c),!A){console.error("[ADMIN] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[ADMIN] CSRF Token:",A),!c.school_year){console.error("[ADMIN] School year is required"),alert("Please select a school year before generating the report.");return}F(!0);let a=document.getElementById("download-iframe");a?console.log("[ADMIN] Using existing download iframe"):(a=document.createElement("iframe"),a.id="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("[ADMIN] Created download iframe"));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.honor-statistics"),s.target="download-iframe",console.log("[ADMIN] Form action URL:",s.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=A,s.appendChild(d);const o={};Object.entries(c).forEach(([v,l])=>{const h=document.createElement("input");h.type="hidden",h.name=v,typeof l=="boolean"?h.value=l?"1":"0":h.value=(l==null?void 0:l.toString())||"",o[v]=h.value,s.appendChild(h)}),console.log("[ADMIN] Form data being submitted:",o),document.body.appendChild(s),console.log("[ADMIN] Form appended to body, submitting..."),s.submit(),console.log("[ADMIN] Form submitted"),document.body.removeChild(s),console.log("[ADMIN] Form removed from body"),a.onload=()=>{var v;console.log("[ADMIN] Iframe loaded");try{const l=a.contentDocument||((v=a.contentWindow)==null?void 0:v.document);if(l){const h=l.body,p=(h==null?void 0:h.textContent)||"";console.log("[ADMIN] Iframe body content length:",p.length),console.log("[ADMIN] Iframe body preview:",p.substring(0,500)),(p.includes("error")||p.includes("Error")||p.includes("Exception"))&&(console.error("[ADMIN] Error detected in response:",p.substring(0,1e3)),alert("An error occurred while generating the report. Please check the console and Laravel logs for details."))}}catch(l){console.log("[ADMIN] Could not access iframe content (this is normal for successful downloads):",l)}},setTimeout(()=>{console.log("[ADMIN] Resetting loading state"),F(!1)},3e3)},Te=r=>{if(r.preventDefault(),console.log("=== [ADMIN] ARCHIVE RECORDS FORM SUBMISSION ==="),console.log("[ADMIN] Archive Data:",i),!A){console.error("[ADMIN] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[ADMIN] CSRF Token:",A),!i.academic_level_id){console.error("[ADMIN] Academic level is required"),alert("Please select an academic level before creating the archive.");return}if(!i.school_year){console.error("[ADMIN] School year is required"),alert("Please select a school year before creating the archive.");return}if(!i.include_grades&&!i.include_honors&&!i.include_certificates){console.error("[ADMIN] No data types selected"),alert("Please select at least one data type to include in the archive (grades, honors, or certificates).");return}F(!0);let a=document.getElementById("download-iframe");a?console.log("[ADMIN] Using existing download iframe"):(a=document.createElement("iframe"),a.id="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("[ADMIN] Created download iframe"));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.archive-records"),s.target="download-iframe",console.log("[ADMIN] Form action URL:",s.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=A,s.appendChild(d);const o={};Object.entries(i).forEach(([v,l])=>{const h=document.createElement("input");h.type="hidden",h.name=v,typeof l=="boolean"?h.value=l?"1":"0":h.value=(l==null?void 0:l.toString())||"",o[v]=h.value,s.appendChild(h)}),console.log("[ADMIN] Form data being submitted:",o),document.body.appendChild(s),console.log("[ADMIN] Form appended to body, submitting..."),s.submit(),console.log("[ADMIN] Form submitted"),document.body.removeChild(s),console.log("[ADMIN] Form removed from body"),a.onload=()=>{var v;console.log("[ADMIN] Iframe loaded");try{const l=a.contentDocument||((v=a.contentWindow)==null?void 0:v.document);if(l){const h=l.body,p=(h==null?void 0:h.textContent)||"";console.log("[ADMIN] Iframe body content length:",p.length),console.log("[ADMIN] Iframe body preview:",p.substring(0,500)),(p.includes("error")||p.includes("Error")||p.includes("Exception"))&&(console.error("[ADMIN] Error detected in response:",p.substring(0,1e3)),alert("An error occurred while creating the archive. Please check the console and Laravel logs for details."))}}catch(l){console.log("[ADMIN] Could not access iframe content (this is normal for successful downloads):",l)}},setTimeout(()=>{console.log("[ADMIN] Resetting loading state"),F(!1)},3e3)},Ge=r=>{if(console.log("=== handleClassSectionReport CALLED ==="),r.preventDefault(),r.stopPropagation(),console.log("=== CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("Form Data:",n),!A){console.error("CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}console.log("CSRF Token:",A),F(!0);let a=document.getElementById("download-iframe");a?console.log("Using existing download iframe"):(a=document.createElement("iframe"),a.id="download-iframe",a.style.display="none",document.body.appendChild(a),console.log("Created download iframe"));const s=document.createElement("form");s.method="POST",s.action=route("admin.reports.class-section-report"),s.target="download-iframe",console.log("Form action URL:",s.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=A,s.appendChild(d),console.log("Added CSRF token to form");const o={};Object.entries(n).forEach(([v,l])=>{const h=document.createElement("input");h.type="hidden",h.name=v,typeof l=="boolean"?h.value=l?"1":"0":h.value=(l==null?void 0:l.toString())||"",o[v]=h.value,s.appendChild(h)}),console.log("Form data being submitted:",o),document.body.appendChild(s),console.log("Form appended to body, submitting..."),s.submit(),console.log("Form submitted"),document.body.removeChild(s),console.log("Form removed from body"),a.onload=()=>{var v,l;console.log("Iframe loaded");try{const h=a.contentDocument||((v=a.contentWindow)==null?void 0:v.document);if(h){const p=h.body;console.log("Iframe body content:",(l=p==null?void 0:p.textContent)==null?void 0:l.substring(0,500))}}catch(h){console.log("Could not access iframe content (this is normal for successful downloads):",h)}},setTimeout(()=>{console.log("Resetting loading state"),F(!1)},2e3)};return(()=>{if(R.academic_level_id&&R.academic_level_id!=="all"){const r=parseInt(R.academic_level_id),a=y.find(s=>s.id===r);if(a&&(a.key==="college"||a.key==="senior_highschool"))return P.filter(s=>s.academic_level_id===r&&s.parent_id===null&&s.type==="semester")}return[]})(),e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(Be,{user:ne}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(Pe,{user:ne}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Ye,{href:route("admin.dashboard"),children:e.jsx(G,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(I,{children:e.jsxs(b,{className:"flex items-center p-6",children:[e.jsx(xe,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total_students})]})]})}),e.jsx(I,{children:e.jsxs(b,{className:"flex items-center p-6",children:[e.jsx(Y,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total_certificates})]})]})}),e.jsx(I,{children:e.jsxs(b,{className:"flex items-center p-6",children:[e.jsx(ge,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total_honors})]})]})}),e.jsx(I,{children:e.jsxs(b,{className:"flex items-center p-6",children:[e.jsx(We,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.active_periods})]})]})}),e.jsx(I,{children:e.jsxs(b,{className:"flex items-center p-6",children:[e.jsx(ue,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sections"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.active_sections})]})]})})]}),e.jsxs(Ue,{value:pe,onValueChange:fe,className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(re,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(re,{value:"archive-records",children:"Archive Records"}),e.jsx(re,{value:"class-section-reports",children:"Class Section Reports"})]}),e.jsx(ae,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(I,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Academic Level"}),e.jsxs(x,{value:c.academic_level_id,onValueChange:r=>{console.log("[HONOR] Academic Level Changed:",r),S({...c,academic_level_id:r,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All levels"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Levels"}),y.map(r=>e.jsx(t,{value:r.id.toString(),children:r.name},r.id))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Honor Type"}),e.jsxs(x,{value:c.honor_type_id,onValueChange:r=>S("honor_type_id",r),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All types"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Types"}),_e.map(r=>e.jsx(t,{value:r.id.toString(),children:r.name},r.id))]})]})]})]}),(()=>{if(!c.academic_level_id||c.academic_level_id==="all")return null;const r=y.find(v=>v.id.toString()===c.academic_level_id);if(!r)return null;const a=r.key==="elementary",s=r.key==="junior_highschool",d=r.key==="senior_highschool",o=r.key==="college";if(a||s){const v=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:c.year_level,onValueChange:l=>S({...c,year_level:l,section_id:"all"}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:c.section_id,onValueChange:l=>S({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),J.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}if(d){const v=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:c.year_level,onValueChange:l=>S({...c,year_level:l,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Track"}),e.jsxs(x,{value:c.track_id,onValueChange:l=>S({...c,track_id:l,strand_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsx(j,{children:w.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Strand"}),e.jsxs(x,{value:c.strand_id,onValueChange:l=>S({...c,strand_id:l,section_id:"all"}),disabled:!c.track_id,children:[e.jsx(g,{children:e.jsx(u,{placeholder:c.track_id?"All strands":"Select track first"})}),e.jsx(j,{children:Ie.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:c.section_id,onValueChange:l=>S({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),J.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}if(o){const v=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:c.year_level,onValueChange:l=>S({...c,year_level:l,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Department"}),e.jsxs(x,{value:c.department_id,onValueChange:l=>S({...c,department_id:l,course_id:"",section_id:"all"}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsx(j,{children:V.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Course"}),e.jsxs(x,{value:c.course_id,onValueChange:l=>S({...c,course_id:l,section_id:"all"}),disabled:!c.department_id,children:[e.jsx(g,{children:e.jsx(u,{placeholder:c.department_id?"All courses":"Select department first"})}),e.jsx(j,{children:De.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:c.section_id,onValueChange:l=>S({...c,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),J.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"School Year"}),e.jsxs(x,{value:c.school_year,onValueChange:r=>S("school_year",r),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(r=>e.jsx(t,{value:r,children:r},r))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Export Format"}),e.jsxs(x,{value:c.format,onValueChange:r=>S("format",r),children:[e.jsx(g,{children:e.jsx(u,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(t,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(t,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(G,{type:"submit",disabled:we||O,className:"flex items-center gap-2",children:O?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(ae,{value:"archive-records",className:"space-y-6",children:e.jsxs(I,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Academic Level *"}),e.jsxs(x,{value:i.academic_level_id,onValueChange:r=>{console.log("[ADMIN ARCHIVE] Academic Level Changed:",r),f({...i,academic_level_id:r,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(j,{children:y.map(r=>e.jsx(t,{value:r.id.toString(),children:r.name},r.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"School Year *"}),e.jsxs(x,{value:i.school_year,onValueChange:r=>f("school_year",r),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(r=>e.jsx(t,{value:r,children:r},r))})]})]})]}),(()=>{if(!i.academic_level_id)return null;const r=parseInt(i.academic_level_id),a=y.find(l=>l.id===r);if(!a)return null;const s=a.key==="elementary",d=a.key==="junior_highschool",o=a.key==="senior_highschool",v=a.key==="college";if(console.log("[ADMIN ARCHIVE] Rendering cascading filters for:",a.key),s||d){const l=s?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:i.year_level,onValueChange:h=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",h),f({...i,year_level:h,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Year Levels"}),l.map(h=>e.jsx(t,{value:h.value,children:h.label},h.value))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:i.section_id,onValueChange:h=>{console.log("[ADMIN ARCHIVE] Section Changed:",h),f({...i,section_id:h})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),Z.map(h=>e.jsx(t,{value:h.id.toString(),children:h.name},h.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:i.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),f({...i,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Year Levels"}),e.jsx(t,{value:"grade_11",children:"Grade 11"}),e.jsx(t,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Track"}),e.jsxs(x,{value:i.track_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Track Changed:",l),f({...i,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Tracks"}),ke.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Strand"}),e.jsxs(x,{value:i.strand_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Strand Changed:",l),f({...i,strand_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All strands"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Strands"}),Ee.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:i.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),f({...i,section_id:l})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):v?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:i.year_level,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Year Level Changed:",l),f({...i,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Year Levels"}),e.jsx(t,{value:"1st_year",children:"1st Year"}),e.jsx(t,{value:"2nd_year",children:"2nd Year"}),e.jsx(t,{value:"3rd_year",children:"3rd Year"}),e.jsx(t,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Department"}),e.jsxs(x,{value:i.department_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Department Changed:",l),f({...i,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Departments"}),Re.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Course"}),e.jsxs(x,{value:i.course_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Course Changed:",l),f({...i,course_id:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All courses"})}),e.jsxs(j,{children:[e.jsx(t,{value:"",children:"All Courses"}),Fe.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:i.section_id,onValueChange:l=>{console.log("[ADMIN ARCHIVE] Section Changed:",l),f({...i,section_id:l})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{children:[e.jsx(m,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_grades",checked:i.include_grades,onCheckedChange:r=>f("include_grades",!!r)}),e.jsxs(m,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_honors",checked:i.include_honors,onCheckedChange:r=>f("include_honors",!!r)}),e.jsxs(m,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_certificates",checked:i.include_certificates,onCheckedChange:r=>f("include_certificates",!!r)}),e.jsxs(m,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Export Format"}),e.jsxs(x,{value:i.format,onValueChange:r=>f("format",r),children:[e.jsx(g,{children:e.jsx(u,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(t,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(G,{type:"submit",disabled:Ve||!i.academic_level_id||!i.school_year,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),O?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})}),e.jsx(ae,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(I,{children:[e.jsxs(le,{children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Academic Level *"}),e.jsxs(x,{value:n.academic_level_id,onValueChange:r=>{console.log("Academic Level Changed:",r),N({...n,academic_level_id:r,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(j,{children:y.map(r=>e.jsx(t,{value:r.id.toString(),children:r.name},r.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!n.academic_level_id)return null;const r=y.find(v=>v.id.toString()===n.academic_level_id);if(!r)return null;const a=r.key==="elementary",s=r.key==="junior_highschool",d=r.key==="senior_highschool",o=r.key==="college";if(a||s){const v=a?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:n.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),N({...n,year_level:l,section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:n.section_id,onValueChange:l=>N({...n,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),U.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(d){const v=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:n.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),N({...n,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Track"}),e.jsxs(x,{value:n.track_id,onValueChange:l=>{console.log("Track Changed:",l),N({...n,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select track"})}),e.jsx(j,{children:w.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Strand"}),e.jsxs(x,{value:n.strand_id,onValueChange:l=>{console.log("Strand Changed:",l),N({...n,strand_id:l,section_id:"all"})},disabled:!n.track_id,children:[e.jsx(g,{children:e.jsx(u,{placeholder:n.track_id?"Select strand":"Select track first"})}),e.jsx(j,{children:Se.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:n.section_id,onValueChange:l=>N({...n,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),U.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(o){const v=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Year Level"}),e.jsxs(x,{value:n.year_level,onValueChange:l=>{console.log("Year Level Changed:",l),N({...n,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(j,{children:v.map(l=>e.jsx(t,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Department"}),e.jsxs(x,{value:n.department_id,onValueChange:l=>{console.log("Department Changed:",l),N({...n,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select department"})}),e.jsx(j,{children:V.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Course"}),e.jsxs(x,{value:n.course_id,onValueChange:l=>{console.log("Course Changed:",l),N({...n,course_id:l,section_id:"all"})},disabled:!n.department_id,children:[e.jsx(g,{children:e.jsx(u,{placeholder:n.department_id?"Select course":"Select department first"})}),e.jsx(j,{children:Ae.map(l=>e.jsxs(t,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Section"}),e.jsxs(x,{value:n.section_id,onValueChange:l=>N({...n,section_id:l}),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(j,{children:[e.jsx(t,{value:"all",children:"All Sections"}),U.map(l=>e.jsx(t,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"School Year *"}),e.jsxs(x,{value:n.school_year,onValueChange:r=>N("school_year",r),children:[e.jsx(g,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(j,{children:C.map(r=>e.jsx(t,{value:r,children:r},r))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Export Format"}),e.jsxs(x,{value:n.format,onValueChange:r=>N("format",r),children:[e.jsx(g,{children:e.jsx(u,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(t,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(t,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"include_grades_section",checked:n.include_grades,onCheckedChange:r=>N("include_grades",!!r)}),e.jsx(m,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!n.academic_level_id||!n.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(G,{type:"submit",disabled:Me||!n.academic_level_id||!n.school_year||O,className:"flex items-center gap-2",children:O?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Yl as default};
