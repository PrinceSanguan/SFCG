import{r as U,u as ve,m as ye,j as e,C as Ne,S as be}from"./app-gg8WI2b9.js";import{H as fe}from"./header-Dj24-vCv.js";import{S as we}from"./sidebar-AVcIaaLL.js";import{C as O,b as I,c as Q,a as L}from"./card-DmJ-pIfr.js";import{B as x}from"./button-iUykQQ5G.js";import{I as m}from"./input-DGBGl-z5.js";import{L as t}from"./label-DcHLjRTo.js";import{S as $,a as k,b as G,c as H,d as y}from"./select-DcIQ0vze.js";import{C as de}from"./checkbox-DebPlI5u.js";import{B as h}from"./badge-izKhDFZW.js";import{A as Ce,a as Se}from"./alert-CO2AfTTt.js";import{A as Fe}from"./arrow-left-Bov4M0B3.js";import{P as Ae}from"./plus-Bu1SM3k8.js";import{T as P}from"./trophy-s-7FnKnW.js";import{U as $e}from"./upload-lY1yctn1.js";/* empty css            */import"./dropdown-menu-2ArgnMqb.js";import"./Combination-C4QqyKLz.js";import"./index-BYhuas2T.js";import"./separator-DpdxRUpF.js";import"./users-DYulzvB_.js";import"./chevron-right-CGpYUQCt.js";import"./crown-JCQNudn1.js";import"./building-2-BdGRcYCc.js";import"./user-cog-BAjX-b5P.js";import"./book-open-KO-y7v7t.js";import"./user-check-B4FXk8oE.js";import"./graduation-cap-DVd4Lmhg.js";import"./notebook-DnuYCndu.js";import"./chart-no-axes-column-increasing-BwlDvtDI.js";import"./shield-BrwKAPXj.js";import"./index-CoecQDtC.js";import"./index-BpiwNBFG.js";import"./check-DSLCoAiC.js";function ca({user:K,honorTypes:g,criteria:N,schoolYears:M,qualifiedStudents:u=[],honorResults:ie=[],currentSchoolYear:V="2024-2025",gradeLevels:v={},sections:f=[],strands:w=[],filters:n}){var Z,ee;const[q,b]=U.useState(null),[E,z]=U.useState(null),[i,p]=U.useState({min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1}),[te,B]=U.useState(!1),{addToast:D}=ve(),{data:_,setData:j,post:oe,processing:ce,errors:X,reset:me}=ye({academic_level_id:"3",honor_type_id:"",school_year:"2024-2025",min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1}),J=a=>{var d;if(typeof a!="number"||!N||N.length===0)return null;const s=[...N].filter(r=>r.honorType&&(r.min_gpa!==null||r.max_gpa!==null)).sort((r,o)=>(o.min_gpa??0)-(r.min_gpa??0));for(const r of s){const o=r.min_gpa===null||a>=r.min_gpa,c=r.max_gpa===null||a<=r.max_gpa;if(o&&c)return((d=r.honorType)==null?void 0:d.name)||null}return null},W=a=>{var s,d,r;return((s=a==null?void 0:a.honor_type)==null?void 0:s.name)||((d=a==null?void 0:a.honorType)==null?void 0:d.name)||((r=g==null?void 0:g.find(o=>o.id===(a==null?void 0:a.honor_type_id)))==null?void 0:r.name)||"Unknown Honor Type"},Y=a=>{var s,d,r;return((s=a==null?void 0:a.honor_type)==null?void 0:s.scope)||((d=a==null?void 0:a.honorType)==null?void 0:d.scope)||((r=g==null?void 0:g.find(o=>o.id===(a==null?void 0:a.honor_type_id)))==null?void 0:r.scope)||"Unknown"},he=a=>{a.preventDefault(),oe("/admin/academic/honors/criteria",{onSuccess:()=>{b({type:"success",text:"Criteria saved successfully!"}),me(),B(!1),window.location.reload()},onError:()=>b({type:"error",text:"Failed to save criteria."})})},xe=a=>{var s,d,r,o,c,l;z(a),p({min_gpa:((s=a.min_gpa)==null?void 0:s.toString())||"",max_gpa:((d=a.max_gpa)==null?void 0:d.toString())||"",min_grade:((r=a.min_grade)==null?void 0:r.toString())||"",min_grade_all:((o=a.min_grade_all)==null?void 0:o.toString())||"",min_year:((c=a.min_year)==null?void 0:c.toString())||"",max_year:((l=a.max_year)==null?void 0:l.toString())||"",require_consistent_honor:a.require_consistent_honor})},ge=()=>{z(null),p({min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1})},pe=a=>{var d;const s={...E,min_gpa:parseFloat(i.min_gpa)||null,max_gpa:parseFloat(i.max_gpa)||null,min_grade:parseFloat(i.min_grade)||null,min_grade_all:parseFloat(i.min_grade_all)||null,min_year:parseInt(i.min_year)||null,max_year:parseInt(i.max_year)||null,require_consistent_honor:i.require_consistent_honor};fetch(`/admin/academic/honors/criteria/${a}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify(s)}).then(r=>{if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}).then(()=>{b({type:"success",text:"Criteria updated successfully!"}),z(null),window.location.reload()}).catch(()=>b({type:"error",text:"Failed to update criteria."}))},_e=a=>{var s;window.confirm("Are you sure you want to delete this criterion?")&&fetch(`/admin/academic/honors/criteria/${a}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}}).then(d=>{if(!d.ok)throw new Error(`HTTP ${d.status}`);return d.json()}).then(()=>{b({type:"success",text:"Criteria deleted successfully!"}),window.location.reload()}).catch(()=>b({type:"error",text:"Failed to delete criteria."}))};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(we,{user:K}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(fe,{user:K}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Back"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Senior High School Honor Criteria"})]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage honor criteria for Senior High School level students."})]})}),q&&e.jsxs(Ce,{className:q.type==="success"?"border-green-500":"border-red-500",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx(Se,{children:q.text})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:()=>B(!0),className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Add New Criteria"]})}),te&&e.jsxs(O,{children:[e.jsx(I,{children:e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Add Honor Criteria"]})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:he,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"honor_type_id",children:"Honor Type"}),g&&g.length>0?e.jsxs($,{value:_.honor_type_id||"",onValueChange:a=>j("honor_type_id",a),children:[e.jsx(k,{children:e.jsx(G,{placeholder:"Select honor"})}),e.jsx(H,{children:g.filter(a=>a.id&&a.name).map(a=>e.jsx(y,{value:a.id.toString(),children:a.name},a.id))})]}):e.jsx("div",{className:"p-2 text-sm text-gray-500 bg-gray-100 rounded border",children:"Loading honor types..."}),X.honor_type_id&&e.jsx("p",{className:"text-sm text-red-500",children:X.honor_type_id})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"school_year",children:"School Year"}),e.jsxs($,{value:_.school_year||"",onValueChange:a=>j("school_year",a),children:[e.jsx(k,{children:e.jsx(G,{placeholder:"Select school year"})}),e.jsx(H,{children:(M!=null&&M.length?M:["2024-2025"]).filter(a=>a&&a.trim()!=="").map(a=>e.jsx(y,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_gpa",children:"Min GPA"}),e.jsx(m,{id:"min_gpa",type:"number",step:"0.01",value:_.min_gpa,onChange:a=>j("min_gpa",a.target.value),placeholder:"e.g., 90.0"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_gpa",children:"Max GPA"}),e.jsx(m,{id:"max_gpa",type:"number",step:"0.01",value:_.max_gpa,onChange:a=>j("max_gpa",a.target.value),placeholder:"e.g., 97.0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_grade",children:"Min Grade (any)"}),e.jsx(m,{id:"min_grade",type:"number",value:_.min_grade,onChange:a=>j("min_grade",a.target.value),placeholder:"e.g., 90"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_grade_all",children:"Min Grade (all)"}),e.jsx(m,{id:"min_grade_all",type:"number",value:_.min_grade_all,onChange:a=>j("min_grade_all",a.target.value),placeholder:"e.g., 93"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_year",children:"Min Year"}),e.jsx(m,{id:"min_year",type:"number",value:_.min_year,onChange:a=>j("min_year",a.target.value),placeholder:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_year",children:"Max Year"}),e.jsx(m,{id:"max_year",type:"number",value:_.max_year,onChange:a=>j("max_year",a.target.value),placeholder:"e.g., 3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{id:"require_consistent_honor",checked:!!_.require_consistent_honor,onCheckedChange:a=>j("require_consistent_honor",a)}),e.jsx(t,{htmlFor:"require_consistent_honor",children:"Require consistent honor standing"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{type:"submit",disabled:ce,children:"Save Criteria"}),e.jsx(x,{type:"button",variant:"outline",onClick:()=>B(!1),children:"Cancel"})]})]})})]}),e.jsxs(O,{children:[e.jsx(I,{children:e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Existing Criteria (",N.length,")"]})}),e.jsx(L,{children:N.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(P,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No honor criteria set for Senior High School"}),e.jsx("p",{className:"text-sm",children:'Use the "Add New Criteria" button to create criteria for this level.'})]}):e.jsx("div",{className:"grid gap-4",children:N.map(a=>e.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:(E==null?void 0:E.id)===a.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:W(a)}),e.jsx(h,{variant:"secondary",children:Y(a)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_gpa_${a.id}`,children:"Min GPA"}),e.jsx(m,{id:`edit_min_gpa_${a.id}`,type:"number",step:"0.01",value:i.min_gpa,onChange:s=>p({...i,min_gpa:s.target.value}),placeholder:"e.g., 90.0"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_max_gpa_${a.id}`,children:"Max GPA"}),e.jsx(m,{id:`edit_max_gpa_${a.id}`,type:"number",step:"0.01",value:i.max_gpa,onChange:s=>p({...i,max_gpa:s.target.value}),placeholder:"e.g., 97.0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_grade_${a.id}`,children:"Min Grade (any)"}),e.jsx(m,{id:`edit_min_grade_${a.id}`,type:"number",value:i.min_grade,onChange:s=>p({...i,min_grade:s.target.value}),placeholder:"e.g., 90"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_grade_all_${a.id}`,children:"Min Grade (all)"}),e.jsx(m,{id:`edit_min_grade_all_${a.id}`,type:"number",value:i.min_grade_all,onChange:s=>p({...i,min_grade_all:s.target.value}),placeholder:"e.g., 93"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_year_${a.id}`,children:"Min Year"}),e.jsx(m,{id:`edit_min_year_${a.id}`,type:"number",value:i.min_year,onChange:s=>p({...i,min_year:s.target.value}),placeholder:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_max_year_${a.id}`,children:"Max Year"}),e.jsx(m,{id:`edit_max_year_${a.id}`,type:"number",value:i.max_year,onChange:s=>p({...i,max_year:s.target.value}),placeholder:"e.g., 3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{id:`edit_require_consistent_${a.id}`,checked:i.require_consistent_honor,onCheckedChange:s=>p({...i,require_consistent_honor:s})}),e.jsx(t,{htmlFor:`edit_require_consistent_${a.id}`,children:"Require consistent honor standing"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:ge,children:"Cancel"}),e.jsx(x,{size:"sm",onClick:()=>pe(a.id),children:"Update Criteria"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:W(a)}),e.jsx(h,{variant:"secondary",children:Y(a)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.min_gpa&&e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Min GPA:"})," ",a.min_gpa]}),a.max_gpa&&e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-green-700",children:"Max GPA:"})," ",a.max_gpa]}),a.min_grade&&e.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-yellow-700",children:"Min Grade:"})," ",a.min_grade]}),a.min_grade_all&&e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-purple-700",children:"Min Grade (All):"})," ",a.min_grade_all]}),a.min_year&&a.max_year&&e.jsxs("div",{className:"bg-indigo-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-indigo-700",children:"Years:"})," ",a.min_year,"-",a.max_year]}),a.require_consistent_honor&&e.jsx("div",{className:"col-span-2",children:e.jsx(h,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"Requires Consistent Honor Standing"})})]}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>xe(a),children:"Edit"}),e.jsx(x,{variant:"destructive",size:"sm",onClick:()=>_e(a.id),children:"Delete"})]})]})},a.id))})})]}),e.jsxs(O,{children:[e.jsxs(I,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Qualified Senior High School Students (",u.length,")"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["School Year: ",V," • Click on a student to view detailed grades and honor calculation"]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"grade_level_filter",children:"Grade Level"}),e.jsxs($,{value:(n==null?void 0:n.grade_level)||"all",onValueChange:a=>{const s=new URL(window.location.href);a&&a!=="all"?s.searchParams.set("grade_level",a):s.searchParams.delete("grade_level"),window.location.href=s.toString()},children:[e.jsx(k,{children:e.jsx(G,{placeholder:"All Grade Levels"})}),e.jsxs(H,{children:[e.jsx(y,{value:"all",children:"All Grade Levels"}),v&&Object.entries(v).map(([a,s])=>e.jsx(y,{value:a,children:s},a))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"strand_filter",children:"Strand"}),e.jsxs($,{value:(n==null?void 0:n.strand_id)||"all",onValueChange:a=>{const s=new URL(window.location.href);a&&a!=="all"?s.searchParams.set("strand_id",a):s.searchParams.delete("strand_id"),window.location.href=s.toString()},children:[e.jsx(k,{children:e.jsx(G,{placeholder:"All Strands"})}),e.jsxs(H,{children:[e.jsx(y,{value:"all",children:"All Strands"}),w&&w.map(a=>e.jsx(y,{value:a.id.toString(),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"section_filter",children:"Section"}),e.jsxs($,{value:(n==null?void 0:n.section_id)||"all",onValueChange:a=>{const s=new URL(window.location.href);a&&a!=="all"?s.searchParams.set("section_id",a):s.searchParams.delete("section_id"),window.location.href=s.toString()},children:[e.jsx(k,{children:e.jsx(G,{placeholder:"All Sections"})}),e.jsxs(H,{children:[e.jsx(y,{value:"all",children:"All Sections"}),f&&f.map(a=>e.jsxs(y,{value:a.id.toString(),children:[a.name," (",a.code,")",a.specific_year_level&&` - ${a.specific_year_level.replace("grade_","Grade ")}`]},a.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(x,{variant:"outline",onClick:()=>{const a=new URL(window.location.href);a.searchParams.delete("grade_level"),a.searchParams.delete("strand_id"),a.searchParams.delete("section_id"),window.location.href=a.toString()},className:"w-full",children:"Clear Filters"})})]}),((n==null?void 0:n.grade_level)||(n==null?void 0:n.section_id)||(n==null?void 0:n.strand_id))&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Active Filters:"}),(n==null?void 0:n.grade_level)&&e.jsxs("span",{className:"ml-2",children:["Grade Level: ",e.jsx(h,{variant:"secondary",children:(v==null?void 0:v[n.grade_level])||n.grade_level})]}),(n==null?void 0:n.strand_id)&&e.jsxs("span",{className:"ml-2",children:["Strand: ",e.jsx(h,{variant:"secondary",children:((Z=w==null?void 0:w.find(a=>a.id.toString()===n.strand_id))==null?void 0:Z.name)||n.strand_id})]}),(n==null?void 0:n.section_id)&&e.jsxs("span",{className:"ml-2",children:["Section: ",e.jsx(h,{variant:"secondary",children:((ee=f==null?void 0:f.find(a=>a.id.toString()===n.section_id))==null?void 0:ee.name)||n.section_id})]})]})})]})]}),e.jsx(L,{children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(P,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No qualified students found"}),e.jsx("p",{className:"text-sm",children:"Students need to meet honor criteria to appear here."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Ready to submit ",u.length," student",u.length!==1?"s":""," for approval"]}),e.jsxs(x,{onClick:()=>{if(u.some(s=>ie.some(d=>d.student_id===s.student.id&&d.school_year===V))){D("Some students have already been submitted for approval.","warning");return}confirm(`Submit ${u.length} qualified student(s) for principal approval?`)&&be.post(route("admin.academic.honors.senior-high-school.generate-results"),{school_year:V},{onSuccess:()=>{D(`Successfully submitted ${u.length} student(s) for approval!`,"success")},onError:()=>{D("Failed to submit students for approval. Please try again.","error")}})},className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Submit for Approval"]})]}),e.jsx("div",{className:"grid gap-4",children:u.map((a,s)=>{var d,r,o;return e.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md cursor-pointer transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",s+1]}),e.jsx("h4",{className:"font-semibold text-lg",children:a.student.name})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"outline",className:"text-xs",children:a.student.student_number}),a.student.specific_year_level&&e.jsx(h,{variant:"secondary",className:"text-xs",children:(v==null?void 0:v[a.student.specific_year_level])||a.student.specific_year_level.replace("grade_","Grade ")}),a.student.section&&e.jsx(h,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:a.student.section.name})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Average Grade:"}),e.jsx("div",{className:"text-lg font-bold",children:a.result.average_grade})]}),e.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-yellow-700",children:"Min Grade:"}),e.jsx("div",{className:"text-lg font-bold",children:a.result.min_grade})]}),e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-green-700",children:"Total Quarters:"}),e.jsx("div",{className:"text-lg font-bold",children:((d=a.result.quarter_averages)==null?void 0:d.length)??((o=(r=a.result.grades_breakdown)==null?void 0:r.periods)==null?void 0:o.length)??0})]}),e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-purple-700",children:"Honor:"}),e.jsx("div",{className:"font-bold",children:(()=>{var l,T,R,C,S,F;if(((T=(l=a.result)==null?void 0:l.qualifications)==null?void 0:T.length)>0){const A=(C=(R=a.result.qualifications[0])==null?void 0:R.honor_type)==null?void 0:C.name;if(A)return e.jsx(h,{className:"bg-purple-100 text-purple-800 border-purple-200",children:A})}const c=J((S=a.result)==null?void 0:S.average_grade);return c?e.jsx(h,{className:"bg-purple-100 text-purple-800 border-purple-200",children:c}):(F=a.result)!=null&&F.qualified?e.jsx(h,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Computing..."}):e.jsx("span",{className:"text-gray-500",children:"N/A"})})()})]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{var C,S,F,A,ae,se,ne,re,le;const c=a.student,l=a.result,T=((F=(S=(C=l==null?void 0:l.qualifications)==null?void 0:C[0])==null?void 0:S.honor_type)==null?void 0:F.name)||J(l==null?void 0:l.average_grade)||"N/A",R=`
Student: ${c.name} (${c.student_number})
Grade Level: ${((A=c.specific_year_level)==null?void 0:A.replace("grade_","Grade "))||"N/A"}
Section: ${((ae=c.section)==null?void 0:ae.name)||"N/A"}

Honor: ${T}
Average Grade: ${((se=l==null?void 0:l.average_grade)==null?void 0:se.toFixed(2))||"N/A"}
Minimum Grade: ${((ne=l==null?void 0:l.min_grade)==null?void 0:ne.toFixed(2))||"N/A"}
Total Quarters: ${((re=l==null?void 0:l.quarter_averages)==null?void 0:re.length)||0}

Quarter Averages:
${((le=l==null?void 0:l.quarter_averages)==null?void 0:le.map((je,ue)=>`Q${ue+1}: ${je.toFixed(2)}`).join(`
`))||"No data"}

Reason: ${(l==null?void 0:l.reason)||"N/A"}
                                                                    `.trim();alert(R)},children:"View Details"})})]})},a.student.id)})})]})})]})]})})]})]})}export{ca as default};
