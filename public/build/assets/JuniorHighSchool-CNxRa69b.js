import{r as w,u as de,m as ce,j as e,C as oe,S as me}from"./app-B1XDlM4q.js";import{H as xe}from"./header-DLQd1aWE.js";import{S as he}from"./sidebar-BsO9lrF4.js";import{C as E,b as J,c as q,a as U}from"./card-CuF4EDtq.js";import{B as m}from"./button-CPtGLZe6.js";import{I as c}from"./input-DagDS3VW.js";import{L as t}from"./label-B62ZSeRF.js";import{S as C,a as H,b as F,c as k,d as j}from"./select-CdOhFVpn.js";import{C as X}from"./checkbox-DykZB8ut.js";import{B as i}from"./badge-Cjqp3MWI.js";import{A as ge,a as pe}from"./alert-D2GPws0_.js";import{A as ue}from"./arrow-left-CYwvfeQn.js";import{P as _e}from"./plus-DEHaLGhb.js";import{T as b}from"./trophy-D-ifgUcJ.js";import{U as je}from"./upload--1VRa7zv.js";/* empty css            */import"./dropdown-menu-DBQ083-a.js";import"./Combination-DKFTykYR.js";import"./index-YaftDDMM.js";import"./separator-Cka_buee.js";import"./users-DwsbyFz9.js";import"./chevron-right-CTezCqIR.js";import"./crown-b5ZX20zd.js";import"./building-2-be-mKaRH.js";import"./user-cog-C_-T_l3h.js";import"./book-open-Cb7ER9SB.js";import"./user-check-ByzQj73J.js";import"./graduation-cap-w-xgIYjN.js";import"./notebook-E8wejB7h.js";import"./chart-no-axes-column-increasing-RjHAksfV.js";import"./shield-DuZXQru2.js";import"./index-hsyckNFX.js";import"./index-BM0E_laQ.js";import"./check-ClaP51tr.js";function Re({user:B,honorTypes:v,criteria:A,schoolYears:f,qualifiedStudents:W,honorResults:Z,currentSchoolYear:D="2024-2025",gradeLevels:o={},sections:N=[],filters:l}){var O;const x=W||[],_=Z||[],G=D||"2024-2025",[T,y]=w.useState(null),{addToast:$}=de(),[S,M]=w.useState(null),[r,h]=w.useState({min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1}),[L,P]=w.useState(!1),{data:g,setData:p,post:R,processing:ee,errors:z,reset:ae}=ce({academic_level_id:"2",honor_type_id:"",school_year:"2024-2025",min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1}),V=a=>{var n,d;if((n=a==null?void 0:a.honor_type)!=null&&n.name)return a.honor_type.name;if((d=a==null?void 0:a.honorType)!=null&&d.name)return a.honorType.name;const s=v.find(u=>u.id===a.honor_type_id);return(s==null?void 0:s.name)||"Unknown Honor Type"},I=a=>{var n,d;if((n=a==null?void 0:a.honor_type)!=null&&n.scope)return a.honor_type.scope;if((d=a==null?void 0:a.honorType)!=null&&d.scope)return a.honorType.scope;const s=v.find(u=>u.id===a.honor_type_id);return(s==null?void 0:s.scope)||"Unknown"},se=a=>{var n,d;if((n=a==null?void 0:a.honor_type)!=null&&n.name)return a.honor_type.name;if((d=a==null?void 0:a.honorType)!=null&&d.name)return a.honorType.name;const s=v.find(u=>u.id===a.honor_type_id);return(s==null?void 0:s.name)||"Unknown Honor Type"},Q=a=>{var s;return(s=a==null?void 0:a.section)!=null&&s.name?a.section.name:a!=null&&a.sectionName?a.sectionName:"No Section"},ne=a=>{a.preventDefault(),R("/admin/academic/honors/criteria",{onSuccess:()=>{y({type:"success",text:"Criteria saved successfully!"}),ae(),P(!1),window.location.reload()},onError:()=>y({type:"error",text:"Failed to save criteria."})})},le=a=>{var s,n,d,u,Y,K;M(a),h({min_gpa:((s=a.min_gpa)==null?void 0:s.toString())||"",max_gpa:((n=a.max_gpa)==null?void 0:n.toString())||"",min_grade:((d=a.min_grade)==null?void 0:d.toString())||"",min_grade_all:((u=a.min_grade_all)==null?void 0:u.toString())||"",min_year:((Y=a.min_year)==null?void 0:Y.toString())||"",max_year:((K=a.max_year)==null?void 0:K.toString())||"",require_consistent_honor:a.require_consistent_honor})},re=()=>{M(null),h({min_gpa:"",max_gpa:"",min_grade:"",min_grade_all:"",min_year:"",max_year:"",require_consistent_honor:!1})},ie=a=>{var n;const s={...S,min_gpa:parseFloat(r.min_gpa)||null,max_gpa:parseFloat(r.max_gpa)||null,min_grade:parseFloat(r.min_grade)||null,min_grade_all:parseFloat(r.min_grade_all)||null,min_year:parseInt(r.min_year)||null,max_year:parseInt(r.max_year)||null,require_consistent_honor:r.require_consistent_honor};fetch(`/admin/academic/honors/criteria/${a}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""},body:JSON.stringify(s)}).then(d=>{if(!d.ok)throw new Error(`HTTP ${d.status}`);return d.json()}).then(()=>{y({type:"success",text:"Criteria updated successfully!"}),M(null),window.location.reload()}).catch(()=>y({type:"error",text:"Failed to update criteria."}))},te=a=>{var s;window.confirm("Are you sure you want to delete this criterion?")&&fetch(`/admin/academic/honors/criteria/${a}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}}).then(n=>{if(!n.ok)throw new Error(`HTTP ${n.status}`);return n.json()}).then(()=>{y({type:"success",text:"Criteria deleted successfully!"}),window.location.reload()}).catch(()=>y({type:"error",text:"Failed to delete criteria."}))};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(he,{user:B}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(xe,{user:B}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Back"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Junior High School Honor Criteria"})]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage honor criteria for Junior High School level students."})]})}),T&&e.jsxs(ge,{className:T.type==="success"?"border-green-500":"border-red-500",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx(pe,{children:T.text})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(m,{onClick:()=>P(!0),className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Add New Criteria"]})}),L&&e.jsxs(E,{children:[e.jsx(J,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Add Honor Criteria"]})}),e.jsx(U,{children:e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"honor_type_id",children:"Honor Type"}),v&&v.length>0?e.jsxs(C,{value:g.honor_type_id||"",onValueChange:a=>p("honor_type_id",a),children:[e.jsx(H,{children:e.jsx(F,{placeholder:"Select honor"})}),e.jsx(k,{children:v.filter(a=>a.id&&a.name).map(a=>e.jsx(j,{value:a.id.toString(),children:a.name},a.id))})]}):e.jsx("div",{className:"p-2 text-sm text-gray-500 bg-gray-100 rounded border",children:"Loading honor types..."}),z.honor_type_id&&e.jsx("p",{className:"text-sm text-red-500",children:z.honor_type_id})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"school_year",children:"School Year"}),e.jsxs(C,{value:g.school_year||"",onValueChange:a=>p("school_year",a),children:[e.jsx(H,{children:e.jsx(F,{placeholder:"Select school year"})}),e.jsx(k,{children:(f!=null&&f.length?f:["2024-2025"]).filter(a=>a&&a.trim()!=="").map(a=>e.jsx(j,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_gpa",children:"Min GPA"}),e.jsx(c,{id:"min_gpa",type:"number",step:"0.01",value:g.min_gpa,onChange:a=>p("min_gpa",a.target.value),placeholder:"e.g., 90.0"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_gpa",children:"Max GPA"}),e.jsx(c,{id:"max_gpa",type:"number",step:"0.01",value:g.max_gpa,onChange:a=>p("max_gpa",a.target.value),placeholder:"e.g., 97.0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_grade",children:"Min Grade (any)"}),e.jsx(c,{id:"min_grade",type:"number",value:g.min_grade,onChange:a=>p("min_grade",a.target.value),placeholder:"e.g., 90"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_grade_all",children:"Min Grade (all)"}),e.jsx(c,{id:"min_grade_all",type:"number",value:g.min_grade_all,onChange:a=>p("min_grade_all",a.target.value),placeholder:"e.g., 93"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"min_year",children:"Min Year"}),e.jsx(c,{id:"min_year",type:"number",value:g.min_year,onChange:a=>p("min_year",a.target.value),placeholder:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_year",children:"Max Year"}),e.jsx(c,{id:"max_year",type:"number",value:g.max_year,onChange:a=>p("max_year",a.target.value),placeholder:"e.g., 3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:"require_consistent_honor",checked:!!g.require_consistent_honor,onCheckedChange:a=>p("require_consistent_honor",a)}),e.jsx(t,{htmlFor:"require_consistent_honor",children:"Require consistent honor standing"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{type:"submit",disabled:ee,children:"Save Criteria"}),e.jsx(m,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"})]})]})})]}),e.jsxs(E,{children:[e.jsx(J,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Existing Criteria (",A.length,")"]})}),e.jsx(U,{children:A.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(b,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No honor criteria set for Junior High School"}),e.jsx("p",{className:"text-sm",children:'Use the "Add New Criteria" button to create criteria for this level.'})]}):e.jsx("div",{className:"grid gap-4",children:A.map(a=>e.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:(S==null?void 0:S.id)===a.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:V(a)}),e.jsx(i,{variant:"secondary",children:I(a)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_gpa_${a.id}`,children:"Min GPA"}),e.jsx(c,{id:`edit_min_gpa_${a.id}`,type:"number",step:"0.01",value:r.min_gpa,onChange:s=>h({...r,min_gpa:s.target.value}),placeholder:"e.g., 90.0"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_max_gpa_${a.id}`,children:"Max GPA"}),e.jsx(c,{id:`edit_max_gpa_${a.id}`,type:"number",step:"0.01",value:r.max_gpa,onChange:s=>h({...r,max_gpa:s.target.value}),placeholder:"e.g., 97.0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_grade_${a.id}`,children:"Min Grade (any)"}),e.jsx(c,{id:`edit_min_grade_${a.id}`,type:"number",value:r.min_grade,onChange:s=>h({...r,min_grade:s.target.value}),placeholder:"e.g., 90"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_grade_all_${a.id}`,children:"Min Grade (all)"}),e.jsx(c,{id:`edit_min_grade_all_${a.id}`,type:"number",value:r.min_grade_all,onChange:s=>h({...r,min_grade_all:s.target.value}),placeholder:"e.g., 93"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_min_year_${a.id}`,children:"Min Year"}),e.jsx(c,{id:`edit_min_year_${a.id}`,type:"number",value:r.min_year,onChange:s=>h({...r,min_year:s.target.value}),placeholder:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`edit_max_year_${a.id}`,children:"Max Year"}),e.jsx(c,{id:`edit_max_year_${a.id}`,type:"number",value:r.max_year,onChange:s=>h({...r,max_year:s.target.value}),placeholder:"e.g., 3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:`edit_require_consistent_${a.id}`,checked:r.require_consistent_honor,onCheckedChange:s=>h({...r,require_consistent_honor:s})}),e.jsx(t,{htmlFor:`edit_require_consistent_${a.id}`,children:"Require consistent honor standing"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:re,children:"Cancel"}),e.jsx(m,{size:"sm",onClick:()=>ie(a.id),children:"Update Criteria"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:V(a)}),e.jsx(i,{variant:"secondary",children:I(a)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.min_gpa&&e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Min GPA:"})," ",a.min_gpa]}),a.max_gpa&&e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-green-700",children:"Max GPA:"})," ",a.max_gpa]}),a.min_grade&&e.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-yellow-700",children:"Min Grade:"})," ",a.min_grade]}),a.min_grade_all&&e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-purple-700",children:"Min Grade (All):"})," ",a.min_grade_all]}),a.min_year&&a.max_year&&e.jsxs("div",{className:"bg-indigo-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-indigo-700",children:"Years:"})," ",a.min_year,"-",a.max_year]}),a.require_consistent_honor&&e.jsx("div",{className:"col-span-2",children:e.jsx(i,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"Requires Consistent Honor Standing"})})]}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>le(a),children:"Edit"}),e.jsx(m,{variant:"destructive",size:"sm",onClick:()=>te(a.id),children:"Delete"})]})]})},a.id))})})]}),e.jsxs(E,{children:[e.jsxs(J,{children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Junior High School Honor Results (",_.length,") | Qualified Students (",x.length,")"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["School Year: ",D," â€¢ Click on a student to view detailed grades and honor calculation"]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"grade_level_filter",children:"Grade Level"}),e.jsxs(C,{value:(l==null?void 0:l.grade_level)||"all",onValueChange:a=>{const s=new URL(window.location.href);a&&a!=="all"?s.searchParams.set("grade_level",a):s.searchParams.delete("grade_level"),window.location.href=s.toString()},children:[e.jsx(H,{children:e.jsx(F,{placeholder:"All Grade Levels"})}),e.jsxs(k,{children:[e.jsx(j,{value:"all",children:"All Grade Levels"}),o&&Object.entries(o).map(([a,s])=>e.jsx(j,{value:a,children:s},a))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"section_filter",children:"Section"}),e.jsxs(C,{value:(l==null?void 0:l.section_id)||"all",onValueChange:a=>{const s=new URL(window.location.href);a&&a!=="all"?s.searchParams.set("section_id",a):s.searchParams.delete("section_id"),window.location.href=s.toString()},children:[e.jsx(H,{children:e.jsx(F,{placeholder:"All Sections"})}),e.jsxs(k,{children:[e.jsx(j,{value:"all",children:"All Sections"}),e.jsx(j,{value:"no_section",children:"No Section"}),N&&N.map(a=>e.jsxs(j,{value:a.id.toString(),children:[a.name," (",a.code,")",a.specific_year_level&&` - ${a.specific_year_level.replace("grade_","Grade ")}`]},a.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(m,{variant:"outline",onClick:()=>{const a=new URL(window.location.href);a.searchParams.delete("grade_level"),a.searchParams.delete("section_id"),window.location.href=a.toString()},className:"w-full",children:"Clear Filters"})})]}),((l==null?void 0:l.grade_level)||(l==null?void 0:l.section_id))&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Active Filters:"}),(l==null?void 0:l.grade_level)&&e.jsxs("span",{className:"ml-2",children:["Grade Level: ",e.jsx(i,{variant:"secondary",children:(o==null?void 0:o[l.grade_level])||l.grade_level})]}),(l==null?void 0:l.section_id)&&e.jsxs("span",{className:"ml-2",children:["Section: ",e.jsx(i,{variant:"secondary",children:l.section_id==="no_section"?"No Section":((O=N==null?void 0:N.find(a=>a.id.toString()===l.section_id))==null?void 0:O.name)||l.section_id})]})]})})]})]}),e.jsx(U,{children:_.length===0&&x.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(b,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No honor results or qualified students found"}),e.jsx("p",{className:"text-sm",children:"Students need to meet honor criteria and have approved honors to appear here."})]}):e.jsxs("div",{className:"space-y-6",children:[_.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:["Approved Honor Results (",_.length,")"]}),e.jsx("div",{className:"grid gap-4",children:_.map((a,s)=>e.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",s+1]}),e.jsx("h4",{className:"font-semibold text-lg",children:a.student.name})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",className:"text-xs",children:a.student.student_number}),a.student.specific_year_level&&e.jsx(i,{variant:"secondary",className:"text-xs",children:(o==null?void 0:o[a.student.specific_year_level])||a.student.specific_year_level.replace("grade_","Grade ")}),a.student.section?e.jsx(i,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:Q(a.student)}):e.jsx(i,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500",children:"No Section"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-blue-700",children:"GPA:"}),e.jsx("div",{className:"text-lg font-bold",children:a.gpa})]}),e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-purple-700",children:"Honor Type:"}),e.jsx("div",{className:"font-bold",children:e.jsx(i,{className:"bg-purple-100 text-purple-800 border-purple-200",children:se(a)})})]}),e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-green-700",children:"Status:"}),e.jsx("div",{className:"font-bold",children:a.is_approved?e.jsx(i,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"}):a.is_pending_approval?e.jsx(i,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Pending"}):a.is_rejected?e.jsx(i,{variant:"destructive",className:"bg-red-100 text-red-800",children:"Rejected"}):e.jsx(i,{variant:"outline",children:"Unknown"})})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"School Year:"}),e.jsx("div",{className:"text-sm font-bold",children:a.school_year})]})]})]})})},a.id))})]}),x.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Calculated Qualified Students (",x.length,")"]}),e.jsxs(m,{onClick:()=>{console.log("[JHS Submit] Starting submission process..."),console.log("[JHS Submit] Qualified students count:",x.length),console.log("[JHS Submit] Current school year:",G),console.log("[JHS Submit] Honor results count:",_.length);const a=x.some(s=>_.some(n=>n.student_id===s.student.id&&n.school_year===G));if(console.log("[JHS Submit] Already submitted check:",a),a){console.log("[JHS Submit] Blocking submission - students already submitted"),$("Some students have already been submitted for approval.","warning");return}if(confirm(`Submit ${x.length} qualified student(s) for principal approval?`)){const s={school_year:G};console.log("[JHS Submit] User confirmed. Sending data:",s),me.post(route("admin.academic.honors.junior-high-school.generate-results"),s,{onSuccess:n=>{console.log("[JHS Submit] Success response:",n),$(`Successfully submitted ${x.length} student(s) for approval!`,"success")},onError:n=>{console.error("[JHS Submit] Error response:",n);const d=(n==null?void 0:n.message)||"Failed to submit students for approval. Please try again.";$(d,"error")}})}else console.log("[JHS Submit] User cancelled submission")},className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Submit for Approval"]})]}),e.jsx("div",{className:"grid gap-4",children:x.map((a,s)=>e.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md cursor-pointer transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",s+1]}),e.jsx("h4",{className:"font-semibold text-lg",children:a.student.name})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",className:"text-xs",children:a.student.student_number}),a.student.specific_year_level&&e.jsx(i,{variant:"secondary",className:"text-xs",children:(o==null?void 0:o[a.student.specific_year_level])||a.student.specific_year_level.replace("grade_","Grade ")}),a.student.section?e.jsx(i,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:Q(a.student)}):e.jsx(i,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500",children:"No Section"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Average Grade:"}),e.jsx("div",{className:"text-lg font-bold",children:a.result.average_grade})]}),e.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-yellow-700",children:"Min Grade:"}),e.jsx("div",{className:"text-lg font-bold",children:a.result.min_grade})]}),e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-green-700",children:"Total Quarters:"}),e.jsx("div",{className:"text-lg font-bold",children:a.result.quarter_averages.length})]}),e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium text-purple-700",children:"Honor:"}),e.jsx("div",{className:"font-bold",children:a.result.qualifications.length>0?e.jsx(i,{className:"bg-purple-100 text-purple-800 border-purple-200",children:a.result.qualifications[0].honor_type.name}):e.jsx("span",{className:"text-gray-500",children:"N/A"})})]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx(m,{variant:"outline",size:"sm",children:"View Details"})})]})},a.student.id))})]})]})})]})]})})]})]})}export{Re as default};
