import{j as e,L as G,$ as T}from"./app-B1XDlM4q.js";import{S as A}from"./layout-lm169T8R.js";import{B as m}from"./badge-Cjqp3MWI.js";import{C as b,b as u,c as N,a as y}from"./card-CuF4EDtq.js";import{T as $,a as B,b as f,c as l,d as k,e as d}from"./table-_WLYC4St.js";import{A as E}from"./arrow-left-CYwvfeQn.js";import{B as v}from"./book-open-Cb7ER9SB.js";import{G as w}from"./graduation-cap-w-xgIYjN.js";import{U as F}from"./user-C8YaDKGb.js";/* empty css            */import"./app-shell-DnaZOSbK.js";import"./button-CPtGLZe6.js";import"./Combination-DKFTykYR.js";import"./index-YaftDDMM.js";import"./dropdown-menu-DBQ083-a.js";import"./index-BM0E_laQ.js";import"./app-sidebar-NweocuHX.js";import"./separator-Cka_buee.js";import"./chevron-right-CTezCqIR.js";import"./crown-b5ZX20zd.js";import"./file-text-DDG1dYiH.js";function se({user:h,subject:c,grades:p,gradingPeriods:g,teacher:j}){const t=p.filter(s=>s.grade!==null);t.length>0&&t[t.length-1];const i=g.map(s=>{const r=p.find(a=>{var o;return((o=a.gradingPeriod)==null?void 0:o.id)===s.id&&a.grade!==null});return{period:s,grade:(r==null?void 0:r.grade)||null}}),n=[{bg:"bg-blue-50",text:"text-blue-600"},{bg:"bg-green-50",text:"text-green-600"},{bg:"bg-yellow-50",text:"text-yellow-600"},{bg:"bg-purple-50",text:"text-purple-600"},{bg:"bg-pink-50",text:"text-pink-600"},{bg:"bg-indigo-50",text:"text-indigo-600"}],S=s=>s>=90?{text:"Outstanding",color:"bg-green-100 text-green-800 border-green-200"}:s>=85?{text:"Very Satisfactory",color:"bg-blue-100 text-blue-800 border-blue-200"}:s>=80?{text:"Satisfactory",color:"bg-purple-100 text-purple-800 border-purple-200"}:s>=75?{text:"Fairly Satisfactory",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:{text:"Did Not Meet Expectations",color:"bg-red-100 text-red-800 border-red-200"},C=t.length>0?t.reduce((s,r)=>s+r.grade,0)/t.length:0,x=t.length>0?S(C):{text:"No Grade",color:"bg-gray-100 text-gray-800 border-gray-200"};return e.jsxs(A,{children:[e.jsx(G,{title:`${c.name} • Grades`}),e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(T,{href:route("student.grades.index"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to Grades"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.name}),e.jsxs("p",{className:"text-gray-600",children:["Subject Code: ",c.code]})]})]}),e.jsxs(b,{children:[e.jsx(u,{children:e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Grade Summary"})]})}),e.jsxs(y,{children:[e.jsxs("div",{className:`grid grid-cols-1 ${g.length===2?"md:grid-cols-2":g.length===3?"md:grid-cols-3":"md:grid-cols-2 lg:grid-cols-4"} gap-4 mb-4`,children:[i.map((s,r)=>{const a=n[r%n.length];return e.jsxs("div",{className:`text-center p-4 ${a.bg} rounded-lg`,children:[e.jsx("div",{className:`text-2xl font-bold ${a.text}`,children:s.grade!==null?s.grade:"—"}),e.jsx("div",{className:`text-sm ${a.text}`,children:s.period.name})]},s.period.id)}),i.length===0&&e.jsx("div",{className:"text-center p-4 bg-gray-50 rounded-lg col-span-full",children:e.jsx("div",{className:"text-sm text-gray-600",children:"No grading periods available"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:t.length>0?(t.reduce((s,r)=>s+r.grade,0)/t.length).toFixed(2):"—"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Average"})]}),e.jsx("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:e.jsx(m,{className:x.color,children:x.text})})]})]})]}),e.jsxs(b,{children:[e.jsx(u,{children:e.jsxs(N,{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Detailed Grades"})]})}),e.jsx(y,{children:e.jsxs($,{children:[e.jsx(B,{children:e.jsxs(f,{children:[e.jsx(l,{className:"bg-gray-900 text-white",children:"Student ID"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Subject"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Faculty"}),i.map(s=>e.jsx(l,{className:"bg-gray-900 text-white",children:s.period.code||s.period.name},s.period.id)),e.jsx(l,{className:"bg-gray-900 text-white",children:"AVERAGE"}),e.jsx(l,{className:"bg-gray-900 text-white",children:"Grade Status"})]})}),e.jsx(k,{children:e.jsxs(f,{children:[e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:h.student_number||h.id})]})}),e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:c.name})]})}),e.jsx(d,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:j?j.name:"No Teacher Assigned"})]})}),i.map((s,r)=>{const a=n[r%n.length],o=a.bg.replace("50","100")+" "+a.text.replace("600","800")+" border-"+a.text.replace("text-","").replace("600","200");return e.jsx(d,{className:"px-4 py-3",children:s.grade!==null?e.jsx(m,{className:o,children:s.grade}):e.jsx("span",{className:"text-gray-400",children:"—"})},s.period.id)}),e.jsx(d,{className:"px-4 py-3",children:t.length>0?e.jsx(m,{className:"bg-gray-100 text-gray-800 border-gray-200",children:(t.reduce((s,r)=>s+r.grade,0)/t.length).toFixed(2)}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx(d,{className:"px-4 py-3",children:e.jsx(m,{className:x.color,children:x.text})})]})})]})})]})]})]})}export{se as default};
