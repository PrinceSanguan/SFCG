import{c as j,r as a,j as s}from"./app-Bst543sd.js";import{B as N,c as u}from"./button-BSwYFvHe.js";import{I as y}from"./input-w5eQ__bq.js";import{S as C}from"./search-BhZwIeF6.js";import{C as S}from"./index-C2eFHRxc.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],k=j("ChevronsUpDown",L);function B({value:n,onValueChange:p,placeholder:d="Select option...",options:f,disabled:b=!1,className:g}){const[t,l]=a.useState(!1),[m,c]=a.useState(""),i=a.useRef(null),o=a.useRef(null),x=f.find(e=>e.value===n);a.useEffect(()=>{t&&o.current&&requestAnimationFrame(()=>{var e,r;(e=o.current)==null||e.focus(),(r=o.current)==null||r.select()})},[t]),a.useEffect(()=>{const e=r=>{i.current&&!i.current.contains(r.target)&&(l(!1),c(""))};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t]);const h=f.filter(e=>{const r=m.toLowerCase();return e.label.toLowerCase().includes(r)||e.description&&e.description.toLowerCase().includes(r)}),v=e=>{p(e),l(!1),c("")},w=()=>{l(!t),t||c("")};return s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs(N,{variant:"outline",role:"combobox","aria-expanded":t,className:u("w-full justify-between",!n&&"text-muted-foreground",g),disabled:b,onClick:w,type:"button",children:[x?x.label:d,s.jsx(k,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),t&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-80 overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(C,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(y,{ref:o,placeholder:`Search ${d.toLowerCase()}...`,value:m,onChange:e=>c(e.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent"})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:h.length===0?s.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"No results found."}):h.map(e=>s.jsxs("button",{type:"button",className:u("w-full flex items-center space-x-2 px-3 py-2 text-left hover:bg-gray-100 cursor-pointer",n===e.value&&"bg-blue-50 text-blue-700"),onClick:()=>v(e.value),children:[s.jsx(S,{className:u("h-4 w-4",n===e.value?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:e.label}),e.description&&s.jsx("span",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.value))})]})]})}export{B as S};
