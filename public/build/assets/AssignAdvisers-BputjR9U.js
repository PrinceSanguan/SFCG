import{u as oe,K as me,r as _,j as e,S}from"./app-BYYy_lHA.js";import{S as he,H as xe}from"./sidebar-b9BAx6l1.js";import{C as A,a as b}from"./card-CSXYbap2.js";import{B as x}from"./button-BGAa9fbk.js";import{L as l}from"./label-CQEx4N-Z.js";import{S as t,a as n,b as o,c as m,d as h}from"./select-3w6NE9pl.js";import{T as U}from"./textarea-WbFVprU3.js";import{B as v}from"./badge-CTuodQop.js";import{D as Y,a as ge,b as z,c as K,d as Q}from"./dialog-ChaNy-Qj.js";import{A as W}from"./arrow-left-yqBCl_DS.js";import{U as I}from"./users-D77vpfyc.js";import{P as X}from"./plus-CSVLBnhA.js";import{U as je}from"./user-hQXioT0m.js";import{S as _e}from"./school-Cpf5f_rX.js";import{C as pe}from"./calendar-CwDkmv6S.js";import{S as ve}from"./square-pen-Dfy3miuX.js";import{T as ue}from"./trash-2-BHM4L-6v.js";/* empty css            */import"./dropdown-menu-bIHap1RX.js";import"./Combination-BQktebA8.js";import"./index-DTx0s1-m.js";import"./separator-CWVhPFBU.js";import"./chevron-right-CEyc37R7.js";import"./crown-DIb_aakp.js";import"./building-2-DIJYp-0G.js";import"./user-cog-BSU7xhIq.js";import"./book-open-C0wMLrLP.js";import"./user-check-BEnCv3tQ.js";import"./graduation-cap-zXjgmiCJ.js";import"./notebook-BkAqfUmA.js";import"./chart-no-axes-column-increasing-uZm_0Gai.js";import"./index-IjWQgmBe.js";import"./index-CwB_3wS0.js";import"./check-DvsY93m5.js";function es({user:k,assignments:Z,advisers:w,subjects:ee,academicLevels:R,sections:se,gradingPeriods:T}){var B,J;const{addToast:F}=oe(),{props:u}=me();_.useEffect(()=>{var s,r;(s=u.flash)!=null&&s.success&&F(u.flash.success,"success"),(r=u.flash)!=null&&r.error&&F(u.flash.error,"error")},[u.flash]);const[i,d]=_.useState({adviser_id:"",subject_id:"",academic_level_id:"",grade_level:"",section_id:"",grading_period_ids:[],school_year:"",notes:"",is_active:!0}),[N,G]=_.useState([]),[ie,f]=_.useState(!1),[V,re]=_.useState(null),[D,y]=_.useState(!1),L=R.find(s=>s.key==="elementary"),q=R.find(s=>s.key==="junior_highschool"),g=[L,q].filter(s=>{const r=s!=null&&s.id!==null&&s.id!==void 0&&s.id.toString().trim()!=="";return!r&&s&&console.warn("[REGISTRAR ASSIGN ADVISERS] Invalid level filtered out:",s),r});if(console.log("[REGISTRAR ASSIGN ADVISERS] === ACADEMIC LEVELS DEBUG ==="),console.log("[REGISTRAR ASSIGN ADVISERS] All academic levels:",R),console.log("[REGISTRAR ASSIGN ADVISERS] Elementary level:",L),console.log("[REGISTRAR ASSIGN ADVISERS] JHS level:",q),console.log("[REGISTRAR ASSIGN ADVISERS] Relevant levels count:",g.length),g.forEach(s=>{var r;console.log(`[REGISTRAR ASSIGN ADVISERS] Level: ${s.name}`,{id:s.id,key:s.key,idString:(r=s.id)==null?void 0:r.toString(),isEmpty:!s.id||s.id.toString().trim()===""})}),g.length===0)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>S.get("/registrar/academic"),className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Academic Management"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Assign Class Advisers (Elementary to JHS)"})})]}),e.jsx(A,{children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Academic Levels Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Elementary or Junior High School academic levels are not configured in the system."})]})})})]});const C=Z.filter(s=>g.some(r=>r.id===s.academic_level_id)),M=["2024-2025","2025-2026","2026-2027","2027-2028"],P=s=>s==="elementary"?["Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6"]:s==="junior_highschool"?["Grade 7","Grade 8","Grade 9","Grade 10"]:[],$=()=>{if(!i.academic_level_id||!i.grade_level)return[];const r={"Grade 1":"grade_1","Grade 2":"grade_2","Grade 3":"grade_3","Grade 4":"grade_4","Grade 5":"grade_5","Grade 6":"grade_6","Grade 7":"grade_7","Grade 8":"grade_8","Grade 9":"grade_9","Grade 10":"grade_10"}[i.grade_level];return se.filter(a=>a.academic_level_id.toString()===i.academic_level_id&&a.specific_year_level===r)},H=()=>!i.academic_level_id||!i.grade_level||!i.section_id?[]:g.find(a=>(a==null?void 0:a.id.toString())===i.academic_level_id)?ee.filter(a=>{var c;return a.academic_level_id.toString()===i.academic_level_id&&((c=a.section_id)==null?void 0:c.toString())===i.section_id}):[],ae=s=>{s.preventDefault(),S.post("/registrar/academic/assign-advisers",i,{onSuccess:()=>{f(!1),O()},onError:r=>{console.error(r)}})},de=s=>{s.preventDefault(),V&&S.put(`/registrar/academic/assign-advisers/${V.id}`,i,{onSuccess:()=>{y(!1)},onError:r=>{console.error(r)}})},le=s=>{confirm("Are you sure you want to delete this assignment?")&&S.delete(`/registrar/academic/assign-advisers/${s}`,{onSuccess:()=>{},onError:r=>{console.error(r)}})},ce=s=>{var a,c,j;console.log("[REGISTRAR] === OPENING EDIT MODAL ==="),console.log("[REGISTRAR] Assignment data:",s),console.log("[REGISTRAR] grading_period_ids raw:",s.grading_period_ids),console.log("[REGISTRAR] grading_period_ids type:",typeof s.grading_period_ids),console.log("[REGISTRAR] grading_period_ids is array?",Array.isArray(s.grading_period_ids));let r=[];if(s.grading_period_ids){if(Array.isArray(s.grading_period_ids))r=s.grading_period_ids.map(p=>String(p));else if(typeof s.grading_period_ids=="string")try{const p=JSON.parse(s.grading_period_ids);r=Array.isArray(p)?p.map(ne=>String(ne)):[]}catch{r=[]}}console.log("[REGISTRAR] Processed grading_period_ids:",r),re(s),d({adviser_id:s.adviser_id.toString(),subject_id:((a=s.subject_id)==null?void 0:a.toString())||"",academic_level_id:s.academic_level_id.toString(),grade_level:s.grade_level,section_id:((j=(c=s.subject)==null?void 0:c.section_id)==null?void 0:j.toString())||"",grading_period_ids:r,school_year:s.school_year,notes:s.notes||"",is_active:s.is_active}),console.log("[REGISTRAR] Form data set:",{grading_period_ids:r}),y(!0)},te=s=>s?e.jsx(v,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(v,{className:"bg-red-100 text-red-800",children:"Inactive"}),E=s=>{switch(s){case"elementary":return"ðŸŽ“";case"junior_highschool":return"ðŸ“š";default:return"ðŸ“–"}};_.useEffect(()=>{if(i.academic_level_id){const s=parseInt(i.academic_level_id),r=T.filter(a=>a.academic_level_id===s);G(r)}else G([])},[i.academic_level_id,T]);const O=()=>{d({adviser_id:"",subject_id:"",academic_level_id:"",grade_level:"",section_id:"",grading_period_ids:[],school_year:"",notes:"",is_active:!0}),G([])};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(he,{user:k}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(xe,{user:k}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>S.get("/registrar/academic"),className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Academic Management"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Assign Class Advisers (Elementary to JHS)"})})]}),e.jsx(A,{className:"bg-purple-50 border-purple-200",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(I,{className:"h-5 w-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-purple-900",children:"Elementary & Junior High School Class Adviser Assignments"}),e.jsx("p",{className:"text-purple-700 text-sm mt-1",children:"Manage class adviser assignments for Elementary and Junior High School classes. This page is specifically for assigning advisers to manage specific grade levels and sections."})]})]})})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Class Adviser Assignments"}),e.jsxs(v,{variant:"secondary",children:[C.length," assignments"]})]}),e.jsxs(Y,{open:ie,onOpenChange:f,children:[e.jsx(ge,{asChild:!0,children:e.jsxs(x,{onClick:()=>{f(!0),O()},children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Assign Class Adviser"]})}),e.jsxs(z,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(Q,{children:"Assign Class Adviser"})}),e.jsxs("form",{onSubmit:ae,className:"space-y-4 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"adviser_id",children:"Class Adviser"}),e.jsxs(t,{value:i.adviser_id,onValueChange:s=>d({...i,adviser_id:s}),required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select class adviser"})}),e.jsx(m,{children:w.filter(s=>s.user_role==="adviser").map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"academic_level_id",children:"Academic Level"}),e.jsxs(t,{value:i.academic_level_id,onValueChange:s=>{d({...i,academic_level_id:s,grade_level:"",section_id:"",subject_id:""})},required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsx(m,{children:g.map(s=>{var a;const r=((a=s.id)==null?void 0:a.toString())||`level-${s.key}`;return console.log("[REGISTRAR ASSIGN ADVISERS] Rendering academic level option:",{id:s.id,name:s.name,key:s.key,valueStr:r}),e.jsx(h,{value:r,children:e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:E(s.key)}),e.jsx("span",{children:s.name})]})},s.id)})})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"grade_level",children:"Grade Level"}),e.jsxs(t,{value:i.grade_level,onValueChange:s=>d({...i,grade_level:s,section_id:"",subject_id:""}),required:!0,disabled:!i.academic_level_id,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select grade level"})}),e.jsx(m,{children:i.academic_level_id&&P(((B=g.find(s=>(s==null?void 0:s.id.toString())===i.academic_level_id))==null?void 0:B.key)||"").map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"section_id",children:"Section"}),e.jsxs(t,{value:i.section_id,onValueChange:s=>d({...i,section_id:s,subject_id:""}),required:!0,disabled:!i.academic_level_id||!i.grade_level,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select section"})}),e.jsx(m,{children:$().map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"subject_id",children:"Subject"}),e.jsxs(t,{value:i.subject_id,onValueChange:s=>d({...i,subject_id:s}),required:!0,disabled:!i.academic_level_id||!i.grade_level||!i.section_id,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select subject"})}),e.jsx(m,{children:H().map(s=>{var r;return e.jsxs(h,{value:s.id.toString(),children:[s.name," (",s.code,") - ",((r=s.section)==null?void 0:r.name)||"No Section"]},s.id)})})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"school_year",children:"School Year"}),e.jsxs(t,{value:i.school_year,onValueChange:s=>d({...i,school_year:s}),required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select school year"})}),e.jsx(m,{children:M.map(s=>e.jsx(h,{value:s,children:s},s))})]})]})]}),N.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx(l,{className:"text-base font-semibold mb-3 block",children:"Grading Periods (Optional)"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select specific grading periods for this assignment, or leave empty to apply to all periods."}),e.jsx("div",{className:"space-y-2",children:N.filter(s=>!s.parent_id).sort((s,r)=>s.name.localeCompare(r.name)).map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`period-${s.id}`,checked:i.grading_period_ids.includes(s.id.toString()),onChange:r=>{const a=s.id.toString();r.target.checked?d({...i,grading_period_ids:[...i.grading_period_ids,a]}):d({...i,grading_period_ids:i.grading_period_ids.filter(c=>c!==a)})},className:"w-4 h-4 rounded border-gray-300"}),e.jsxs(l,{htmlFor:`period-${s.id}`,className:"text-sm font-normal cursor-pointer",children:[s.name," (",s.code,")"]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",children:"Notes"}),e.jsx(U,{id:"notes",value:i.notes,onChange:s=>d({...i,notes:s.target.value}),placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:s=>d({...i,is_active:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(l,{htmlFor:"is_active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(x,{type:"submit",children:"Assign Adviser"})]})]})]})]})]}),C.length>0?e.jsx("div",{className:"grid gap-4",children:C.map(s=>{var r,a,c,j;return e.jsx(A,{children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.adviser.name})]}),e.jsx("span",{className:"text-gray-400",children:"â†’"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.grade_level}),e.jsx(v,{variant:"outline",children:s.section}),e.jsx(v,{variant:"outline",children:e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:E(((r=s.academicLevel)==null?void 0:r.key)||"")}),e.jsx("span",{children:((a=s.academicLevel)==null?void 0:a.name)||"Unknown Level"})]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:s.school_year})]}),te(s.is_active),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>ce(s),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>le(s.id),className:"text-red-600 hover:text-red-700",children:e.jsx(ue,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Subject:"}),e.jsx("span",{className:"text-sm text-gray-600",children:((c=s.subject)==null?void 0:c.name)||"No Subject"}),((j=s.subject)==null?void 0:j.code)&&e.jsx(v,{variant:"secondary",className:"text-xs",children:s.subject.code})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.notes})]})},s.id)})}):e.jsx(A,{children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Class Adviser Assignments"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No class advisers have been assigned to Elementary or Junior High School classes yet."}),e.jsxs(x,{onClick:()=>f(!0),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Assign Your First Class Adviser"]})]})})}),e.jsx(Y,{open:D,onOpenChange:y,children:e.jsxs(z,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(Q,{children:"Edit Class Adviser Assignment"})}),e.jsxs("form",{onSubmit:de,className:"space-y-4 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"edit_adviser_id",children:"Class Adviser"}),e.jsxs(t,{value:i.adviser_id,onValueChange:s=>d({...i,adviser_id:s}),required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select class adviser"})}),e.jsx(m,{children:w.filter(s=>s.user_role==="adviser").map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_academic_level_id",children:"Academic Level"}),e.jsxs(t,{value:i.academic_level_id,onValueChange:s=>{d({...i,academic_level_id:s,grade_level:"",section_id:"",subject_id:""})},required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select academic level"})}),e.jsx(m,{children:g.map(s=>{var a;const r=((a=s.id)==null?void 0:a.toString())||`level-${s.key}`;return console.log("[REGISTRAR ASSIGN ADVISERS EDIT] Rendering academic level option:",{id:s.id,name:s.name,key:s.key,valueStr:r}),e.jsx(h,{value:r,children:e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:E(s.key)}),e.jsx("span",{children:s.name})]})},s.id)})})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_grade_level",children:"Grade Level"}),e.jsxs(t,{value:i.grade_level,onValueChange:s=>d({...i,grade_level:s,section_id:"",subject_id:""}),required:!0,disabled:!i.academic_level_id,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select grade level"})}),e.jsx(m,{children:i.academic_level_id&&P(((J=g.find(s=>(s==null?void 0:s.id.toString())===i.academic_level_id))==null?void 0:J.key)||"").map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_section_id",children:"Section"}),e.jsxs(t,{value:i.section_id,onValueChange:s=>d({...i,section_id:s,subject_id:""}),required:!0,disabled:!i.academic_level_id||!i.grade_level,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select section"})}),e.jsx(m,{children:$().map(s=>e.jsx(h,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_subject_id",children:"Subject"}),e.jsxs(t,{value:i.subject_id,onValueChange:s=>d({...i,subject_id:s}),required:!0,disabled:!i.academic_level_id||!i.grade_level||!i.section_id,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select subject"})}),e.jsx(m,{children:H().map(s=>{var r;return e.jsxs(h,{value:s.id.toString(),children:[s.name," (",s.code,") - ",((r=s.section)==null?void 0:r.name)||"No Section"]},s.id)})})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_school_year",children:"School Year"}),e.jsxs(t,{value:i.school_year,onValueChange:s=>d({...i,school_year:s}),required:!0,children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select school year"})}),e.jsx(m,{children:M.map(s=>e.jsx(h,{value:s,children:s},s))})]})]}),N.length>0&&e.jsxs("div",{className:"md:col-span-2 border rounded-lg p-4",children:[e.jsx(l,{className:"text-base font-semibold mb-3 block",children:"Grading Periods (Optional)"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Select specific grading periods for this assignment, or leave empty to apply to all periods."}),e.jsx("div",{className:"space-y-2",children:N.filter(s=>!s.parent_id).sort((s,r)=>s.name.localeCompare(r.name)).map(s=>{const r=s.id.toString(),a=i.grading_period_ids.includes(r);return D&&console.log(`[REGISTRAR] Period ${s.name} (${s.id}):`,{periodId:s.id,periodIdStr:r,formGradingPeriodIds:i.grading_period_ids,isChecked:a}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`edit-period-${s.id}`,checked:a,onChange:c=>{const j=s.id.toString();console.log("[REGISTRAR] Checkbox changed:",{periodId:j,checked:c.target.checked,currentIds:i.grading_period_ids}),c.target.checked?d({...i,grading_period_ids:[...i.grading_period_ids,j]}):d({...i,grading_period_ids:i.grading_period_ids.filter(p=>p!==j)})},className:"w-4 h-4 rounded border-gray-300"}),e.jsxs(l,{htmlFor:`edit-period-${s.id}`,className:"text-sm font-normal cursor-pointer",children:[s.name," (",s.code,")"]})]},s.id)})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"edit_notes",children:"Notes"}),e.jsx(U,{id:"edit_notes",value:i.notes,onChange:s=>d({...i,notes:s.target.value}),placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"edit_is_active",checked:i.is_active,onChange:s=>d({...i,is_active:s.target.checked}),className:"rounded border-gray-300"}),e.jsx(l,{htmlFor:"edit_is_active",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(x,{type:"submit",children:"Update Assignment"})]})]})]})})]})})]})]})}export{es as default};
