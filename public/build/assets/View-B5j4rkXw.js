import{c as f,j as e,$ as r,S as b}from"./app-w6UKKIRw.js";import{H as w}from"./header-kzit2aA-.js";import{S}from"./sidebar-DLrd8e74.js";import{C as n,b as l,c,a as d}from"./card-C4aU-ovT.js";import{B as x}from"./badge-Bf-9xS07.js";import{B as t}from"./button-BdecfLT_.js";import{A as _}from"./arrow-left-DirdOxoK.js";import{S as A}from"./square-pen-DkNDZ3iC.js";import{U as p}from"./users-Bo0h2dkE.js";/* empty css            */import"./dropdown-menu-DT3F9uip.js";import"./Combination-BIIrEM-y.js";import"./index-BZPT5iMQ.js";import"./separator-ChfTvI0w.js";import"./chevron-right-BmudDo6n.js";import"./crown-BuuUsIew.js";import"./building-2-CepzG4r7.js";import"./user-cog-BQsEH12E.js";import"./book-open-C0H8VTux.js";import"./user-check-Dq2k0Ola.js";import"./graduation-cap-DmonlEIL.js";import"./notebook-BwzsZdEY.js";import"./chart-no-axes-column-increasing-DTSDQYn6.js";import"./shield-BJh9AMdb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],g=f("Link2",C);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],D=f("Unlink",L);function se({user:m,parent:a,activityLogs:o}){var h,j,y;const u=(s,i)=>{confirm(`Are you sure you want to unlink ${i} from this parent? This action cannot be undone.`)&&b.delete(route("admin.parents.unlink-student",[a.id,s]))},N=s=>{switch(s){case"father":return"default";case"mother":return"secondary";case"guardian":return"outline";case"other":return"destructive";default:return"outline"}},v=s=>s.charAt(0).toUpperCase()+s.slice(1),k=s=>s.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(S,{user:m}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(w,{user:m}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{href:route("admin.parents.index"),children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Parents"]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Parent Account Details"})]}),e.jsx(r,{href:route("admin.parents.edit",a.id),children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Edit Parent"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{children:"Parent Information"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Full Name"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email Address"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Account Created"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:new Date(a.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Last Login"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:a.last_login_at?new Date(a.last_login_at).toLocaleDateString():"Never logged in"})]})]})})]}),e.jsxs(n,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"Linked Students (",((h=a.students)==null?void 0:h.length)||0,")"]}),e.jsx(r,{href:route("admin.parents.edit",a.id),children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Manage Links"]})})]})}),e.jsx(d,{children:a.students&&a.students.length>0?e.jsx("div",{className:"space-y-4",children:a.students.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.email})]}),e.jsx(x,{variant:N(s.pivot.relationship_type),children:v(s.pivot.relationship_type)}),s.pivot.emergency_contact==="yes"&&e.jsx(x,{variant:"secondary",children:"Emergency Contact"})]}),s.pivot.notes&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",s.pivot.notes]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{href:route("admin.users.show",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:"View"})}),e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>u(s.id,s.name),children:e.jsx(D,{className:"h-3 w-3"})})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(p,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No students linked to this parent account."}),e.jsx(r,{href:route("admin.parents.edit",a.id),children:e.jsxs(t,{variant:"outline",className:"mt-4",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Link Students"]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{children:"Quick Stats"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Students Linked"}),e.jsx("span",{className:"font-medium",children:((j=a.students)==null?void 0:j.length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Emergency Contacts"}),e.jsx("span",{className:"font-medium",children:((y=a.students)==null?void 0:y.filter(s=>s.pivot.emergency_contact==="yes").length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Account Status"}),e.jsx(x,{variant:"secondary",children:"Active"})]})]})})]}),e.jsxs(n,{children:[e.jsx(l,{children:e.jsx(c,{children:"Recent Activity"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[o.data.slice(0,5).map(s=>e.jsxs("div",{className:"flex flex-col gap-1 pb-3 border-b last:border-b-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:k(s.action)}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(s.created_at).toLocaleDateString()})]},s.id)),o.total===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activity"})]})})]})]})]})]})})]})]})}export{se as default};
