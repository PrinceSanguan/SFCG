import{r as s,j as u}from"./app-BUacVS3B.js";import{u as O,d as K,c as S}from"./button-hasTKr4q.js";import{b as F,c as D,A as W,f as T,D as $,l as U,m as V}from"./Combination-D3ne_WHq.js";import{P as Y}from"./dropdown-menu-DUnoF0CX.js";import{P as q}from"./index-CdEKCKk_.js";import{R as X}from"./index-m40YCXEv.js";const R=768;function z(){const[t,o]=s.useState();return s.useEffect(()=>{const e=window.matchMedia(`(max-width: ${R-1}px)`),n=()=>{o(window.innerWidth<R)};return e.addEventListener("change",n),o(window.innerWidth<R),()=>e.removeEventListener("change",n)},[]),!!t}var[C,Ie]=F("Tooltip",[D]),A=D(),L="TooltipProvider",J=700,I="tooltip.open",[Q,M]=C(L),j=t=>{const{__scopeTooltip:o,delayDuration:e=J,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:a}=t,[l,p]=s.useState(!0),c=s.useRef(!1),d=s.useRef(0);return s.useEffect(()=>{const i=d.current;return()=>window.clearTimeout(i)},[]),u.jsx(Q,{scope:o,isOpenDelayed:l,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(d.current),p(!1)},[]),onClose:s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>p(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:s.useCallback(i=>{c.current=i},[]),disableHoverableContent:r,children:a})};j.displayName=L;var k="Tooltip",[Oe,E]=C(k),_="TooltipTrigger",Z=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=E(_,e),a=M(_,e),l=A(e),p=s.useRef(null),c=O(o,p,r.onTriggerChange),d=s.useRef(!1),i=s.useRef(!1),f=s.useCallback(()=>d.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(W,{asChild:!0,...l,children:u.jsx(q.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:c,onPointerMove:T(t.onPointerMove,x=>{x.pointerType!=="touch"&&!i.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),i.current=!0)}),onPointerLeave:T(t.onPointerLeave,()=>{r.onTriggerLeave(),i.current=!1}),onPointerDown:T(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:T(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:T(t.onBlur,r.onClose),onClick:T(t.onClick,r.onClose)})})});Z.displayName=_;var ee="TooltipPortal",[Se,te]=C(ee,{forceMount:void 0}),w="TooltipContent",oe=s.forwardRef((t,o)=>{const e=te(w,t.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...a}=t,l=E(w,t.__scopeTooltip);return u.jsx(Y,{present:n||l.open,children:l.disableHoverableContent?u.jsx(N,{side:r,...a,ref:o}):u.jsx(ne,{side:r,...a,ref:o})})}),ne=s.forwardRef((t,o)=>{const e=E(w,t.__scopeTooltip),n=M(w,t.__scopeTooltip),r=s.useRef(null),a=O(o,r),[l,p]=s.useState(null),{trigger:c,onClose:d}=e,i=r.current,{onPointerInTransitChange:f}=n,x=s.useCallback(()=>{p(null),f(!1)},[f]),m=s.useCallback((v,b)=>{const g=v.currentTarget,h={x:v.clientX,y:v.clientY},y=ie(h,g.getBoundingClientRect()),P=le(h,y),B=ce(b.getBoundingClientRect()),G=de([...P,...B]);p(G),f(!0)},[f]);return s.useEffect(()=>()=>x(),[x]),s.useEffect(()=>{if(c&&i){const v=g=>m(g,i),b=g=>m(g,c);return c.addEventListener("pointerleave",v),i.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",v),i.removeEventListener("pointerleave",b)}}},[c,i,m,x]),s.useEffect(()=>{if(l){const v=b=>{const g=b.target,h={x:b.clientX,y:b.clientY},y=(c==null?void 0:c.contains(g))||(i==null?void 0:i.contains(g)),P=!ue(h,l);y?x():P&&(x(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,i,l,d,x]),u.jsx(N,{...t,ref:a})}),[re,se]=C(k,{isInside:!1}),N=s.forwardRef((t,o)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:l,...p}=t,c=E(w,e),d=A(e),{onClose:i}=c;return s.useEffect(()=>(document.addEventListener(I,i),()=>document.removeEventListener(I,i)),[i]),s.useEffect(()=>{if(c.trigger){const f=x=>{const m=x.target;m!=null&&m.contains(c.trigger)&&i()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,i]),u.jsx($,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:i,children:u.jsxs(U,{"data-state":c.stateAttribute,...d,...p,ref:o,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(K,{children:n}),u.jsx(re,{scope:e,isInside:!0,children:u.jsx(X,{id:c.contentId,role:"tooltip",children:r||n})})]})})});oe.displayName=w;var H="TooltipArrow",ae=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=A(e);return se(H,e).isInside?null:u.jsx(V,{...r,...n,ref:o})});ae.displayName=H;function ie(t,o){const e=Math.abs(o.top-t.y),n=Math.abs(o.bottom-t.y),r=Math.abs(o.right-t.x),a=Math.abs(o.left-t.x);switch(Math.min(e,n,r,a)){case a:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function le(t,o,e=5){const n=[];switch(o){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function ce(t){const{top:o,right:e,bottom:n,left:r}=t;return[{x:r,y:o},{x:e,y:o},{x:e,y:n},{x:r,y:n}]}function ue(t,o){const{x:e,y:n}=t;let r=!1;for(let a=0,l=o.length-1;a<o.length;l=a++){const p=o[a].x,c=o[a].y,d=o[l].x,i=o[l].y;c>n!=i>n&&e<(d-p)*(n-c)/(i-c)+p&&(r=!r)}return r}function de(t){const o=t.slice();return o.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),pe(o)}function pe(t){if(t.length<=1)return t.slice();const o=[];for(let n=0;n<t.length;n++){const r=t[n];for(;o.length>=2;){const a=o[o.length-1],l=o[o.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))o.pop();else break}o.push(r)}o.pop();const e=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var fe=j;function xe({delayDuration:t=0,...o}){return u.jsx(fe,{"data-slot":"tooltip-provider",delayDuration:t,...o})}const he="sidebar_state",ve=60*60*24*7,me="16rem",ye="3rem",be="b",ge=s.createContext(null);function Te({defaultOpen:t=!0,open:o,onOpenChange:e,className:n,style:r,children:a,...l}){const p=z(),[c,d]=s.useState(!1),[i,f]=s.useState(t),x=o??i,m=s.useCallback(h=>{const y=typeof h=="function"?h(x):h;e?e(y):f(y),document.cookie=`${he}=${y}; path=/; max-age=${ve}`},[e,x]),v=s.useCallback(()=>p?d(h=>!h):m(h=>!h),[p,m,d]);s.useEffect(()=>{const h=y=>{y.key===be&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),v())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[v]);const b=x?"expanded":"collapsed",g=s.useMemo(()=>({state:b,open:x,setOpen:m,isMobile:p,openMobile:c,setOpenMobile:d,toggleSidebar:v}),[b,x,m,p,c,d,v]);return u.jsx(ge.Provider,{value:g,children:u.jsx(xe,{delayDuration:0,children:u.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":me,"--sidebar-width-icon":ye,...r},className:S("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...l,children:a})})})}function we({className:t,...o}){return u.jsx("main",{"data-slot":"sidebar-inset",className:S("bg-background relative flex min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",t),...o})}function De({variant:t="header",children:o,...e}){return t==="sidebar"?u.jsx(we,{...e,children:o}):u.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...e,children:o})}function Le({children:t,variant:o="header"}){const[e,n]=s.useState(()=>typeof window<"u"?localStorage.getItem("sidebar")!=="false":!0),r=a=>{n(a),typeof window<"u"&&localStorage.setItem("sidebar",String(a))};return o==="header"?u.jsx("div",{className:"flex min-h-screen w-full flex-col",children:t}):u.jsx(Te,{defaultOpen:e,open:e,onOpenChange:r,children:t})}export{Le as A,De as a};
