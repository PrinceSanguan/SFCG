import{r as p,K as Qe,m as q,j as e,$ as Ze}from"./app-B9ix2fbL.js";import{T as b}from"./index-CtBsO7PD.js";import{B as P}from"./button-allnsB2r.js";import{C as D,a as F,b as M,c as z}from"./card-DbmPiGwN.js";import{L as x}from"./label-DvO_fItG.js";import{S as g,a as j,b as u,c as _,d as a}from"./select-B0AGQ-2I.js";import{T as el,a as ll,b as J,c as W}from"./tabs-rEsHscgL.js";import{C as O}from"./checkbox-D8eKDnYu.js";import{S as sl,H as rl}from"./sidebar-CjSYMm2f.js";import{U as oe}from"./users-BCcFYHHK.js";import{G as al}from"./graduation-cap-Bdq6dGzq.js";import{A as he}from"./award-DT2neyvx.js";import{F as w}from"./file-text-DpFgXqEM.js";import{A as me,F as $,a as Se}from"./file-x-pBdJ9onR.js";import{D as xe}from"./download-BRGgwiMb.js";/* empty css            */import"./index-C3g94cMv.js";import"./Combination-xYBHKVMi.js";import"./index-pEVb0lKv.js";import"./index-CBJIcWHq.js";import"./check-BS3W2Pzf.js";import"./dropdown-menu-C7cwdDN8.js";import"./separator-CjbxDUn7.js";import"./chevron-right-BDqttHfz.js";import"./crown-CElC_csn.js";import"./building-2-DkPIeuZ7.js";import"./user-cog-8_h9YFAW.js";import"./book-open-B-B3t7-L.js";import"./user-check-fMX9V67z.js";import"./notebook-DoC9CgQw.js";import"./chart-no-axes-column-increasing-CLHNASJ5.js";function Ol({user:ge,academicLevels:R,schoolYears:G,currentSchoolYear:U,gradingPeriods:ye,honorTypes:Ae,sections:I,tracks:L,strands:C,departments:H,courses:T,stats:B}){var fe;const[Ee,Ie]=p.useState("grade-reports"),[K,Y]=p.useState([]),[il,Ge]=p.useState([]),[Ce,X]=p.useState([]),[dl,Te]=p.useState([]),[Ne,Q]=p.useState([]),[Z,ee]=p.useState([]),[cl,be]=p.useState([]),[ke,le]=p.useState([]),[nl,Ve]=p.useState([]),[De,se]=p.useState([]),[re,ae]=p.useState([]),[Fe,we]=p.useState([]),[Le,ie]=p.useState([]),[He,Ye]=p.useState([]),[Pe,de]=p.useState([]),[ce,je]=p.useState([]),[Oe,ue]=p.useState([]),[Ue,ne]=p.useState([]),[Be,_e]=p.useState([]),[qe,te]=p.useState([]),{props:Me}=Qe(),N=Me.csrf_token||((fe=document.querySelector('meta[name="csrf-token"]'))==null?void 0:fe.content)||"",[k,V]=p.useState(!1),{data:m,setData:S,processing:ve}=q({academic_level_id:"all",grading_period_id:"all",school_year:U||G[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf",include_statistics:"1"}),{data:h,setData:y,processing:pe}=q({academic_level_id:"all",school_year:U||G[0]||"",honor_type_id:"all",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",format:"pdf"}),{data:t,setData:f,processing:Re}=q({academic_level_id:"",school_year:G[0]||"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",include_grades:"1",include_honors:"1",include_certificates:"1",format:"excel"}),{data:n,setData:A,processing:ze}=q({academic_level_id:"",year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all",school_year:U||G[0]||"",include_grades:!1,format:"pdf"});p.useEffect(()=>{console.log("=== [REGISTRAR] CLASS SECTION REPORT - PAGE LOADED ==="),console.log("[REGISTRAR] Available Academic Levels:",R),console.log("[REGISTRAR] Available School Years:",G),console.log("[REGISTRAR] Current School Year:",U),console.log("[REGISTRAR] Initial Section Data:",n),console.log("[REGISTRAR] Available Sections:",I),console.log("[REGISTRAR] Available Tracks:",L),console.log("[REGISTRAR] Available Strands:",C),console.log("[REGISTRAR] Available Departments:",H),console.log("[REGISTRAR] Available Courses:",T)},[]),p.useEffect(()=>{if(console.log("=== [REGISTRAR] CLASS SECTION FILTER TRIGGERED ==="),console.log("[REGISTRAR] Academic Level ID:",n.academic_level_id),console.log("[REGISTRAR] Year Level:",n.year_level),console.log("[REGISTRAR] Track ID:",n.track_id),console.log("[REGISTRAR] Strand ID:",n.strand_id),console.log("[REGISTRAR] Department ID:",n.department_id),console.log("[REGISTRAR] Course ID:",n.course_id),!n.academic_level_id){Y([]),Ge([]),X([]),Te([]),Q([]);return}const s=parseInt(n.academic_level_id),i=R.find(d=>d.id===s);if(console.log("[REGISTRAR] Selected Level:",i),!i){Y([]);return}let r=I.filter(d=>d.academic_level_id===s);console.log("[REGISTRAR] Sections for level:",r),n.year_level&&(r=r.filter(d=>d.specific_year_level===n.year_level),console.log("[REGISTRAR] After year level filter:",r)),i.key==="senior_highschool"&&(n.track_id&&(r=r.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===n.track_id}),console.log("[REGISTRAR] After track filter:",r)),n.strand_id&&(r=r.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===n.strand_id}),console.log("[REGISTRAR] After strand filter:",r))),i.key==="college"&&(n.department_id&&(r=r.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===n.department_id}),console.log("[REGISTRAR] After department filter:",r)),n.course_id&&(r=r.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===n.course_id}),console.log("[REGISTRAR] After course filter:",r))),console.log("[REGISTRAR] Final filtered sections:",r),Y(r)},[n.academic_level_id,n.year_level,n.track_id,n.strand_id,n.department_id,n.course_id,I,R]),p.useEffect(()=>{if(n.track_id){const s=parseInt(n.track_id),i=C.filter(r=>r.track_id===s);console.log("[REGISTRAR] Filtered Strands for Track:",i),X(i)}else X([])},[n.track_id,C]),p.useEffect(()=>{if(n.department_id){const s=parseInt(n.department_id),i=T.filter(r=>r.department_id===s);console.log("[REGISTRAR] Filtered Courses for Department:",i),Q(i)}else Q([])},[n.department_id,T]),p.useEffect(()=>{if(console.log("=== [REGISTRAR] HONOR STATISTICS FILTER TRIGGERED ==="),console.log("[REGISTRAR HONOR] Academic Level ID:",h.academic_level_id),!h.academic_level_id||h.academic_level_id==="all"){ee([]),be([]),le([]),Ve([]),se([]);return}const s=parseInt(h.academic_level_id),i=R.find(d=>d.id===s);if(console.log("[REGISTRAR HONOR] Selected Level:",i),!i){ee([]);return}let r=I.filter(d=>d.academic_level_id===s);h.year_level&&(r=r.filter(d=>d.specific_year_level===h.year_level)),i.key==="senior_highschool"&&(h.track_id&&(r=r.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===h.track_id})),h.strand_id&&(r=r.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===h.strand_id}))),i.key==="college"&&(h.department_id&&(r=r.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===h.department_id})),h.course_id&&(r=r.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===h.course_id}))),ee(r)},[h.academic_level_id,h.year_level,h.track_id,h.strand_id,h.department_id,h.course_id,I,R]),p.useEffect(()=>{if(h.track_id){const s=parseInt(h.track_id),i=C.filter(r=>r.track_id===s);le(i)}else le([])},[h.track_id,C]),p.useEffect(()=>{if(h.department_id){const s=parseInt(h.department_id),i=T.filter(r=>r.department_id===s);se(i)}else se([])},[h.department_id,T]),p.useEffect(()=>{if(console.log("=== [REGISTRAR] GRADE REPORTS FILTER TRIGGERED ==="),console.log("[REGISTRAR GRADE] Academic Level ID:",m.academic_level_id),!m.academic_level_id||m.academic_level_id==="all"){ae([]),we([]),ie([]),Ye([]),de([]);return}const s=parseInt(m.academic_level_id),i=R.find(d=>d.id===s);if(console.log("[REGISTRAR GRADE] Selected Level:",i),!i){ae([]);return}let r=I.filter(d=>d.academic_level_id===s);m.year_level&&(r=r.filter(d=>d.specific_year_level===m.year_level)),i.key==="senior_highschool"&&(m.track_id&&(r=r.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===m.track_id})),m.strand_id&&(r=r.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===m.strand_id}))),i.key==="college"&&(m.department_id&&(r=r.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===m.department_id})),m.course_id&&(r=r.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===m.course_id}))),ae(r)},[m.academic_level_id,m.year_level,m.track_id,m.strand_id,m.department_id,m.course_id,I,R]),p.useEffect(()=>{if(m.track_id){const s=parseInt(m.track_id),i=C.filter(r=>r.track_id===s);ie(i)}else ie([])},[m.track_id,C]),p.useEffect(()=>{if(m.department_id){const s=parseInt(m.department_id),i=T.filter(r=>r.department_id===s);de(i)}else de([])},[m.department_id,T]),p.useEffect(()=>{if(console.log("=== [REGISTRAR] ARCHIVE FILTER TRIGGERED ==="),console.log("[REGISTRAR ARCHIVE] Academic Level ID:",t.academic_level_id),!t.academic_level_id){je([]),ue([]),ne([]),_e([]),te([]);return}const s=parseInt(t.academic_level_id),i=R.find(d=>d.id===s);if(!i){console.log("[REGISTRAR ARCHIVE] Selected level not found");return}console.log("[REGISTRAR ARCHIVE] Selected Level:",i.name,i.key);let r=I.filter(d=>d.academic_level_id===s);console.log("[REGISTRAR ARCHIVE] Sections for level:",r.length),i.key==="senior_highschool"&&(console.log("[REGISTRAR ARCHIVE] Processing SHS filters"),ue(L),t.track_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Track ID:",t.track_id),r=r.filter(d=>{var o;return((o=d.track_id)==null?void 0:o.toString())===t.track_id})),t.strand_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Strand ID:",t.strand_id),r=r.filter(d=>{var o;return((o=d.strand_id)==null?void 0:o.toString())===t.strand_id})),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),r=r.filter(d=>d.specific_year_level===t.year_level))),i.key==="college"&&(console.log("[REGISTRAR ARCHIVE] Processing College filters"),_e(H),t.department_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Department ID:",t.department_id),r=r.filter(d=>{var o;return((o=d.department_id)==null?void 0:o.toString())===t.department_id})),t.course_id&&(console.log("[REGISTRAR ARCHIVE] Filtering by Course ID:",t.course_id),r=r.filter(d=>{var o;return((o=d.course_id)==null?void 0:o.toString())===t.course_id})),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),r=r.filter(d=>d.specific_year_level===t.year_level))),(i.key==="elementary"||i.key==="junior_highschool")&&(console.log("[REGISTRAR ARCHIVE] Processing Elementary/JHS filters"),t.year_level&&(console.log("[REGISTRAR ARCHIVE] Filtering by Year Level:",t.year_level),r=r.filter(d=>d.specific_year_level===t.year_level))),console.log("[REGISTRAR ARCHIVE] Final filtered sections:",r.length),je(r)},[t.academic_level_id,t.year_level,t.track_id,t.strand_id,t.department_id,t.course_id,I,R,L,H]),p.useEffect(()=>{if(t.track_id){const s=parseInt(t.track_id),i=C.filter(r=>r.track_id===s);ne(i)}else ne([])},[t.track_id,C]),p.useEffect(()=>{if(t.department_id){const s=parseInt(t.department_id),i=T.filter(r=>r.department_id===s);te(i)}else te([])},[t.department_id,T]);const Je=s=>{if(console.log("[REGISTRAR] === GRADE REPORT SUBMISSION STARTED ==="),s.preventDefault(),!N){console.error("[REGISTRAR] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(!m.school_year){console.error("[REGISTRAR] School year not selected"),alert("Please select a school year.");return}console.log("[REGISTRAR] Grade report data:",m),console.log("[REGISTRAR] Route URL:",b("registrar.reports.grade-report")),V(!0);let i=document.getElementById("download-iframe");i||(i=document.createElement("iframe"),i.id="download-iframe",i.style.display="none",document.body.appendChild(i));const r=document.createElement("form");r.method="POST",r.action=b("registrar.reports.grade-report"),r.target="download-iframe";const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=N,r.appendChild(d),Object.entries(m).forEach(([o,c])=>{const l=document.createElement("input");l.type="hidden",l.name=o,l.value=(c==null?void 0:c.toString())||"",r.appendChild(l)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r),setTimeout(()=>{V(!1),alert("Report generation initiated. Your download should begin shortly. If it doesn't, please check your filters and try again.")},2e3)},We=s=>{if(console.log("[REGISTRAR] === HONOR STATISTICS SUBMISSION STARTED ==="),s.preventDefault(),!N){console.error("[REGISTRAR] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[REGISTRAR] Honor statistics data:",h),console.log("[REGISTRAR] Route URL:",b("registrar.reports.honor-statistics")),!h.school_year){console.error("[REGISTRAR] School year is required"),alert("Please select a school year before generating the report.");return}V(!0);let i=document.getElementById("download-iframe");i?console.log("[REGISTRAR] Using existing download iframe"):(i=document.createElement("iframe"),i.id="download-iframe",i.style.display="none",document.body.appendChild(i),console.log("[REGISTRAR] Created download iframe"));const r=document.createElement("form");r.method="POST",r.action=b("registrar.reports.honor-statistics"),r.target="download-iframe",console.log("[REGISTRAR] Form action URL:",r.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=N,r.appendChild(d);const o={};Object.entries(h).forEach(([c,l])=>{const v=document.createElement("input");v.type="hidden",v.name=c,typeof l=="boolean"?v.value=l?"1":"0":v.value=(l==null?void 0:l.toString())||"",o[c]=v.value,r.appendChild(v)}),console.log("[REGISTRAR] Form data being submitted:",o),document.body.appendChild(r),console.log("[REGISTRAR] Form appended to body, submitting..."),r.submit(),console.log("[REGISTRAR] Form submitted"),document.body.removeChild(r),console.log("[REGISTRAR] Form removed from body"),i.onload=()=>{var c;console.log("[REGISTRAR] Iframe loaded");try{const l=i.contentDocument||((c=i.contentWindow)==null?void 0:c.document);if(l){const v=l.body,E=(v==null?void 0:v.textContent)||"";console.log("[REGISTRAR] Iframe body content length:",E.length),console.log("[REGISTRAR] Iframe body preview:",E.substring(0,500)),(E.includes("error")||E.includes("Error")||E.includes("Exception"))&&(console.error("[REGISTRAR] Error detected in response:",E.substring(0,1e3)),alert("An error occurred while generating the report. Please check the console and Laravel logs for details."))}}catch(l){console.log("[REGISTRAR] Could not access iframe content (this is normal for successful downloads):",l)}},setTimeout(()=>{console.log("[REGISTRAR] Resetting loading state"),V(!1)},3e3)},$e=s=>{if(console.log("[REGISTRAR] === ARCHIVE RECORDS SUBMISSION STARTED ==="),s.preventDefault(),!N){console.error("[REGISTRAR] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[REGISTRAR] Archive data:",t),console.log("[REGISTRAR] Route URL:",b("registrar.reports.archive-records")),!t.academic_level_id){console.error("[REGISTRAR] Academic level is required"),alert("Please select an academic level before creating the archive.");return}if(!t.school_year){console.error("[REGISTRAR] School year is required"),alert("Please select a school year before creating the archive.");return}if(!t.include_grades&&!t.include_honors&&!t.include_certificates){console.error("[REGISTRAR] No data types selected"),alert("Please select at least one data type to include in the archive (grades, honors, or certificates).");return}V(!0);let i=document.getElementById("download-iframe");i?console.log("[REGISTRAR] Using existing download iframe"):(i=document.createElement("iframe"),i.id="download-iframe",i.style.display="none",document.body.appendChild(i),console.log("[REGISTRAR] Created download iframe"));const r=document.createElement("form");r.method="POST",r.action=b("registrar.reports.archive-records"),r.target="download-iframe",console.log("[REGISTRAR] Form action URL:",r.action);const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=N,r.appendChild(d);const o={};Object.entries(t).forEach(([c,l])=>{const v=document.createElement("input");v.type="hidden",v.name=c,typeof l=="boolean"?v.value=l?"1":"0":v.value=(l==null?void 0:l.toString())||"",o[c]=v.value,r.appendChild(v)}),console.log("[REGISTRAR] Form data being submitted:",o),document.body.appendChild(r),console.log("[REGISTRAR] Form appended to body, submitting..."),r.submit(),console.log("[REGISTRAR] Form submitted"),document.body.removeChild(r),console.log("[REGISTRAR] Form removed from body"),i.onload=()=>{var c;console.log("[REGISTRAR] Iframe loaded");try{const l=i.contentDocument||((c=i.contentWindow)==null?void 0:c.document);if(l){const v=l.body,E=(v==null?void 0:v.textContent)||"";console.log("[REGISTRAR] Iframe body content length:",E.length),console.log("[REGISTRAR] Iframe body preview:",E.substring(0,500)),(E.includes("error")||E.includes("Error")||E.includes("Exception"))&&(console.error("[REGISTRAR] Error detected in response:",E.substring(0,1e3)),alert("An error occurred while creating the archive. Please check the console and Laravel logs for details."))}}catch(l){console.log("[REGISTRAR] Could not access iframe content (this is normal for successful downloads):",l)}},setTimeout(()=>{console.log("[REGISTRAR] Resetting loading state"),V(!1)},3e3)},Ke=s=>{if(console.log("=== [REGISTRAR] handleClassSectionReport CALLED ==="),s.preventDefault(),s.stopPropagation(),console.log("=== [REGISTRAR] CLASS SECTION REPORT FORM SUBMISSION ==="),console.log("[REGISTRAR] Form Data:",n),!N){console.error("[REGISTRAR] CSRF token not found"),alert("Session expired. Please refresh the page and try again.");return}if(console.log("[REGISTRAR] CSRF Token:",N),!n.academic_level_id){console.error("[REGISTRAR] Validation failed: academic_level_id is required"),alert("Please select an academic level.");return}if(!n.school_year){console.error("[REGISTRAR] Validation failed: school_year is required"),alert("Please select a school year.");return}console.log("[REGISTRAR] Validation passed!"),console.log("[REGISTRAR] Route URL:",b("registrar.reports.class-section-report")),V(!0);let i=document.getElementById("download-iframe");i||(i=document.createElement("iframe"),i.id="download-iframe",i.style.display="none",document.body.appendChild(i));const r=document.createElement("form");r.method="POST",r.action=b("registrar.reports.class-section-report"),r.target="download-iframe";const d=document.createElement("input");d.type="hidden",d.name="_token",d.value=N,r.appendChild(d),Object.entries(n).forEach(([o,c])=>{const l=document.createElement("input");l.type="hidden",l.name=o,o==="include_grades"?l.value=c?"1":"0":l.value=(c==null?void 0:c.toString())||"",r.appendChild(l)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r),setTimeout(()=>{V(!1),alert("Report generation initiated. Your download should begin shortly. If it doesn't, please check your filters and try again.")},2e3)};p.useEffect(()=>{if(n.academic_level_id){const s=parseInt(n.academic_level_id),i=I.filter(r=>r.academic_level_id===s);Y(i)}else Y([])},[n.academic_level_id,I]);const Xe=(()=>{const s=ye.filter(r=>r.academic_level_id.toString()===m.academic_level_id||m.academic_level_id==="all");return Array.from(new Map(s.map(r=>[r.id,r])).values()).sort((r,d)=>r.sort_order!==void 0&&d.sort_order!==void 0&&r.sort_order!==d.sort_order?r.sort_order-d.sort_order:r.name.localeCompare(d.name))})();return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(sl,{user:ge}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(rl,{user:ge}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Ze,{href:b("registrar.dashboard"),children:e.jsx(P,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(D,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(oe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.total_students})]})]})})}),e.jsx(D,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(al,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.active_periods})]})]})})}),e.jsx(D,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(he,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Honors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.total_honors})]})]})})}),e.jsx(D,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(w,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.total_certificates})]})]})})})]}),e.jsxs(el,{value:Ee,onValueChange:Ie,className:"w-full",children:[e.jsxs(ll,{className:"grid w-full grid-cols-4",children:[e.jsxs(J,{value:"grade-reports",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Grade Reports"]}),e.jsxs(J,{value:"honor-statistics",className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Honor Statistics"]}),e.jsxs(J,{value:"archiving",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"Archiving"]}),e.jsxs(J,{value:"class-section-reports",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Class Section Reports"]})]}),e.jsx(W,{value:"grade-reports",className:"mt-6",children:e.jsxs(D,{children:[e.jsx(M,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Generate Grade Reports"]})}),e.jsx(F,{children:e.jsxs("form",{onSubmit:Je,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"academic_level",children:"Academic Level"}),e.jsxs(g,{value:m.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR GRADE] Academic Level Changed:",s),S({...m,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select academic level"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Levels"}),R.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"grading_period",children:"Grading Period"}),e.jsxs(g,{value:m.grading_period_id,onValueChange:s=>S("grading_period_id",s),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select grading period"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Periods"}),Xe.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"school_year",children:"School Year"}),e.jsxs(g,{value:m.school_year,onValueChange:s=>S("school_year",s),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select school year"})}),e.jsx(_,{children:G.map(s=>e.jsx(a,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"format",children:"Format"}),e.jsxs(g,{value:m.format,onValueChange:s=>S("format",s),children:[e.jsx(j,{children:e.jsx(u,{})}),e.jsxs(_,{children:[e.jsx(a,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(a,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),(()=>{if(!m.academic_level_id||m.academic_level_id==="all")return null;const s=parseInt(m.academic_level_id),i=R.find(l=>l.id===s);if(!i)return null;const r=i.key==="elementary",d=i.key==="junior_highschool",o=i.key==="senior_highschool",c=i.key==="college";if(console.log("[REGISTRAR GRADE] Rendering cascading filters for:",i.key),r||d){const l=r?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:m.year_level,onValueChange:v=>{console.log("[REGISTRAR GRADE] Year Level Changed:",v),S({...m,year_level:v,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),l.map(v=>e.jsx(a,{value:v.value,children:v.label},v.value))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:m.section_id,onValueChange:v=>{console.log("[REGISTRAR GRADE] Section Changed:",v),S({...m,section_id:v})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),re.map(v=>e.jsx(a,{value:v.id.toString(),children:v.name},v.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:m.year_level,onValueChange:l=>{console.log("[REGISTRAR GRADE] Year Level Changed:",l),S({...m,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),e.jsx(a,{value:"grade_11",children:"Grade 11"}),e.jsx(a,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Track"}),e.jsxs(g,{value:m.track_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Track Changed:",l),S({...m,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Tracks"}),Fe.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Strand"}),e.jsxs(g,{value:m.strand_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Strand Changed:",l),S({...m,strand_id:l,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All strands"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Strands"}),Le.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:m.section_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Section Changed:",l),S({...m,section_id:l})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),re.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):c?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:m.year_level,onValueChange:l=>{console.log("[REGISTRAR GRADE] Year Level Changed:",l),S({...m,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),e.jsx(a,{value:"1st_year",children:"1st Year"}),e.jsx(a,{value:"2nd_year",children:"2nd Year"}),e.jsx(a,{value:"3rd_year",children:"3rd Year"}),e.jsx(a,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Department"}),e.jsxs(g,{value:m.department_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Department Changed:",l),S({...m,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Departments"}),He.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Course"}),e.jsxs(g,{value:m.course_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Course Changed:",l),S({...m,course_id:l,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All courses"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Courses"}),Pe.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:m.section_id,onValueChange:l=>{console.log("[REGISTRAR GRADE] Section Changed:",l),S({...m,section_id:l})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),re.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"include_statistics",checked:m.include_statistics==="1",onCheckedChange:s=>S("include_statistics",s===!0?"1":"0")}),e.jsx(x,{htmlFor:"include_statistics",children:"Include statistical analysis"})]}),e.jsx(P,{type:"submit",disabled:ve||k,className:"w-full md:w-auto",children:ve||k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Generate Grade Report"]})})]})})]})}),e.jsx(W,{value:"honor-statistics",className:"mt-6",children:e.jsxs(D,{children:[e.jsx(M,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Generate Honor Statistics"]})}),e.jsx(F,{children:e.jsxs("form",{onSubmit:We,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"honor_academic_level",children:"Academic Level"}),e.jsxs(g,{value:h.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR HONOR] Academic Level Changed:",s),y({...h,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select academic level"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Levels"}),R.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"honor_school_year",children:"School Year"}),e.jsxs(g,{value:h.school_year,onValueChange:s=>y("school_year",s),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select school year"})}),e.jsx(_,{children:G.map(s=>e.jsx(a,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"honor_type",children:"Honor Type"}),e.jsxs(g,{value:h.honor_type_id,onValueChange:s=>y("honor_type_id",s),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select honor type"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Types"}),Ae.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"honor_format",children:"Format"}),e.jsxs(g,{value:h.format,onValueChange:s=>y("format",s),children:[e.jsx(j,{children:e.jsx(u,{})}),e.jsxs(_,{children:[e.jsx(a,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"PDF"]})}),e.jsx(a,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"Excel"]})})]})]})]})]}),(()=>{if(!h.academic_level_id||h.academic_level_id==="all")return null;const s=R.find(c=>c.id.toString()===h.academic_level_id);if(!s)return null;const i=s.key==="elementary",r=s.key==="junior_highschool",d=s.key==="senior_highschool",o=s.key==="college";if(i||r){const c=i?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:h.year_level,onValueChange:l=>y({...h,year_level:l,section_id:"all"}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsx(_,{children:c.map(l=>e.jsx(a,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:h.section_id,onValueChange:l=>y({...h,section_id:l}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),Z.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]})]})}return d?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:h.year_level,onValueChange:c=>y({...h,year_level:c,track_id:"",strand_id:"",section_id:"all"}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"grade_11",children:"Grade 11"}),e.jsx(a,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Track"}),e.jsxs(g,{value:h.track_id,onValueChange:c=>y({...h,track_id:c,strand_id:"",section_id:"all"}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsx(_,{children:L.map(c=>e.jsxs(a,{value:c.id.toString(),children:[c.name," (",c.code,")"]},c.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Strand"}),e.jsxs(g,{value:h.strand_id,onValueChange:c=>y({...h,strand_id:c,section_id:"all"}),disabled:!h.track_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:h.track_id?"All strands":"Select track first"})}),e.jsx(_,{children:ke.map(c=>e.jsxs(a,{value:c.id.toString(),children:[c.name," (",c.code,")"]},c.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:h.section_id,onValueChange:c=>y({...h,section_id:c}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),Z.map(c=>e.jsx(a,{value:c.id.toString(),children:c.name},c.id))]})]})]})]})]}):o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:h.year_level,onValueChange:c=>y({...h,year_level:c,department_id:"",course_id:"",section_id:"all"}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"1st_year",children:"1st Year"}),e.jsx(a,{value:"2nd_year",children:"2nd Year"}),e.jsx(a,{value:"3rd_year",children:"3rd Year"}),e.jsx(a,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Department"}),e.jsxs(g,{value:h.department_id,onValueChange:c=>y({...h,department_id:c,course_id:"",section_id:"all"}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsx(_,{children:H.map(c=>e.jsxs(a,{value:c.id.toString(),children:[c.name," (",c.code,")"]},c.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Course"}),e.jsxs(g,{value:h.course_id,onValueChange:c=>y({...h,course_id:c,section_id:"all"}),disabled:!h.department_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:h.department_id?"All courses":"Select department first"})}),e.jsx(_,{children:De.map(c=>e.jsxs(a,{value:c.id.toString(),children:[c.name," (",c.code,")"]},c.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:h.section_id,onValueChange:c=>y({...h,section_id:c}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),Z.map(c=>e.jsx(a,{value:c.id.toString(),children:c.name},c.id))]})]})]})]})]}):null})(),e.jsx(P,{type:"submit",disabled:pe||k,className:"w-full md:w-auto",children:pe||k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Statistics..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(W,{value:"archiving",className:"mt-6",children:e.jsxs(D,{children:[e.jsx(M,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Archive Academic Records"]})}),e.jsxs(F,{children:[e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Archiving will create a backup of academic records for the specified period. This process helps maintain system performance while preserving historical data."]})}),e.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"archive_academic_level",children:"Academic Level"}),e.jsxs(g,{value:t.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR ARCHIVE] Academic Level Changed:",s),f({...t,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select academic level"})}),e.jsx(_,{children:R.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"archive_school_year",children:"School Year"}),e.jsxs(g,{value:t.school_year,onValueChange:s=>f("school_year",s),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select school year"})}),e.jsx(_,{children:G.map(s=>e.jsx(a,{value:s,children:s},s))})]})]})]}),(()=>{if(!t.academic_level_id)return null;const s=parseInt(t.academic_level_id),i=R.find(l=>l.id===s);if(!i)return null;const r=i.key==="elementary",d=i.key==="junior_highschool",o=i.key==="senior_highschool",c=i.key==="college";if(console.log("[REGISTRAR ARCHIVE] Rendering cascading filters for:",i.key),r||d){const l=r?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:v=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",v),f({...t,year_level:v,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),l.map(v=>e.jsx(a,{value:v.value,children:v.label},v.value))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:v=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",v),f({...t,section_id:v})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),ce.map(v=>e.jsx(a,{value:v.id.toString(),children:v.name},v.id))]})]})]})]})}return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",l),f({...t,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),e.jsx(a,{value:"grade_11",children:"Grade 11"}),e.jsx(a,{value:"grade_12",children:"Grade 12"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Track"}),e.jsxs(g,{value:t.track_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Track Changed:",l),f({...t,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All tracks"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Tracks"}),Oe.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Strand"}),e.jsxs(g,{value:t.strand_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Strand Changed:",l),f({...t,strand_id:l,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All strands"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Strands"}),Ue.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",l),f({...t,section_id:l})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),ce.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):c?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:t.year_level,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Year Level Changed:",l),f({...t,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All year levels"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Year Levels"}),e.jsx(a,{value:"1st_year",children:"1st Year"}),e.jsx(a,{value:"2nd_year",children:"2nd Year"}),e.jsx(a,{value:"3rd_year",children:"3rd Year"}),e.jsx(a,{value:"4th_year",children:"4th Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Department"}),e.jsxs(g,{value:t.department_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Department Changed:",l),f({...t,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All departments"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Departments"}),Be.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Course"}),e.jsxs(g,{value:t.course_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Course Changed:",l),f({...t,course_id:l,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All courses"})}),e.jsxs(_,{children:[e.jsx(a,{value:"",children:"All Courses"}),qe.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:t.section_id,onValueChange:l=>{console.log("[REGISTRAR ARCHIVE] Section Changed:",l),f({...t,section_id:l})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),ce.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]})]})]}):null})(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Include in Archive"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"include_grades",checked:t.include_grades==="1",onCheckedChange:s=>f("include_grades",s===!0?"1":"0")}),e.jsx(x,{htmlFor:"include_grades",children:"Student Grades"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"include_honors",checked:t.include_honors==="1",onCheckedChange:s=>f("include_honors",s===!0?"1":"0")}),e.jsx(x,{htmlFor:"include_honors",children:"Honor Records"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"include_certificates",checked:t.include_certificates==="1",onCheckedChange:s=>f("include_certificates",s===!0?"1":"0")}),e.jsx(x,{htmlFor:"include_certificates",children:"Certificates"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"archive_format",children:"Archive Format"}),e.jsxs(g,{value:t.format,onValueChange:s=>f("format",s),children:[e.jsx(j,{children:e.jsx(u,{})}),e.jsxs(_,{children:[e.jsx(a,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"Excel"]})}),e.jsx(a,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"CSV"]})})]})]})]}),e.jsx(P,{type:"submit",disabled:Re||k,className:"w-full md:w-auto",children:Re||k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Archiving Records..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Archive Records"]})})]})]})]})}),e.jsx(W,{value:"class-section-reports",className:"space-y-6",children:e.jsxs(D,{children:[e.jsxs(M,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Generate Class Section Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive class section rosters and student lists by academic level."})]}),e.jsx(F,{children:e.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Academic Level *"}),e.jsxs(g,{value:n.academic_level_id,onValueChange:s=>{console.log("[REGISTRAR] Academic Level Changed:",s),A({...n,academic_level_id:s,year_level:"",track_id:"",strand_id:"",department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select level"})}),e.jsx(_,{children:R.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for class section reports"})]}),(()=>{if(!n.academic_level_id)return null;const s=R.find(c=>c.id.toString()===n.academic_level_id);if(!s)return null;const i=s.key==="elementary",r=s.key==="junior_highschool",d=s.key==="senior_highschool",o=s.key==="college";if(i||r){const c=i?[{value:"grade_1",label:"Grade 1"},{value:"grade_2",label:"Grade 2"},{value:"grade_3",label:"Grade 3"},{value:"grade_4",label:"Grade 4"},{value:"grade_5",label:"Grade 5"},{value:"grade_6",label:"Grade 6"}]:[{value:"grade_7",label:"Grade 7"},{value:"grade_8",label:"Grade 8"},{value:"grade_9",label:"Grade 9"},{value:"grade_10",label:"Grade 10"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:n.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...n,year_level:l,section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(_,{children:c.map(l=>e.jsx(a,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Filter by year level"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:n.section_id,onValueChange:l=>A({...n,section_id:l}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),K.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})}if(d){const c=[{value:"grade_11",label:"Grade 11"},{value:"grade_12",label:"Grade 12"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:n.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...n,year_level:l,track_id:"",strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(_,{children:c.map(l=>e.jsx(a,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Track"}),e.jsxs(g,{value:n.track_id,onValueChange:l=>{console.log("[REGISTRAR] Track Changed:",l),A({...n,track_id:l,strand_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select track"})}),e.jsx(_,{children:L.map(l=>e.jsxs(a,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select track"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Strand"}),e.jsxs(g,{value:n.strand_id,onValueChange:l=>{console.log("[REGISTRAR] Strand Changed:",l),A({...n,strand_id:l,section_id:"all"})},disabled:!n.track_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:n.track_id?"Select strand":"Select track first"})}),e.jsx(_,{children:Ce.map(l=>e.jsxs(a,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select strand"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:n.section_id,onValueChange:l=>A({...n,section_id:l}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),K.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}if(o){const c=[{value:"1st_year",label:"1st Year"},{value:"2nd_year",label:"2nd Year"},{value:"3rd_year",label:"3rd Year"},{value:"4th_year",label:"4th Year"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Year Level"}),e.jsxs(g,{value:n.year_level,onValueChange:l=>{console.log("[REGISTRAR] Year Level Changed:",l),A({...n,year_level:l,department_id:"",course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select year level"})}),e.jsx(_,{children:c.map(l=>e.jsx(a,{value:l.value,children:l.label},l.value))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Department"}),e.jsxs(g,{value:n.department_id,onValueChange:l=>{console.log("[REGISTRAR] Department Changed:",l),A({...n,department_id:l,course_id:"",section_id:"all"})},children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select department"})}),e.jsx(_,{children:H.map(l=>e.jsxs(a,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select department"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Course"}),e.jsxs(g,{value:n.course_id,onValueChange:l=>{console.log("[REGISTRAR] Course Changed:",l),A({...n,course_id:l,section_id:"all"})},disabled:!n.department_id,children:[e.jsx(j,{children:e.jsx(u,{placeholder:n.department_id?"Select course":"Select department first"})}),e.jsx(_,{children:Ne.map(l=>e.jsxs(a,{value:l.id.toString(),children:[l.name," (",l.code,")"]},l.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select course"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Section"}),e.jsxs(g,{value:n.section_id,onValueChange:l=>A({...n,section_id:l}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"All sections"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All Sections"}),K.map(l=>e.jsx(a,{value:l.id.toString(),children:l.name},l.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave as "All" for all sections'})]})]})]})}return null})(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"School Year *"}),e.jsxs(g,{value:n.school_year,onValueChange:s=>A({...n,school_year:s}),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select year"})}),e.jsx(_,{children:G.map(s=>e.jsx(a,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Export Format"}),e.jsxs(g,{value:n.format,onValueChange:s=>A({...n,format:s}),children:[e.jsx(j,{children:e.jsx(u,{})}),e.jsxs(_,{children:[e.jsx(a,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(a,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(a,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"include_grades_section",checked:n.include_grades,onCheckedChange:s=>A({...n,include_grades:!!s})}),e.jsx(x,{htmlFor:"include_grades_section",children:"Include student average grades in the report"})]}),(!n.academic_level_id||!n.school_year)&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Required:"})," Please select Academic Level and School Year to generate the report."]})}),e.jsx(P,{type:"submit",disabled:ze||!n.academic_level_id||!n.school_year||k,className:"flex items-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4"}),"Generate Class Section Report"]})})]})})]})})]})]})})]})]})}export{Ol as default};
