import{r as I,m as F,j as e,$ as Y}from"./app-WRL_f9VN.js";import{H as ee}from"./header-DlIkuCDH.js";import{S as se}from"./sidebar-DkFK2dKB.js";import{C as u,a as g,b as G,c as E}from"./card-BvgTiu6X.js";import{B as S}from"./button-B47bOV03.js";import{L as t}from"./label-aP4cDyOF.js";import{S as n,a as d,b as o,c as m,d as i}from"./select-xrhCetoQ.js";import{T as ae,a as re,b as V,c as D}from"./tabs-zN_SiPjN.js";import{C as A}from"./checkbox-lCBJ9Is1.js";import{U as ie}from"./users-iUbQ3IS-.js";import{F as k}from"./file-text-Du4eweHl.js";import{A as z}from"./award-CBZ34sov.js";import{C as ce}from"./calendar-Maps1Kul.js";import{C as le}from"./chart-column-DlG2Wfkp.js";import{F as H,a as P,A as B}from"./file-x-FeNc_CqH.js";import{D as L}from"./download-DdOjgDgW.js";import{T as te}from"./trending-up-L4WZQ41z.js";import{G as ne}from"./graduation-cap-CkYbJe8T.js";/* empty css            */import"./dropdown-menu-DpQHelmP.js";import"./Combination-DrLtBc6B.js";import"./index-DrhlEZyq.js";import"./separator-_4XBM6kg.js";import"./chevron-right-BGccj1Sd.js";import"./crown-CQlMKY41.js";import"./building-2-Df78k9ww.js";import"./user-cog--dIsW7X7.js";import"./book-open-sRTudYxr.js";import"./user-check-DrY0_c6U.js";import"./notebook-C4bc97uy.js";import"./chart-no-axes-column-increasing-BALiOooQ.js";import"./shield-BlJPxj2f.js";import"./index-B7LgIEAI.js";import"./index-DB0P95PW.js";import"./check-CNLTzP_4.js";function $e({user:R,academicLevels:T,schoolYears:f,gradingPeriods:O,honorTypes:q,stats:b}){const[M,W]=I.useState("grade-reports"),[_,v]=I.useState(!1),{data:x,setData:y,post:de,processing:U}=F({academic_level_id:"all",grading_period_id:"all",school_year:f[0]||"",format:"pdf",include_statistics:!0}),{data:C,setData:w,post:oe,processing:$}=F({academic_level_id:"all",school_year:f[0]||"",honor_type_id:"all",format:"pdf"}),{data:h,setData:N,post:me,processing:X}=F({academic_level_id:"",school_year:f[0]||"",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),Z=s=>{var j;s.preventDefault(),v(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.grade-report"),a.target="_blank";const p=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(p){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=p,a.appendChild(r)}Object.entries(x).forEach(([r,c])=>{const l=document.createElement("input");l.type="hidden",l.name=r,typeof c=="boolean"?l.value=c?"1":"0":l.value=(c==null?void 0:c.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>v(!1),2e3)},J=s=>{var j;s.preventDefault(),v(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.honor-statistics"),a.target="_blank";const p=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(p){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=p,a.appendChild(r)}Object.entries(C).forEach(([r,c])=>{const l=document.createElement("input");l.type="hidden",l.name=r,typeof c=="boolean"?l.value=c?"1":"0":l.value=(c==null?void 0:c.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>v(!1),2e3)},K=s=>{var j;s.preventDefault(),v(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.archive-records"),a.target="_blank";const p=(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content");if(p){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=p,a.appendChild(r)}Object.entries(h).forEach(([r,c])=>{const l=document.createElement("input");l.type="hidden",l.name=r,typeof c=="boolean"?l.value=c?"1":"0":l.value=(c==null?void 0:c.toString())||"",a.appendChild(l)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>v(!1),2e3)},Q=O.filter(s=>!x.academic_level_id||s.academic_level_id.toString()===x.academic_level_id);return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(se,{user:R}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ee,{user:R}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(Y,{href:route("admin.dashboard"),children:e.jsx(S,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(u,{children:e.jsxs(g,{className:"flex items-center p-6",children:[e.jsx(ie,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_students})]})]})}),e.jsx(u,{children:e.jsxs(g,{className:"flex items-center p-6",children:[e.jsx(k,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_certificates})]})]})}),e.jsx(u,{children:e.jsxs(g,{className:"flex items-center p-6",children:[e.jsx(z,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_honors})]})]})}),e.jsx(u,{children:e.jsxs(g,{className:"flex items-center p-6",children:[e.jsx(ce,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.active_periods})]})]})})]}),e.jsxs(ae,{value:M,onValueChange:W,className:"w-full",children:[e.jsxs(re,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"grade-reports",children:"Grade Reports"}),e.jsx(V,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(V,{value:"archive-records",children:"Archive Records"})]}),e.jsx(D,{value:"grade-reports",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(G,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Generate Grade Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive grade reports with optional statistics and analysis."})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level"}),e.jsxs(n,{value:x.academic_level_id,onValueChange:s=>y("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All levels"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Levels"}),T.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Grading Period"}),e.jsxs(n,{value:x.grading_period_id,onValueChange:s=>y("grading_period_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All periods"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Periods"}),Q.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"School Year"}),e.jsxs(n,{value:x.school_year,onValueChange:s=>y("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:f.map(s=>e.jsx(i,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:x.format,onValueChange:s=>y("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_statistics",checked:x.include_statistics,onCheckedChange:s=>y("include_statistics",s===!0)}),e.jsx(t,{htmlFor:"include_statistics",children:"Include statistical analysis and grade distribution"})]}),e.jsx(S,{type:"submit",disabled:U||_,className:"flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4"}),"Generate Grade Report"]})})]})})]})}),e.jsx(D,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(G,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level"}),e.jsxs(n,{value:C.academic_level_id,onValueChange:s=>w("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All levels"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Levels"}),T.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Honor Type"}),e.jsxs(n,{value:C.honor_type_id,onValueChange:s=>w("honor_type_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All types"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Types"}),q.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"School Year"}),e.jsxs(n,{value:C.school_year,onValueChange:s=>w("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:f.map(s=>e.jsx(i,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:C.format,onValueChange:s=>w("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(S,{type:"submit",disabled:$||_,className:"flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(D,{value:"archive-records",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(G,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level *"}),e.jsxs(n,{value:h.academic_level_id,onValueChange:s=>N("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select level"})}),e.jsx(m,{children:T.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"School Year *"}),e.jsxs(n,{value:h.school_year,onValueChange:s=>N("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:f.map(s=>e.jsx(i,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_grades",checked:h.include_grades,onCheckedChange:s=>N("include_grades",s===!0)}),e.jsxs(t,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_honors",checked:h.include_honors,onCheckedChange:s=>N("include_honors",s===!0)}),e.jsxs(t,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_certificates",checked:h.include_certificates,onCheckedChange:s=>N("include_certificates",s===!0)}),e.jsxs(t,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:h.format,onValueChange:s=>N("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(S,{type:"submit",disabled:X||!h.academic_level_id||!h.school_year,className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})})]})]})})]})]})}export{$e as default};
