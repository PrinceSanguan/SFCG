import{j as e,L as q}from"./app-ZdS4OC5J.js";import{S as B}from"./layout-DMhM8Ba2.js";import{C as x,b as h,c as g,d as f,a as j}from"./card-Ddd3ZDAH.js";import{B as L}from"./badge-D-F64-8i.js";import{U as S}from"./user-BUn-gOmT.js";import{M as Y}from"./mail-DToCV7gc.js";import{G as H}from"./graduation-cap-BPUGZrbu.js";import{S as I}from"./school-DKR8ewde.js";import{C as z}from"./calendar-DG4tmbWQ.js";import{P as O,M as b}from"./phone-DXA_zkBi.js";import{F as J}from"./flag-Ci4FLCyD.js";import{B as R}from"./book-open-DYnzbfKt.js";import{U as D}from"./user-check-CrRY5aw3.js";import{A as F}from"./award-oJk-Usii.js";import{U as Q}from"./users-DsJfB1Io.js";import{T as K}from"./trending-up-BFJ_en0_.js";/* empty css            */import"./app-shell-B0QXDcG2.js";import"./button-CRfWz0Rd.js";import"./Combination-BKxoB5vP.js";import"./index-C-5ELxtK.js";import"./dropdown-menu-Dmm9VMiH.js";import"./index-CaGGLmSV.js";import"./app-sidebar-BKWnL_RM.js";import"./separator-CkTjeCy1.js";import"./chevron-down-C36zrTJ1.js";import"./chevron-right-DKp3CJs3.js";import"./crown-Cc24jfQn.js";import"./file-text-CaQCwtrr.js";function Pe({user:s,assignedSubjects:P,subjectGrades:U,honorResults:w,currentSchoolYear:T}){const C=t=>{const d=t.gradingPeriod||t.grading_period,l=d==null?void 0:d.name,n=d==null?void 0:d.code;return l&&String(l).trim().length>0?l:n&&String(n).trim().length>0?n:t.grading_period_id?`Period #${t.grading_period_id}`:"N/A"},M=(t,d)=>d==="senior_highschool"||d==="college"?t<=1.5?"text-green-600":t<=2?"text-yellow-600":t<=3?"text-orange-600":"text-red-600":t>=90?"text-green-600":t>=80?"text-yellow-600":t>=70?"text-orange-600":"text-red-600",$=t=>{var N,u,m,o,y,v,_;const d=((N=t.gradingPeriod)==null?void 0:N.sort_order)!==void 0?(u=t.gradingPeriod)==null?void 0:u.period_type:(m=t.grading_period)==null?void 0:m.period_type,l=(((o=t.gradingPeriod)==null?void 0:o.code)||((y=t.grading_period)==null?void 0:y.code)||"").toUpperCase();if((((v=t.gradingPeriod)==null?void 0:v.name)||((_=t.grading_period)==null?void 0:_.name)||"").toLowerCase().includes("semester")||["F_SIM","S2","F1","S2-FA"].includes(l))return!1;const p=(d||"").toLowerCase();return["quarter","midterm","prefinal"].includes(p)?!0:["Q1","Q2","Q3","Q4","P1","S2-MT","S2-PF"].some(a=>l.includes(a))};return e.jsxs(B,{children:[e.jsx(q,{title:"My Profile"}),e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"My Profile"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your personal information and account details"})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(f,{children:"Your basic account details and student information"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4"}),"Full Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(Y,{className:"h-4 w-4"}),"Email Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.email})]}),s.student_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),"Student Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.student_number})]}),s.year_level&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Academic Level"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:s.year_level})]}),s.birth_date&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(z,{className:"h-4 w-4"}),"Birth Date"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(s.birth_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.gender&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4"}),"Gender"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 capitalize",children:s.gender})]}),s.phone_number&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(O,{className:"h-4 w-4"}),"Phone Number"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.phone_number})]}),s.nationality&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(J,{className:"h-4 w-4"}),"Nationality"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.nationality})]}),s.religion&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(R,{className:"h-4 w-4"}),"Religion"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.religion})]}),s.lrn&&(s.year_level==="elementary"||s.year_level==="junior_highschool")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),"LRN"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.lrn})]}),s.previous_school&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Previous School"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.previous_school})]})]})})]}),(s.address||s.city||s.province||s.postal_code)&&e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Address Information"]}),e.jsx(f,{children:"Your residential address details"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.address&&e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Complete Address"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.address})]}),s.city&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"City"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.city})]}),s.province&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Province"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.province})]}),s.postal_code&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Postal Code"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.postal_code})]})]})})]}),(s.emergency_contact_name||s.emergency_contact_phone||s.emergency_contact_relationship)&&e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Emergency Contact"]}),e.jsx(f,{children:"Your emergency contact information"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.emergency_contact_name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4"}),"Contact Name"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_name})]}),s.emergency_contact_phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(O,{className:"h-4 w-4"}),"Contact Phone"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_phone})]}),s.emergency_contact_relationship&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),"Relationship"]}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:s.emergency_contact_relationship})]})]})})]}),w&&w.length>0&&e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"My Academic Honors - ",T]}),e.jsx(f,{children:"Your academic achievements and honor qualifications"})]}),e.jsx(j,{children:e.jsx("div",{className:"grid gap-4",children:w.map(t=>{var d,l;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(F,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:((d=t.honorType)==null?void 0:d.name)||"Honor Type"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((l=t.academicLevel)==null?void 0:l.name)||"Academic Level"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:t.gpa}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"GPA"})]})]},t.id)})})})]}),P&&P.length>0&&e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"My Academic Information - ",T]}),e.jsx(f,{children:"Your enrolled subjects, teachers, and grades for the current school year"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-6",children:P.map(t=>{var v,_;const d=(U[t.subject.id]||[]).filter($),l=new Map;d.forEach(a=>{var A,k,E,G;const i=((A=a.gradingPeriod)==null?void 0:A.code)||((k=a.grading_period)==null?void 0:k.code)||"",r=i.toUpperCase(),c=(((E=a.gradingPeriod)==null?void 0:E.name)||((G=a.grading_period)==null?void 0:G.name)||"").toLowerCase();r==="Q1"||r==="1ST_GRADING"||c.includes("1st grading")||c.includes("first quarter")?l.set("Q1",a):r==="Q2"||r==="2ND_GRADING"||c.includes("2nd grading")||c.includes("second quarter")?l.set("Q2",a):r==="Q3"||r==="3RD_GRADING"||c.includes("3rd grading")||c.includes("third quarter")?l.set("Q3",a):(r==="Q4"||r==="F4"||r==="4TH_GRADING"||c.includes("4th grading")||c.includes("fourth quarter"))&&l.set("Q4",a),r==="M1"||i==="m1"?l.set("SHS_S1_MT",a):r==="PRE-FINAL"||i==="Pre-final"?l.set("SHS_S1_PF",a):r==="M2"||i==="m2"?l.set("SHS_S2_MT",a):(r==="PRE-FINAL2"||i==="pre-final2")&&l.set("SHS_S2_PF",a),(r.includes("COL_S1")||r.includes("COLLEGE_S1")||c.includes("first semester"))&&(r.includes("MT")||r.includes("MIDTERM")||c.includes("midterm")?l.set("COL_S1_MT",a):(r.includes("PF")||r.includes("PREFINAL")||r.includes("PRE-FINAL")||c.includes("pre-final")||c.includes("prefinal"))&&l.set("COL_S1_PF",a)),(r.includes("COL_S2")||r.includes("COLLEGE_S2")||r.includes("S2")||c.includes("second semester"))&&(r.includes("MT")||r.includes("MIDTERM")||c.includes("midterm")?l.set("COL_S2_MT",a):(r.includes("PF")||r.includes("PREFINAL")||r.includes("PRE-FINAL")||c.includes("pre-final")||c.includes("prefinal"))&&l.set("COL_S2_PF",a)),i&&l.set(i,a),r&&l.set(r,a)});const n=s.year_level==="senior_highschool"||!1,p=s.year_level==="college"||!1,N=s.year_level==="elementary"||!1,u=s.year_level==="junior_highschool"||!1;let m,o;n?(m=["SHS_S1_MT","SHS_S1_PF"],o=["SHS_S2_MT","SHS_S2_PF"]):p?(m=["COL_S1_MT","COL_S1_PF"],o=["COL_S2_MT","COL_S2_PF"]):N||u?(m=["Q1","Q2"],o=["Q3","Q4"]):(m=[],o=[]);const y=(_=(v=t.subject.teacherAssignments)==null?void 0:v[0])==null?void 0:_.teacher;return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:t.subject.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.subject.code," • ",t.subject.units||0," units"]}),t.subject.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.subject.description})]}),e.jsxs("div",{className:"flex gap-2",children:[t.subject.is_core&&e.jsx(L,{variant:"secondary",className:"text-xs",children:"Core Subject"}),t.semester&&e.jsx(L,{variant:"outline",className:"text-xs",children:t.semester})]})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Teacher: ",y.name]})]}),d.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"My Grades"]}),N||u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:["Q1","Q2","Q3","Q4"].map(a=>{const i=l.get(a),r={Q1:"First Quarter",Q2:"Second Quarter",Q3:"Third Quarter",Q4:"Fourth Quarter"};return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:i?C(i):r[a]||a}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${i?M(i.grade,s.year_level||""):"text-gray-400"}`,children:i?i.grade:"—"})})]})},`q-${a}-${(i==null?void 0:i.id)??"empty"}`)})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"First Semester"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:m.map(a=>{const i=l.get(a);return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:i?C(i):n?a==="SHS_S1_MT"?"Midterm":"Pre-Final":p?a==="COL_S1_MT"?"Midterm":"Pre-Final":"Period"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${i?M(i.grade,s.year_level||""):"text-gray-400"}`,children:i?i.grade:"—"})})]})},`fs-${a}-${(i==null?void 0:i.id)??"empty"}`)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mt-3 mb-1",children:"Second Semester"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:o.map(a=>{const i=l.get(a);return e.jsx("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded border",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:i?C(i):n?a==="SHS_S2_MT"?"Midterm":"Pre-Final":p?a==="COL_S2_MT"?"Midterm":"Pre-Final":"Period"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-lg font-bold ${i?M(i.grade,s.year_level||""):"text-gray-400"}`,children:i?i.grade:"—"})})]})},`ss-${a}-${(i==null?void 0:i.id)??"empty"}`)})})]})]})]}):e.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[e.jsx(K,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No grades recorded yet"})]})]},t.id)})})})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Linked Parents"]}),e.jsx(f,{children:"Parents linked to your account"})]}),e.jsx(j,{children:s.parents&&s.parents.length>0?e.jsx("div",{className:"space-y-3",children:s.parents.map(t=>e.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.email})]}),e.jsx(L,{variant:"outline",children:t.pivot.relationship_type.charAt(0).toUpperCase()+t.pivot.relationship_type.slice(1)})]}),t.pivot.emergency_contact&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Emergency Contact: ",t.pivot.emergency_contact]}),t.pivot.notes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Notes: ",t.pivot.notes]})]})},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("div",{className:"text-lg font-medium text-gray-500",children:"No parents linked"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contact the school administration to link parent accounts"})]})})]})]})]})}export{Pe as default};
