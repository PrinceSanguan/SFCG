import{j as e,r as y,m as z,$ as b,C as F}from"./app-C0m847Uu.js";import{H as T}from"./header-FsH5v2wB.js";import{S as B}from"./sidebar-BWpfu6dq.js";import{C as _,b as C,c as k,a as w}from"./card-CXjaanlD.js";import{B as a}from"./button-BlgTI_yF.js";import{T as E}from"./textarea-FbaVIZon.js";import{L as D}from"./label-D8OZ60FS.js";import{A as $}from"./arrow-left-mM0giquN.js";import{C as G}from"./clock-CfoiQsJj.js";import{E as X}from"./eye-BPbUOEpY.js";import{C as Y}from"./circle-x-DZXCW8ja.js";/* empty css            */import"./dropdown-menu-CkJ5rdho.js";import"./Combination-BmTelq4r.js";import"./index-Ct-BhWPv.js";import"./separator-YcvZMFEg.js";import"./user-check-Dt0iaf8m.js";import"./graduation-cap-DsObIU6C.js";import"./chevron-right-CwHDVVL6.js";import"./book-open-7B-Asp4T.js";import"./award-Do7hPkTn.js";import"./chart-no-axes-column-increasing-CMh6pXVm.js";import"./trending-up-BnilCjh4.js";import"./building-2-DoM8ddEe.js";import"./log-out-DCiteYXR.js";function je({user:i,honors:H}){var h,j;if(!i)return e.jsx("div",{children:"Loading..."});const r=H||{data:[],current_page:1,last_page:1,per_page:20,total:0},[t,n]=y.useState(null),[R,c]=y.useState(!1),{data:d,setData:o,post:m,processing:l,errors:x}=z({rejection_reason:""}),A=s=>{m(route("chairperson.honors.approve",s))},S=s=>{d.rejection_reason.trim()&&(m(route("chairperson.honors.reject",s)),c(!1),n(null),o("rejection_reason",""))},P=s=>{n(s),c(!0)},L=()=>{c(!1),n(null),o("rejection_reason","")};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(B,{user:i}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(T,{user:i}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(a,{asChild:!0,variant:"outline",size:"sm",children:e.jsxs(b,{href:route("chairperson.honors.index"),children:[e.jsx($,{className:"h-4 w-4"}),"Back to Honors"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Pending Honors"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Review and approve honors pending approval"})]})]}),e.jsxs(_,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Summary"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:r.total})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Current Page"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.current_page," of ",r.last_page]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Honors per Page"}),e.jsx("p",{className:"text-2xl font-bold",children:r.per_page})]})]})})]}),e.jsxs(_,{children:[e.jsx(C,{children:e.jsx(k,{children:"Honors Pending Approval"})}),e.jsx(w,{children:r.data.length===0?e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No pending honors found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Student"}),e.jsx("th",{className:"text-left p-2",children:"Honor Type"}),e.jsx("th",{className:"text-left p-2",children:"GPA"}),e.jsx("th",{className:"text-left p-2",children:"Academic Level"}),e.jsx("th",{className:"text-left p-2",children:"School Year"}),e.jsx("th",{className:"text-left p-2",children:"Created"}),e.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),e.jsx("tbody",{children:r.data.map(s=>{var p,g,f,N,u,v;return e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((p=s.student)==null?void 0:p.name)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((g=s.student)==null?void 0:g.student_number)||"N/A"})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((f=s.honor_type)==null?void 0:f.name)||"N/A"}),((N=s.honor_type)==null?void 0:N.description)&&e.jsx("div",{className:"text-sm text-gray-500",children:(u=s.honor_type)==null?void 0:u.description})]})}),e.jsx("td",{className:"p-2 font-medium",children:s.gpa}),e.jsx("td",{className:"p-2",children:((v=s.academic_level)==null?void 0:v.name)||"N/A"}),e.jsx("td",{className:"p-2",children:s.school_year}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{asChild:!0,size:"sm",variant:"outline",children:e.jsx(b,{href:route("chairperson.honors.review",s.id),children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(a,{size:"sm",onClick:()=>A(s.id),disabled:l,className:"bg-green-600 hover:bg-green-700",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx(a,{size:"sm",variant:"destructive",onClick:()=>P(s),disabled:l,children:e.jsx(Y,{className:"h-4 w-4"})})]})})]},s.id)})})]})})})]})]})})]}),R&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Honor"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Rejecting honor for ",e.jsx("strong",{children:(h=t.student)==null?void 0:h.name})," - ",e.jsx("strong",{children:((j=t.honor_type)==null?void 0:j.name)||"N/A"})]}),e.jsx(D,{htmlFor:"rejection_reason",children:"Reason for Rejection"}),e.jsx(E,{id:"rejection_reason",value:d.rejection_reason,onChange:s=>o("rejection_reason",s.target.value),placeholder:"Please provide a reason for rejecting this honor...",className:"mt-2",rows:4}),x.rejection_reason&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:x.rejection_reason})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(a,{variant:"outline",onClick:L,children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>S(t.id),disabled:l||!d.rejection_reason.trim(),children:l?"Rejecting...":"Reject Honor"})]})]})})]})}export{je as default};
