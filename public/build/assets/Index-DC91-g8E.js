import{r as z,m as G,j as e,$ as ee}from"./app-B8aSoUfZ.js";import{H as se}from"./header-Cbkee52g.js";import{S as ae}from"./sidebar-CpDAREg1.js";import{C as g,a as f,b as E,c as V}from"./card-DbitUjPJ.js";import{B as S}from"./button-DNNKSBla.js";import{L as t}from"./label-C-mjKr_-.js";import{S as n,a as d,b as o,c as m,d as i}from"./select-CoF_ktzx.js";import{T as re,a as ie,b as D,c as H}from"./tabs-UYUqMc9Z.js";import{C as A}from"./checkbox-ChHT_7ez.js";import{U as le}from"./users-CNMDAYCa.js";import{F as k}from"./file-text-XXH7tyzt.js";import{A as B}from"./award-Z_FNoDTV.js";import{C as ce}from"./calendar-DuCIveJv.js";import{C as te}from"./chart-column-BtaPn5H2.js";import{F as R,a as P,A as L}from"./file-x-BmCkuz4E.js";import{D as O}from"./download-OnNx54C6.js";import{T as ne}from"./trending-up-DNBa95E3.js";import{G as de}from"./graduation-cap-BOc9MGyU.js";/* empty css            */import"./dropdown-menu-3owOFVTZ.js";import"./Combination-BihRmJ2g.js";import"./index-BP09zChQ.js";import"./separator-BRMmm57t.js";import"./chevron-right-Bj5BEWXD.js";import"./crown-CS1UqWlh.js";import"./building-2-NHDeWOVr.js";import"./user-cog-B-sTtmJN.js";import"./book-open-Bbf9LK2w.js";import"./user-check-opGGIlMn.js";import"./notebook-IlGYmzCd.js";import"./chart-no-axes-column-increasing-DgFr5ukl.js";import"./shield-t0mOzGwh.js";import"./index-Cji7pJ7h.js";import"./index-BQ1n_RtO.js";import"./check-DGs-CONs.js";function Xe({user:I,academicLevels:F,schoolYears:v,currentSchoolYear:T,gradingPeriods:q,honorTypes:M,stats:b}){const[W,U]=z.useState("grade-reports"),[_,h]=z.useState(!1),{data:p,setData:y,post:oe,processing:$}=G({academic_level_id:"all",grading_period_id:"all",school_year:T||v[0]||"",format:"pdf",include_statistics:!0}),{data:C,setData:w,post:me,processing:X}=G({academic_level_id:"all",school_year:T||v[0]||"",honor_type_id:"all",format:"pdf"}),{data:x,setData:N,post:he,processing:Z}=G({academic_level_id:"",school_year:T||v[0]||"",include_grades:!0,include_honors:!0,include_certificates:!0,format:"excel"}),J=s=>{var u;s.preventDefault(),h(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.grade-report");const j=(u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content");if(j){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=j,a.appendChild(r)}else{console.error("CSRF token not found"),h(!1);return}Object.entries(p).forEach(([r,l])=>{const c=document.createElement("input");c.type="hidden",c.name=r,typeof l=="boolean"?c.value=l?"1":"0":c.value=(l==null?void 0:l.toString())||"",a.appendChild(c)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>h(!1),2e3)},K=s=>{var u;s.preventDefault(),h(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.honor-statistics");const j=(u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content");if(j){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=j,a.appendChild(r)}else{console.error("CSRF token not found"),h(!1);return}Object.entries(C).forEach(([r,l])=>{const c=document.createElement("input");c.type="hidden",c.name=r,typeof l=="boolean"?c.value=l?"1":"0":c.value=(l==null?void 0:l.toString())||"",a.appendChild(c)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>h(!1),2e3)},Q=s=>{var u;s.preventDefault(),h(!0);const a=document.createElement("form");a.method="POST",a.action=route("admin.reports.archive-records");const j=(u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content");if(j){const r=document.createElement("input");r.type="hidden",r.name="_token",r.value=j,a.appendChild(r)}else{console.error("CSRF token not found"),h(!1);return}Object.entries(x).forEach(([r,l])=>{const c=document.createElement("input");c.type="hidden",c.name=r,typeof l=="boolean"?c.value=l?"1":"0":c.value=(l==null?void 0:l.toString())||"",a.appendChild(c)}),document.body.appendChild(a),a.submit(),document.body.removeChild(a),setTimeout(()=>h(!1),2e3)},Y=q.filter(s=>!p.academic_level_id||s.academic_level_id.toString()===p.academic_level_id);return e.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(ae,{user:I}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(se,{user:I}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reports & Archiving"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate comprehensive reports and archive academic records."})]}),e.jsx(ee,{href:route("admin.dashboard"),children:e.jsx(S,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center p-6",children:[e.jsx(le,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_students})]})]})}),e.jsx(g,{children:e.jsxs(f,{className:"flex items-center p-6",children:[e.jsx(k,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_certificates})]})]})}),e.jsx(g,{children:e.jsxs(f,{className:"flex items-center p-6",children:[e.jsx(B,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Honor Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_honors})]})]})}),e.jsx(g,{children:e.jsxs(f,{className:"flex items-center p-6",children:[e.jsx(ce,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Periods"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.active_periods})]})]})})]}),e.jsxs(re,{value:W,onValueChange:U,className:"w-full",children:[e.jsxs(ie,{className:"grid w-full grid-cols-3",children:[e.jsx(D,{value:"grade-reports",children:"Grade Reports"}),e.jsx(D,{value:"honor-statistics",children:"Honor Statistics"}),e.jsx(D,{value:"archive-records",children:"Archive Records"})]}),e.jsx(H,{value:"grade-reports",className:"space-y-6",children:e.jsxs(g,{children:[e.jsxs(E,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Generate Grade Reports"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive grade reports with optional statistics and analysis."})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level"}),e.jsxs(n,{value:p.academic_level_id,onValueChange:s=>y("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All levels"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Levels"}),F.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Grading Period"}),e.jsxs(n,{value:p.grading_period_id,onValueChange:s=>y("grading_period_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All periods"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Periods"}),Y.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"School Year"}),e.jsxs(n,{value:p.school_year,onValueChange:s=>y("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:v.map(s=>e.jsx(i,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:p.format,onValueChange:s=>y("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_statistics",checked:p.include_statistics,onCheckedChange:s=>y("include_statistics",s===!0)}),e.jsx(t,{htmlFor:"include_statistics",children:"Include statistical analysis and grade distribution"})]}),e.jsx(S,{type:"submit",disabled:$||_,className:"flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4"}),"Generate Grade Report"]})})]})})]})}),e.jsx(H,{value:"honor-statistics",className:"space-y-6",children:e.jsxs(g,{children:[e.jsxs(E,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Generate Honor Statistics"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive honor roll statistics and distribution analysis."})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level"}),e.jsxs(n,{value:C.academic_level_id,onValueChange:s=>w("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All levels"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Levels"}),F.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Honor Type"}),e.jsxs(n,{value:C.honor_type_id,onValueChange:s=>w("honor_type_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"All types"})}),e.jsxs(m,{children:[e.jsx(i,{value:"all",children:"All Types"}),M.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"School Year"}),e.jsxs(n,{value:C.school_year,onValueChange:s=>w("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:v.map(s=>e.jsx(i,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:C.format,onValueChange:s=>w("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Excel Spreadsheet"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV File"]})})]})]})]})]}),e.jsx(S,{type:"submit",disabled:X||_,className:"flex items-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4"}),"Generate Honor Statistics"]})})]})})]})}),e.jsx(H,{value:"archive-records",className:"space-y-6",children:e.jsxs(g,{children:[e.jsxs(E,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Archive Academic Records"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create comprehensive archives of academic records for specific levels and years."})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Academic Level *"}),e.jsxs(n,{value:x.academic_level_id,onValueChange:s=>N("academic_level_id",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select level"})}),e.jsx(m,{children:F.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic level is required for archiving"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"School Year *"}),e.jsxs(n,{value:x.school_year,onValueChange:s=>N("school_year",s),children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select year"})}),e.jsx(m,{children:v.map(s=>e.jsx(i,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Include in Archive"}),e.jsxs("div",{className:"space-y-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_grades",checked:x.include_grades,onCheckedChange:s=>N("include_grades",s===!0)}),e.jsxs(t,{htmlFor:"include_grades",className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Student grades and academic records"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_honors",checked:x.include_honors,onCheckedChange:s=>N("include_honors",s===!0)}),e.jsxs(t,{htmlFor:"include_honors",className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Honor roll and academic achievements"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:"include_certificates",checked:x.include_certificates,onCheckedChange:s=>N("include_certificates",s===!0)}),e.jsxs(t,{htmlFor:"include_certificates",className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Certificates and recognitions"]})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Export Format"}),e.jsxs(n,{value:x.format,onValueChange:s=>N("format",s),children:[e.jsx(d,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(i,{value:"excel",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Excel Workbook (Multiple Sheets)"]})}),e.jsx(i,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"CSV Files (Zip Archive)"]})})]})]})]}),e.jsxs(S,{type:"submit",disabled:Z||!x.academic_level_id||!x.school_year,className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Archive..."]}):"Create Academic Archive"]})]})})]})})]})]})})]})]})}export{Xe as default};
