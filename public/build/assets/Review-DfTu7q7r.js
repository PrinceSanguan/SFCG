import{j as e,r as E,m as F,$ as I,C as o}from"./app-Cp9NjWYG.js";import{H as z}from"./header-61PYOAdR.js";import{S as $}from"./sidebar-DIblaORb.js";import{C as r,b as t,c as i,a as c}from"./card-BQSU5Dlj.js";import{B as d}from"./button-DZaBrzx3.js";import{B as n}from"./badge-Ku9AI2a2.js";import{T as G}from"./textarea-DOe40Ny4.js";import{L as a}from"./label-Cy8O6Ds9.js";import{A as X}from"./arrow-left-CnGIO4tT.js";import{C as p}from"./circle-x-QI7b_OlE.js";import{C as Y}from"./clock-BE8pdD3a.js";import{A as q}from"./award-BGsJsx1L.js";/* empty css            */import"./dropdown-menu-atARtuT6.js";import"./Combination-CFAD2So3.js";import"./index-6PVpn6-Y.js";import"./separator-1a82sZ3g.js";import"./user-check-D5RGchtY.js";import"./graduation-cap-DClvfwMN.js";import"./chevron-right-CF7hqmYx.js";import"./book-open-tyrdWMvg.js";import"./chart-no-axes-column-increasing-CbgLZnUP.js";import"./trending-up-DDYujR9m.js";import"./building-2-C5bpFo5H.js";function ge({user:x,honor:s}){var N,f,u,y,_,b,w,A,C,R,k,S,H;if(!x||!s)return e.jsx("div",{children:"Loading..."});const[T,m]=E.useState(!1),{data:j,setData:h,post:g,processing:l,errors:v}=F({rejection_reason:""}),L=()=>{g(route("chairperson.honors.approve",s.id))},B=()=>{j.rejection_reason.trim()&&(g(route("chairperson.honors.reject",s.id)),m(!1),h("rejection_reason",""))},D=()=>s.is_rejected?e.jsx(n,{variant:"destructive",children:"Rejected"}):s.is_approved?e.jsx(n,{variant:"default",children:"Approved"}):s.is_pending_approval?e.jsx(n,{variant:"secondary",children:"Pending Approval"}):e.jsx(n,{variant:"outline",children:"Unknown"}),P=()=>s.is_rejected?e.jsx(p,{className:"h-5 w-5 text-red-500"}):s.is_approved?e.jsx(o,{className:"h-5 w-5 text-green-500"}):s.is_pending_approval?e.jsx(Y,{className:"h-5 w-5 text-yellow-500"}):e.jsx(q,{className:"h-5 w-5 text-gray-500"});return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx($,{user:x}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(z,{user:x}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{asChild:!0,variant:"outline",size:"sm",children:e.jsxs(I,{href:route("chairperson.honors.index"),children:[e.jsx(X,{className:"h-4 w-4"}),"Back to Honors"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Honor Review"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Review honor details and make approval decisions"})]})]}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[P(),"Honor Status"]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[D(),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.is_pending_approval&&"Pending approval",s.is_approved&&"Approved",s.is_rejected&&"Rejected"]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Student Information"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold",children:((N=s.student)==null?void 0:N.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Student Number"}),e.jsx("p",{className:"text-lg",children:((f=s.student)==null?void 0:f.student_number)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-lg",children:((u=s.student)==null?void 0:u.email)||"N/A"})]})]})]}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Honor Information"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Honor Type"}),e.jsx("p",{className:"text-lg font-semibold",children:((y=s.honor_type||s.honorType)==null?void 0:y.name)||"N/A"})]}),((_=s.honor_type||s.honorType)==null?void 0:_.description)&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-lg",children:(b=s.honor_type||s.honorType)==null?void 0:b.description})]}),((w=s.honor_type||s.honorType)==null?void 0:w.criteria)&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Criteria"}),e.jsx("p",{className:"text-lg",children:(A=s.honor_type||s.honorType)==null?void 0:A.criteria})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Academic Performance"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"GPA"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.gpa})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"School Year"}),e.jsx("p",{className:"text-lg",children:s.school_year})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Academic Level"}),e.jsx("p",{className:"text-lg",children:((C=s.academic_level||s.academicLevel)==null?void 0:C.name)||"N/A"})]})]})]}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Submission Details"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Created At"}),e.jsx("p",{className:"text-lg",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsxs("p",{className:"text-lg",children:[s.is_pending_approval&&"Pending Approval",s.is_approved&&"Approved",s.is_rejected&&"Rejected"]})]})]})]})]}),(s.is_approved||s.is_rejected)&&e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Approval History"})}),e.jsxs(c,{children:[s.is_approved&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Approved"})]}),e.jsxs("div",{className:"ml-6 text-sm text-gray-600",children:[e.jsxs("p",{children:["Approved by: ",((R=s.approved_by)==null?void 0:R.name)||"Unknown"]}),e.jsxs("p",{children:["Approved at: ",s.approved_at?new Date(s.approved_at).toLocaleString():"Unknown"]})]})]}),s.is_rejected&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Rejected"})]}),e.jsxs("div",{className:"ml-6 text-sm text-gray-600",children:[e.jsxs("p",{children:["Rejected by: ",((k=s.rejected_by)==null?void 0:k.name)||"Unknown"]}),e.jsxs("p",{children:["Rejected at: ",s.rejected_at?new Date(s.rejected_at).toLocaleString():"Unknown"]}),s.rejection_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Reason:"}),e.jsx("p",{className:"italic",children:s.rejection_reason})]})]})]})]})]}),s.is_pending_approval&&!s.is_approved&&!s.is_rejected&&e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Actions"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(d,{onClick:L,disabled:l,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(o,{className:"mr-2 h-4 w-4"}),l?"Approving...":"Approve Honor"]}),e.jsxs(d,{variant:"destructive",onClick:()=>m(!0),disabled:l,children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Reject Honor"]})]})})]})]})})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Honor"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Rejecting honor for ",e.jsx("strong",{children:((S=s.student)==null?void 0:S.name)||"N/A"})," - ",e.jsx("strong",{children:((H=s.honorType)==null?void 0:H.name)||"N/A"})]}),e.jsx(a,{htmlFor:"rejection_reason",children:"Reason for Rejection"}),e.jsx(G,{id:"rejection_reason",value:j.rejection_reason,onChange:U=>h("rejection_reason",U.target.value),placeholder:"Please provide a reason for rejecting this honor...",className:"mt-2",rows:4}),v.rejection_reason&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.rejection_reason})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(d,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(d,{variant:"destructive",onClick:B,disabled:l||!j.rejection_reason.trim(),children:l?"Rejecting...":"Reject Honor"})]})]})})]})}export{ge as default};
