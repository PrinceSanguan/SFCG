import{r as A,m as de,j as e,S as ne}from"./app-CIgz5fJy.js";import{H as ce}from"./header-CulNh3pQ.js";import{S as he}from"./sidebar-COaLX2bT.js";import{C as me,b as xe,c as oe,a as ue}from"./card-B7WDDNzL.js";import{B as u}from"./button-DkblmdP4.js";import{I as o}from"./input-Ccztzj4W.js";import{L as l}from"./label-Cke1YPvd.js";import{S as p,a as j,b as g,c as _,d as h}from"./select-DrHM_dOt.js";import{A as n,a as c}from"./alert-B76q2CmL.js";import{B as v}from"./badge-BqyPFNfL.js";import{D as L,b as R,c as W,d as Y}from"./dialog-Dq_X2tbu.js";import{A as pe}from"./arrow-left-bluHfsi4.js";import{B as q}from"./book-open-B_bkaJPp.js";import{P as je}from"./plus-CxAwB7Lh.js";import{C as J}from"./calendar-Cigv5zDD.js";import{S as K}from"./square-pen-DxNhvNz6.js";import{T as X}from"./trash-2-BOVfzZhj.js";/* empty css            */import"./dropdown-menu-DhHxeP21.js";import"./Combination-qI0y9H-S.js";import"./index-CLZOyu6G.js";import"./separator-Ch9UKqpb.js";import"./users-Cg8Es_3h.js";import"./chevron-right-CBFkyvDP.js";import"./crown-C0b0qkwZ.js";import"./building-2-CHNtK0LY.js";import"./user-cog-DuGz0hnp.js";import"./user-check-9qKojOVE.js";import"./graduation-cap-D53UCDJP.js";import"./notebook-D8uSreS1.js";import"./chart-no-axes-column-increasing-B-Zn7Ia-.js";import"./shield-Cl36RuUK.js";import"./index-coT41LMU.js";import"./index-J3XTR4hC.js";import"./check-BeWmRD-V.js";function Ze({user:I,gradingPeriods:N,academicLevels:y,periodTypes:Q}){var $,H,z,U;const[Z,f]=A.useState(!1),[O,F]=A.useState(null),[E,S]=A.useState(!1),{data:s,setData:i,post:ee,put:te,processing:C,reset:T,errors:a}=de({name:"",code:"",type:"quarter",academic_level_id:"",parent_id:null,period_type:"quarter",semester_number:null,weight:1,is_calculated:!1,include_midterm:!1,include_prefinal:!1,start_date:"",end_date:"",sort_order:0,is_active:!0}),ae=()=>{ee(route("admin.academic.grading-periods.store"),{onSuccess:()=>{f(!1),T()}})},G=t=>{if(!t)return"";const r=new Date(t),m=r.getFullYear(),D=String(r.getMonth()+1).padStart(2,"0"),d=String(r.getDate()).padStart(2,"0");return`${m}-${D}-${d}`},P=t=>{F(t),i("name",t.name),i("code",t.code),i("type",t.type),i("academic_level_id",t.academic_level_id.toString()),i("parent_id",t.parent_id||null),i("period_type",t.period_type),i("semester_number",t.semester_number||null),i("weight",t.weight),i("is_calculated",t.is_calculated),i("include_midterm",t.include_midterm),i("include_prefinal",t.include_prefinal),i("start_date",G(t.start_date)),i("end_date",G(t.end_date)),i("sort_order",t.sort_order),i("is_active",t.is_active),S(!0)},se=()=>{O&&te(route("admin.academic.grading-periods.update",O.id),{onSuccess:()=>{S(!1),F(null),T()}})},B=t=>{confirm(`Are you sure you want to delete "${t.name}"? This action cannot be undone.`)&&ne.delete(route("admin.academic.grading-periods.destroy",t.id))},w=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),V=t=>t?e.jsx(v,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(v,{variant:"secondary",children:"Inactive"}),ie=t=>{switch(t){case"elementary":case"junior_highschool":return"quarter";case"senior_highschool":case"college":return"semester";default:return"quarter"}},M=t=>N.filter(r=>r.academic_level_id===t&&r.type==="semester"&&!r.parent_id).map(r=>({value:r.id.toString(),label:r.name})),b=t=>{const r=y.find(m=>m.id===t);return r&&(r.key==="senior_highschool"||r.key==="college")},re=t=>({quarter:"Quarter",midterm:"Midterm",prefinal:"Pre-Final",final:"Final Average"})[t]||t.charAt(0).toUpperCase()+t.slice(1);return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsx(he,{user:I}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ce,{user:I}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 md:p-6 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Back"]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Grading Periods Management"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage grading periods, quarters, and semesters for each academic level."})]}),e.jsx(L,{open:Z,onOpenChange:f,children:e.jsxs(R,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(Y,{children:"Create New Grading Period"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"type",children:"Type"}),e.jsxs(p,{value:s.type,onValueChange:t=>i("type",t),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsxs(_,{children:[e.jsx(h,{value:"quarter",children:"Quarter"}),e.jsx(h,{value:"semester",children:"Semester"})]})]}),(a==null?void 0:a.type)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.type})})]}),e.jsxs("div",{className:"hidden",children:[e.jsx(l,{htmlFor:"academic_level_id",children:"Academic Level"}),e.jsxs(p,{value:s.academic_level_id,onValueChange:t=>i("academic_level_id",t),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select academic level"})}),e.jsx(_,{children:y.map(t=>e.jsx(h,{value:t.id.toString(),children:t.name},t.id))})]}),(a==null?void 0:a.academic_level_id)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.academic_level_id})})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Academic Level: ",(($=y.find(t=>t.id.toString()===s.academic_level_id))==null?void 0:$.name)||"Not selected"]})]})}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Name"}),e.jsx(o,{id:"name",value:s.name,onChange:t=>i("name",t.target.value),placeholder:"e.g., First Quarter, First Semester"}),(a==null?void 0:a.name)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.name})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"code",children:"Code"}),e.jsx(o,{id:"code",value:s.code,onChange:t=>i("code",t.target.value),placeholder:"e.g., Q1, S1"}),(a==null?void 0:a.code)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.code})})]}),s.type==="quarter"&&b(parseInt(s.academic_level_id))&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"parent_id",children:"Which Semester? (Optional)"}),(()=>{var r;const t=M(parseInt(s.academic_level_id));return t.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(p,{value:((r=s.parent_id)==null?void 0:r.toString())||"",onValueChange:m=>i("parent_id",m?parseInt(m):null),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select parent semester"})}),e.jsx(_,{children:t.map(m=>e.jsx(h,{value:m.value,children:m.label},m.value))})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select a semester if this quarter belongs to one"})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md text-sm text-amber-800 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-200",children:[e.jsx("p",{className:"font-medium",children:"No semesters available"}),e.jsx("p",{className:"mt-1",children:'To create quarters under a semester, you need to create a semester first. Change the "Type" to "Semester" to create one.'})]})})})(),(a==null?void 0:a.parent_id)&&e.jsx(n,{variant:"destructive",className:"mt-2",children:e.jsx(c,{children:a.parent_id})})]}),s.type==="quarter"&&b(parseInt(s.academic_level_id))&&e.jsxs("div",{children:[e.jsx(l,{children:"Period Type"}),e.jsx("div",{className:"space-y-2 mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"period_final",checked:s.period_type==="final",onChange:t=>i("period_type",t.target.checked?"final":"quarter"),className:"rounded border-gray-300 text-blue-600"}),e.jsx(l,{htmlFor:"period_final",className:"text-sm font-normal",children:"Final Average"})]})}),(a==null?void 0:a.period_type)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.period_type})})]}),s.period_type==="final"&&s.parent_id&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("h5",{className:"font-medium text-yellow-900",children:"Final Average Calculation"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Select which quarters from the selected semester should be included in the final average calculation:"}),e.jsx("div",{className:"space-y-2",children:(()=>{console.log("Debug - data.parent_id:",s.parent_id),console.log("Debug - gradingPeriods:",N);const t=N.filter(r=>r.parent_id===s.parent_id&&r.period_type!=="final");return console.log("Debug - semesterQuarters found:",t),t.length===0?e.jsxs("div",{className:"text-sm text-yellow-600 italic",children:["No quarters found in the selected semester. Please create Midterm and Pre-Final periods first.",e.jsx("br",{}),e.jsxs("small",{children:["Debug: parent_id = ",s.parent_id,", total periods = ",N.length]})]}):t.map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`include_${r.id}`,checked:!!s[`include_${r.period_type}`],onChange:m=>i(`include_${r.period_type}`,m.target.checked),className:"rounded border-gray-300"}),e.jsxs(l,{htmlFor:`include_${r.id}`,className:"text-sm",children:["Include ",r.name," Grade"]})]},r.id))})()}),e.jsxs("div",{className:"mt-3 p-2 bg-yellow-100 rounded text-xs text-yellow-800",children:[e.jsx("strong",{children:"Calculation:"})," Final Average = (Selected Quarters) รท Number of Selected Quarters"]})]}),s.type==="quarter"&&s.period_type!=="final"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"weight",children:"Grade Contribution (%)"}),e.jsx(o,{id:"weight",type:"number",step:"0.01",value:s.weight,onChange:t=>i("weight",parseFloat(t.target.value)||0),min:"0",max:"1",placeholder:"0.50 = 50%"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How much this period contributes to final grade (0.50 = 50%, 1.00 = 100%)"}),(a==null?void 0:a.weight)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.weight})})]}),e.jsxs("div",{className:"flex items-start space-x-2 pt-6",children:[e.jsx("input",{id:"is_calculated",type:"checkbox",checked:s.is_calculated,onChange:t=>i("is_calculated",t.target.checked),className:"rounded border-gray-300 mt-1"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"is_calculated",className:"text-sm font-medium",children:"Auto-Calculated Grade"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"System will automatically calculate this grade from other periods"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"start_date",children:"Start Date"}),e.jsx(o,{id:"start_date",type:"date",value:s.start_date,onChange:t=>i("start_date",t.target.value)}),(a==null?void 0:a.start_date)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.start_date})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"end_date",children:"End Date"}),e.jsx(o,{id:"end_date",type:"date",value:s.end_date,onChange:t=>i("end_date",t.target.value)}),(a==null?void 0:a.end_date)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.end_date})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(o,{id:"sort_order",type:"number",value:s.sort_order,onChange:t=>i("sort_order",parseInt(t.target.value)||0),min:"0"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:s.is_active,onChange:t=>i("is_active",t.target.checked),className:"rounded border-gray-300"}),e.jsx(l,{htmlFor:"is_active",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(u,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(u,{onClick:ae,disabled:C,children:C?"Creating...":"Create"})]})]})]})}),e.jsx("div",{className:"space-y-4",children:y.map(t=>{const r=N.filter(d=>d.academic_level_id===t.id),m=r.filter(d=>!d.parent_id),D=r.filter(d=>d.parent_id);return e.jsxs(me,{children:[e.jsx(xe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),t.name,e.jsx(v,{variant:"outline",className:"ml-2",children:ie(t.key)==="quarter"?"Quarter-based":"Semester-based"})]}),e.jsxs(u,{className:"flex items-center gap-2",onClick:()=>{t.key==="elementary"||t.key==="junior_highschool"?i({...s,academic_level_id:t.id.toString(),type:"quarter",period_type:"quarter",parent_id:null,semester_number:null}):i({...s,academic_level_id:t.id.toString(),type:"semester",period_type:"quarter",parent_id:null,semester_number:1}),f(!0)},children:[e.jsx(je,{className:"h-4 w-4"}),t.key==="elementary"||t.key==="junior_highschool"?"Add Quarter":"Add Semester/Quarter"]})]})}),e.jsx(ue,{children:r.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No grading periods defined for this level."}):e.jsx("div",{className:"space-y-4",children:m.sort((d,k)=>d.sort_order-k.sort_order).map(d=>{const k=D.filter(x=>x.parent_id===d.id);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:d.name}),e.jsx(v,{variant:"outline",children:d.code}),d.is_calculated&&e.jsx(v,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Calculated"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w(d.start_date)," - ",w(d.end_date)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[V(d.is_active),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>P(d),children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>B(d),className:"text-red-600 hover:text-red-700",children:e.jsx(X,{className:"h-4 w-4"})})]})]}),k.length>0&&e.jsx("div",{className:"ml-6 space-y-2",children:k.sort((x,le)=>x.sort_order-le.sort_order).map(x=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg bg-gray-100 dark:bg-gray-700 border-l-4 border-l-blue-300",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-3 w-3 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium",children:x.name}),e.jsx(v,{variant:"outline",className:"text-xs",children:x.code}),x.is_calculated&&e.jsx(v,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 text-xs",children:"Calculated"}),e.jsx(v,{variant:"outline",className:"text-xs",children:x.period_type})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w(x.start_date)," - ",w(x.end_date)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[V(x.is_active),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>P(x),className:"h-7 px-2",children:e.jsx(K,{className:"h-3 w-3"})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>B(x),className:"text-red-600 hover:text-red-700 h-7 px-2",children:e.jsx(X,{className:"h-3 w-3"})})]})]},x.id))})]},d.id)})})})]},t.id)})})]})})]}),e.jsx(L,{open:E,onOpenChange:S,children:e.jsxs(R,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(Y,{children:"Edit Grading Period"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Academic Level: ",((H=y.find(t=>t.id.toString()===s.academic_level_id))==null?void 0:H.name)||"Not selected"]})]})}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_type",children:"Type"}),e.jsxs(p,{value:s.type,onValueChange:t=>i("type",t),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsxs(_,{children:[e.jsx(h,{value:"quarter",children:"Quarter"}),e.jsx(h,{value:"semester",children:"Semester"})]})]}),(a==null?void 0:a.type)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.type})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_name",children:"Name"}),e.jsx(o,{id:"edit_name",value:s.name,onChange:t=>i("name",t.target.value),placeholder:"e.g., First Quarter, First Semester"}),(a==null?void 0:a.name)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.name})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_code",children:"Code"}),e.jsx(o,{id:"edit_code",value:s.code,onChange:t=>i("code",t.target.value),placeholder:"e.g., Q1, S1"}),(a==null?void 0:a.code)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.code})})]}),e.jsxs("div",{className:"hidden",children:[e.jsx(l,{htmlFor:"edit_academic_level_id",children:"Academic Level"}),e.jsxs(p,{value:s.academic_level_id,onValueChange:t=>i("academic_level_id",t),children:[e.jsx(j,{children:e.jsx(g,{})}),e.jsx(_,{children:y.map(t=>e.jsx(h,{value:t.id.toString(),children:t.name},t.id))})]})]}),s.type==="quarter"&&b(parseInt(s.academic_level_id))&&s.period_type!=="quarter"&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_parent_id",children:"Parent Semester"}),e.jsxs(p,{value:((z=s.parent_id)==null?void 0:z.toString())||"",onValueChange:t=>i("parent_id",t?parseInt(t):null),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select parent semester"})}),e.jsx(_,{children:M(parseInt(s.academic_level_id)).map(t=>e.jsx(h,{value:t.value,children:t.label},t.value))})]}),(a==null?void 0:a.parent_id)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.parent_id})})]}),s.type==="quarter"&&b(parseInt(s.academic_level_id))&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_period_type",children:"Period Type"}),e.jsxs(p,{value:s.period_type,onValueChange:t=>i("period_type",t),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select period type"})}),e.jsx(_,{children:Q.length>0?Q.map(t=>e.jsx(h,{value:t,children:re(t)},t)):e.jsxs(e.Fragment,{children:[e.jsx(h,{value:"quarter",children:"Quarter"}),e.jsx(h,{value:"midterm",children:"Midterm"}),e.jsx(h,{value:"prefinal",children:"Pre-Final"}),e.jsx(h,{value:"final",children:"Final Average"})]})})]}),(a==null?void 0:a.period_type)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.period_type})})]}),s.type==="semester"&&b(parseInt(s.academic_level_id))&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_semester_number",children:"Semester Number"}),e.jsxs(p,{value:((U=s.semester_number)==null?void 0:U.toString())||"",onValueChange:t=>i("semester_number",t?parseInt(t):null),children:[e.jsx(j,{children:e.jsx(g,{placeholder:"Select semester number"})}),e.jsxs(_,{children:[e.jsx(h,{value:"1",children:"First Semester"}),e.jsx(h,{value:"2",children:"Second Semester"})]})]}),(a==null?void 0:a.semester_number)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.semester_number})})]}),s.type==="quarter"&&s.period_type!=="final"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_weight",children:"Grade Contribution (%)"}),e.jsx(o,{id:"edit_weight",type:"number",step:"0.01",value:s.weight,onChange:t=>i("weight",parseFloat(t.target.value)||0),min:"0",max:"1",placeholder:"0.50 = 50%"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How much this period contributes to final grade (0.50 = 50%, 1.00 = 100%)"}),(a==null?void 0:a.weight)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.weight})})]}),e.jsxs("div",{className:"flex items-start space-x-2 pt-6",children:[e.jsx("input",{id:"edit_is_calculated",type:"checkbox",checked:s.is_calculated,onChange:t=>i("is_calculated",t.target.checked),className:"rounded border-gray-300 mt-1"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_is_calculated",className:"text-sm font-medium",children:"Auto-Calculated Grade"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"System will automatically calculate this grade from other periods"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_start_date",children:"Start Date"}),e.jsx(o,{id:"edit_start_date",type:"date",value:s.start_date,onChange:t=>i("start_date",t.target.value)}),(a==null?void 0:a.start_date)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.start_date})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_end_date",children:"End Date"}),e.jsx(o,{id:"edit_end_date",type:"date",value:s.end_date,onChange:t=>i("end_date",t.target.value)}),(a==null?void 0:a.end_date)&&e.jsx(n,{variant:"destructive",children:e.jsx(c,{children:a.end_date})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"edit_sort_order",children:"Sort Order"}),e.jsx(o,{id:"edit_sort_order",type:"number",value:s.sort_order,onChange:t=>i("sort_order",parseInt(t.target.value)||0),min:"0"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx("input",{id:"edit_is_active",type:"checkbox",checked:s.is_active,onChange:t=>i("is_active",t.target.checked),className:"rounded border-gray-300"}),e.jsx(l,{htmlFor:"edit_is_active",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(u,{variant:"outline",onClick:()=>{S(!1),F(null)},children:"Cancel"}),e.jsx(u,{onClick:se,disabled:C,children:C?"Updating...":"Update"})]})]})]})})]})}export{Ze as default};
